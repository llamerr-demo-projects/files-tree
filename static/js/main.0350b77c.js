/*! For license information please see main.0350b77c.js.LICENSE.txt */
(()=>{var e={6503:(e,t,n)=>{"use strict";e=n.nmd(e);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=>`\x1b[${38+e};5;${t}m`},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(t,n,r)=>`\x1b[${38+e};2;${t};${n};${r}m`};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,a]of Object.entries(r))t[n]={open:`\x1b[${a[0]}m`,close:`\x1b[${a[1]}m`},r[n]=t[n],e.set(a[0],a[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=r(),t.color.ansi16m=a(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=a(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),i=o[0],l=o[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,l)),u=0,d=l>0?i-4:i;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,o=[],i=16383,s=0,c=r-a;s<c;s+=i)o.push(l(e,s,s+i>c?c:s+i));1===a?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=o[i],r[o.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var a,o,i=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9894:e=>{"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,a=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,i=new RegExp("^"+o.source),s=new RegExp(o.source+a.source,"gu"),l=new RegExp("\\d+"+a.source,"gu"),c=(e,a)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(a={pascalCase:!1,preserveConsecutiveUppercase:!1,...a},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const o=!1===a.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(a.locale),c=!1===a.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(a.locale);if(1===e.length)return a.pascalCase?c(e):o(e);return e!==o(e)&&(e=((e,r,a)=>{let o=!1,i=!1,s=!1;for(let l=0;l<e.length;l++){const c=e[l];o&&t.test(c)?(e=e.slice(0,l)+"-"+e.slice(l),o=!1,s=i,i=!0,l++):i&&s&&n.test(c)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),s=i,i=!1,o=!0):(o=r(c)===c&&a(c)!==c,s=i,i=a(c)===c&&r(c)!==c)}return e})(e,o,c)),e=e.replace(i,""),e=a.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,o):o(e),a.pascalCase&&(e=c(e.charAt(0))+e.slice(1)),((e,t)=>(s.lastIndex=0,l.lastIndex=0,e.replace(s,((e,n)=>t(n))).replace(l,(e=>t(e)))))(e,c)};e.exports=c,e.exports.default=c},3047:e=>{"use strict";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");return t="undefined"===typeof t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,o||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,o,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,o),!0;case 6:return u.fn.call(u.context,t,r,a,o,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||i(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},446:(e,t,n)=>{var r=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return f.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,a,o,i,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=a;return r=a=void 0,c=t,i=e.apply(o,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function w(){var e=g();if(b(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-l);return d?m(n,o-(e-c)):n}(e))}function _(e){return s=void 0,f&&r?h(e):(r=a=void 0,i)}function x(){var e=g(),n=b(e);if(r=arguments,a=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(w,t),u?h(e):i}(l);if(d)return s=setTimeout(w,t),h(l)}return void 0===s&&(s=setTimeout(w,t)),i}return t=y(t)||0,v(n)&&(u=!!n.leading,o=(d="maxWait"in n)?p(y(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},x.flush=function(){return void 0===s?i:_(g())},x}},9498:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7283),a=n(2270),o=n(7349),i=()=>{},s=new a.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"===typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(a=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==a?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():a.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(s)}));n(await o)}catch(o){r(o)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,a=e.length;for(;a>0;){const o=a/2|0;let i=r+o;n(e[i],t)<=0?(r=++i,a-=o+1):a=o}return r}},7349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(115);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const a=r.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(a,0,n)}dequeue(){const e=this._queue.shift();return null===e||void 0===e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},6659:(e,t,n)=>{"use strict";const r=n(302),a=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const i=(e,t)=>new Promise(((n,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};const s=r.operation(t);s.attempt((async r=>{try{n(await e(r))}catch(c){if(!(c instanceof Error))return void i(new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`));if(c instanceof o)s.stop(),i(c.originalError);else if(c instanceof TypeError&&(l=c.message,!a.includes(l)))s.stop(),i(c);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(c,r,t);try{await t.onFailedAttempt(c)}catch(c){return void i(c)}s.retry(c)||i(s.mainError())}}var l}))}));e.exports=i,e.exports.default=i,e.exports.AbortError=o},2270:(e,t,n)=>{"use strict";const r=n(9498);class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,n)=>new Promise(((o,i)=>{if("number"!==typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const s=setTimeout((()=>{if("function"===typeof n){try{o(n())}catch(s){i(s)}return}const r=n instanceof Error?n:new a("string"===typeof n?n:`Promise timed out after ${t} milliseconds`);"function"===typeof e.cancel&&e.cancel(),i(r)}),t);r(e.then(o,i),(()=>{clearTimeout(s)}))}));e.exports=o,e.exports.default=o,e.exports.TimeoutError=a},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function D(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function ke(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=_a(t),xe(e.stateNode,e.type,t))}}function Oe(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function $e(){}var Ie=!1;function Re(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Pe(e,t,n)}finally{Ie=!1,(null!==Ee||null!==Se)&&($e(),Ce())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Ae=!1}function je(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,ze=null,De={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,a,o,i,s,l){Me=!1,Le=null,je.apply(De,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ze=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Je=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,Et,St,kt,Ot=!1,Ct=[],Pt=null,$t=null,It=null,Rt=new Map,Tt=new Map,At=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Dt(){Ot=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==$t&&Ft($t)&&($t=null),null!==It&&Ft(It)&&(It=null),Rt.forEach(zt),Tt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Bt(Pt,e),null!==$t&&Bt($t,e),null!==It&&Bt(It,e),Rt.forEach(t),Tt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var Ut=w.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function qt(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function Kt(e,t,n,r){if(Wt){var a=Zt(e,t,n,r);if(null===a)Wr(e,t,r,Xt,n),jt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Pt=Mt(Pt,e,t,n,r,a),!0;case"dragenter":return $t=Mt($t,e,t,n,r,a),!0;case"mouseover":return It=Mt(It,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Tt.set(o,Mt(Tt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&_t(o),null===(o=Zt(e,t,n,r))&&Wr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Zt(e,t,n,r){if(Xt=null,null!==(e=ya(e=_e(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Yt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(L({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var On=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(On),Pn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),$n=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),In=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Rn),An=[9,13,27,32],Nn=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Mn=u&&"TextEvent"in window&&!jn,Ln=u&&(!Nn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),zn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){Oe(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){Fr(e,0)}function Zn(e){if(K(wa(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Yn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Yn=Qn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Vn(t,Kn,e,_e(e)),Re(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function or(e,t){if("click"===e)return Zn(t)}function ir(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function kr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Or=kr("animationend"),Cr=kr("animationiteration"),Pr=kr("animationstart"),$r=kr("transitionend"),Ir=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ir.set(e,t),l(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Nr=Rr[Ar];Tr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Tr(Or,"onAnimationEnd"),Tr(Cr,"onAnimationIteration"),Tr(Pr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr($r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Dr(t,!1,e),Dr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Dr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Gt(t)){case 1:var a=Vt;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,a=_e(n),i=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=$n;break;case Or:case Cr:case Pr:l=vn;break;case $r:l=In;break;case"scroll":l=fn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Te(p,f))&&u.push(Vr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wa(l),h=null==c?s:wa(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=h,m=null,ya(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Kr(h))p++;for(h=0,m=f;m;m=Kr(m))h++;for(;0<p-h;)u=Kr(u),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==l&&Xr(i,s,l,u,!1),null!==c&&null!==d&&Xr(i,d,c,u,!0)}if("select"===(l=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Gn;else if(Wn(s))if(Jn)g=ir;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wa(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Yt="value"in(Jt=a)?Jt.value:Jt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Dn(e,t)?(e=en(),Qt=Yt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Fr(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Te(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=Te(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Te(n,o))&&i.unshift(Vr(n,l,s)):a||null!=(l=Te(n,o))&&i.push(Vr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Zr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Gr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _a(e){return e[ha]||null}var xa=[],Ea=-1;function Sa(e){return{current:e}}function ka(e){0>Ea||(e.current=xa[Ea],xa[Ea]=null,Ea--)}function Oa(e,t){Ea++,xa[Ea]=e.current,e.current=t}var Ca={},Pa=Sa(Ca),$a=Sa(!1),Ia=Ca;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){ka($a),ka(Pa)}function Na(e,t,n){if(Pa.current!==Ca)throw Error(o(168));Oa(Pa,t),Oa($a,n)}function ja(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,U(e)||"Unknown",a));return L({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ia=Pa.current,Oa(Pa,e),Oa($a,$a.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ja(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,ka($a),ka(Pa),Oa(Pa,e)):ka($a),Oa($a,n)}var Fa=null,za=!1,Da=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Ha(){if(!Da&&null!==Fa){Da=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Qe,Ha),a}finally{bt=t,Da=!1}}return null}var Ua=[],Wa=0,Va=null,qa=0,Ka=[],Xa=0,Za=null,Ga=1,Ja="";function Ya(e,t){Ua[Wa++]=qa,Ua[Wa++]=Va,Va=e,qa=t}function Qa(e,t,n){Ka[Xa++]=Ga,Ka[Xa++]=Ja,Ka[Xa++]=Za,Za=e;var r=Ga;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ga=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Ga=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Ya(e,1),Qa(e,1,0))}function to(e){for(;e===Va;)Va=Ua[--Wa],Ua[Wa]=null,qa=Ua[--Wa],Ua[Wa]=null;for(;e===Za;)Za=Ka[--Xa],Ka[Xa]=null,Ja=Ka[--Xa],Ka[Xa]=null,Ga=Ka[--Xa],Ka[Xa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Za?{id:Ga,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ca(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Sa(null),bo=null,wo=null,_o=null;function xo(){_o=wo=bo=null}function Eo(e){var t=yo.current;ka(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Co=null;function Po(e){null===Co?Co=[e]:Co.push(e)}function $o(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Po(t)):(n.next=a.next,a.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&$l)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Io(e,n)}return null===(a=r.interleaved)?(t.next=t,Po(r)):(t.next=a.next,a.next=t),r.interleaved=t,Io(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,u=c=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Do=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=No(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,a))&&(rc(t,e,a,r),Mo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=No(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,a))&&(rc(t,e,a,r),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=No(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=jo(e,a,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function Uo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function Wo(e,t,n){var r=!1,a=Ca,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(a=Ta(t)?Ia:Pa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Ca),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Do,To(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Oo(o):(o=Ta(t)?Ia:Pa.current,a.context=Ra(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ho.enqueueReplaceState(a,a.state,null),Fo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Do&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&Zo(o)===t.type)?((r=a(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case T:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?c(e,t,n,r):null;case x:return n.key===a?u(e,t,n,r):null;case T:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||j(n))return null!==a?null:d(e,t,n,r,null);Xo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,a,null);Xo(t,r)}return null}function m(a,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(a,d),ao&&Ya(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return ao&&Ya(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ya(a,m),c}function g(a,s,l,c){var u=j(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ao&&Ya(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,c))&&(s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return ao&&Ya(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ya(a,g),u}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===E&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case _:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===E){if(7===u.tag){n(r,u.sibling),(o=a(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&Zo(c)===u.type){n(r,u.sibling),(o=a(u,i.props)).ref=Ko(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===E?((o=Mc(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=jc(i.type,i.key,i.props,null,r.mode,l)).ref=Ko(r,o,i),l.return=r,r=l)}return s(r);case x:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(i,r.mode,l)).return=r,r=o}return s(r);case T:return e(r,o,(u=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(j(i))return g(r,o,i,l);Xo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Fc(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Jo=Go(!0),Yo=Go(!1),Qo={},ei=Sa(Qo),ti=Sa(Qo),ni=Sa(Qo);function ri(e){if(e===Qo)throw Error(o(174));return e}function ai(e,t){switch(Oa(ni,t),Oa(ti,e),Oa(ei,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(ei),Oa(ei,t)}function oi(){ka(ei),ka(ti),ka(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(Oa(ti,e),Oa(ei,n))}function si(e){ti.current===e&&(ka(ei),ka(ti))}var li=Sa(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ui=[];function di(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var fi=w.ReactCurrentDispatcher,hi=w.ReactCurrentBatchConfig,pi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,wi=0,_i=0;function xi(){throw Error(o(321))}function Ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Si(e,t,n,r,a,i){if(pi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bi){i=0;do{if(bi=!1,wi=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,t.updateQueue=null,fi.current=cs,e=n(r,a)}while(bi)}if(fi.current=is,t=null!==gi&&null!==gi.next,pi=0,vi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function ki(){var e=0!==wi;return wi=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Ci(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Pi(e,t){return"function"===typeof t?t(e):t}function $i(e){var t=Ci(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((pi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,mi.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ii(e){var t=Ci(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ri(){}function Ti(e,t){var n=mi,r=Ci(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ws=!0),r=r.queue,Wi(ji.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,zi(9,Ni.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(o(349));0!==(30&pi)||Ai(n,t,a)}return a}function Ai(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Mi(t)&&Li(e)}function ji(e,t,n){return n((function(){Mi(t)&&Li(e)}))}function Mi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Li(e){var t=Io(e,1);null!==t&&rc(t,e,1,-1)}function Fi(e){var t=Oi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Di(){return Ci().memoizedState}function Bi(e,t,n,r){var a=Oi();mi.flags|=e,a.memoizedState=zi(1|t,n,void 0,void 0===r?null:r)}function Hi(e,t,n,r){var a=Ci();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&Ei(r,i.deps))return void(a.memoizedState=zi(t,n,o,r))}mi.flags|=e,a.memoizedState=zi(1|t,n,o,r)}function Ui(e,t){return Bi(8390656,8,e,t)}function Wi(e,t){return Hi(2048,8,e,t)}function Vi(e,t){return Hi(4,2,e,t)}function qi(e,t){return Hi(4,4,e,t)}function Ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hi(4,4,Ki.bind(null,t,e),n)}function Zi(){}function Gi(e,t){var n=Ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ji(e,t){var n=Ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ei(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yi(e,t,n){return 0===(21&pi)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,Ll|=n,e.baseState=!0),t)}function Qi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=hi.transition;hi.transition={};try{e(!1),t()}finally{bt=n,hi.transition=r}}function es(){return Ci().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=$o(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Po(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=$o(e,t,a,r))&&(rc(n,e,r,a=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:Oo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},ss={readContext:Oo,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:Fi,useDebugValue:Zi,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Fi(!1),t=e[0];return e=Qi.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Oi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&pi)||Ai(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ui(ji.bind(null,r,i,e),[e]),r.flags|=2048,zi(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Il.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Ga&~(1<<32-it(Ga)-1)).toString(32)+n),0<(n=wi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_i++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Oo,useCallback:Gi,useContext:Oo,useEffect:Wi,useImperativeHandle:Xi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Ji,useReducer:$i,useRef:Di,useState:function(){return $i(Pi)},useDebugValue:Zi,useDeferredValue:function(e){return Yi(Ci(),gi.memoizedState,e)},useTransition:function(){return[$i(Pi)[0],Ci().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ti,useId:es,unstable_isNewReconciler:!1},cs={readContext:Oo,useCallback:Gi,useContext:Oo,useEffect:Wi,useImperativeHandle:Xi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Ji,useReducer:Ii,useRef:Di,useState:function(){return Ii(Pi)},useDebugValue:Zi,useDeferredValue:function(e){var t=Ci();return null===gi?t.memoizedState=e:Yi(t,gi.memoizedState,e)},useTransition:function(){return[Ii(Pi)[0],Ci().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ti,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=No(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),fs(0,t)},n}function ms(e,t,n){(n=No(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=No(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Jo(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var o=t.ref;return ko(t,a),r=Si(e,t,n,r,o,a),n=ki(),null===e||ws?(ao&&n&&eo(t),t.flags|=1,_s(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Es(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Nl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Nl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oa(Nl,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oa(Nl,Al),Al|=r;return _s(e,t,a,n),t.child}function Os(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,a){var o=Ta(n)?Ia:Pa.current;return o=Ra(t,o),ko(t,a),n=Si(e,t,n,r,o,a),r=ki(),null===e||ws?(ao&&r&&eo(t),t.flags|=1,_s(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Ps(e,t,n,r,a){if(Ta(n)){var o=!0;Ma(t)}else o=!1;if(ko(t,a),null===t.stateNode)Ws(e,t),Wo(t,n,r),qo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Ra(t,c=Ta(n)?Ia:Pa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&Vo(t,i,r,c),Ro=!1;var f=t.memoizedState;i.state=f,Fo(t,r,i,a),l=t.memoizedState,s!==r||f!==l||$a.current||Ro?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(s=Ro||Uo(t,n,s,r,f,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ao(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),i.props=c,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=Ra(t,l=Ta(n)?Ia:Pa.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&Vo(t,i,r,l),Ro=!1,f=t.memoizedState,i.state=f,Fo(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||$a.current||Ro?("function"===typeof h&&(Bo(t,n,h,r),p=t.memoizedState),(c=Ro||Uo(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return $s(e,t,n,r,o,a)}function $s(e,t,n,r,a,o){Os(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Vs(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Na(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Na(0,t.context,!1),ai(e,t.containerInfo)}function Rs(e,t,n,r,a){return po(),mo(a),t.flags|=256,_s(e,t,n,r),t.child}var Ts,As,Ns,js,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,a=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Oa(li,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):zs(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Ds(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Mc(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return Ds(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ds(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Il)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Io(e,a),rc(r,e,a,-1))}return gc(),Ds(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Xa++]=Ga,Ka[Xa++]=Ja,Ka[Xa++]=Za,Ga=e.id,Ja=e.overflow,Za=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Nc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Nc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Nc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Hs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Us(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oa(li,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ci(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ta(t.type)&&Aa(),Ks(t),null;case 3:return r=t.stateNode,oi(),ka($a),ka(Pa),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),As(e,t),Ks(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ri(ei.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[ha]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<jr.length;a++)zr(jr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Q(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<jr.length;a++)zr(jr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":G(e,r),a=Z(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in ye(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&zr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Ks(t),null;case 13:if(ka(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),i=!1}else null!==oo&&(sc(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===jl&&(jl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oi(),As(e,t),null===e&&Hr(t.stateNode.containerInfo),Ks(t),null;case 10:return Eo(t.type._context),Ks(t),null;case 19:if(ka(li),null===(i=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qs(i,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ci(e))){for(t.flags|=128,qs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oa(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Ul&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ci(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Ks(t),null}else 2*Je()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=li.current,Oa(li,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Ta(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),ka($a),ka(Pa),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(ka(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(li),null;case 4:return oi(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ns=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Js=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,a=fl;dl=null,hl(e,t,n),fl=a,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ht(e)):la(dl,n.stateNode));break;case 4:r=dl,a=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hl(e,t,n),Js=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=$c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(i,s,a),dl=null,fl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),be(l,s);var u=be(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(l){case"input":Y(a,i);break;case"textarea":oe(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,gl(t,e),Js=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Gs;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Gs;var c=Js;if(Gs=i,(Js=l)&&!c)for(Qs=a;null!==Qs;)l=(i=Qs).child,22===i.tag&&null!==i.memoizedState?El(a):null!==l?(l.return=i,Qs=l):El(a);for(;null!==o;)Qs=o,wl(o,t,n),o=o.sibling;Qs=a,Gs=s,Js=c}_l(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Qs=o):_l(e)}}function _l(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&zo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ol(t)}catch(h){kc(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function El(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,kl=Math.ceil,Ol=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,$l=0,Il=null,Rl=null,Tl=0,Al=0,Nl=Sa(0),jl=0,Ml=null,Ll=0,Fl=0,zl=0,Dl=null,Bl=null,Hl=0,Ul=1/0,Wl=null,Vl=!1,ql=null,Kl=null,Xl=!1,Zl=null,Gl=0,Jl=0,Yl=null,Ql=-1,ec=0;function tc(){return 0!==(6&$l)?Je():-1!==Ql?Ql:Ql=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&$l)&&0!==Tl?Tl&-Tl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&$l)&&e===Il||(e===Il&&(0===(2&$l)&&(Fl|=n),4===jl&&lc(e,Tl)),ac(e,r),1===n&&0===$l&&0===(1&t.mode)&&(Ul=Je()+500,za&&Ha()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Il?Tl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){za=!0,Ba(e)}(cc.bind(null,e)):Ba(cc.bind(null,e)),ia((function(){0===(6&$l)&&Ha()})),n=null;else{switch(wt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,ec=0,0!==(6&$l))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=$l;$l|=2;var i=mc();for(Il===e&&Tl===t||(Wl=null,Ul=Je()+500,hc(e,t));;)try{bc();break}catch(l){pc(e,l)}xo(),Ol.current=i,$l=a,null!==Rl?t=0:(Il=null,Tl=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,hc(e,0),lc(e,r),ac(e,Je()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t))throw n=Ml,hc(e,0),lc(e,r),ac(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Hl+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Bl,Wl),t);break}xc(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Bl,Wl),r);break}xc(e,Bl,Wl);break;default:throw Error(o(329))}}}return ac(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&$l))throw Error(o(327));Ec();var t=ft(e,0);if(0===(1&t))return ac(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),lc(e,t),ac(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Wl),ac(e,Je()),null}function uc(e,t){var n=$l;$l|=1;try{return e(t)}finally{0===($l=n)&&(Ul=Je()+500,za&&Ha())}}function dc(e){null!==Zl&&0===Zl.tag&&0===(6&$l)&&Ec();var t=$l;$l|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&($l=t))&&Ha()}}function fc(){Al=Nl.current,ka(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:oi(),ka($a),ka(Pa),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:ka(li);break;case 10:Eo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Il=e,Rl=e=Nc(e.current,null),Tl=Al=t,jl=0,Ml=null,zl=Fl=Ll=0,Bl=Dl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(xo(),fi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(pi=0,vi=gi=mi=null,bi=!1,wi=0,Cl.current=null,null===n||null===n.return){jl=1,Ml=t,Rl=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(i,u,t),gc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}i=c=us(c,l),4!==jl&&(jl=2),null===Dl?Dl=[i]:Dl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,ps(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}_c(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Ol.current;return Ol.current=is,null===e?is:e}function gc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Il||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Il,Tl)}function vc(e,t){var n=$l;$l|=2;var r=mc();for(Il===e&&Tl===t||(Wl=null,hc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(xo(),$l=n,Ol.current=r,null!==Rl)throw Error(o(261));return Il=null,Tl=0,jl}function yc(){for(;null!==Rl;)wc(Rl)}function bc(){for(;null!==Rl&&!Ze();)wc(Rl)}function wc(e){var t=Sl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Al)))return void(Rl=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return jl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===jl&&(jl=5)}function xc(e,t,n){var r=bt,a=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Zl);if(0!==(6&$l))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Il&&(Rl=Il=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ic(tt,(function(){return Ec(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=$l;$l|=4,Cl.current=null,function(e,t){if(ea=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==i||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=s),h===i&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Ge(),$l=l,bt=s,Pl.transition=i}else e.current=n;if(Xl&&(Xl=!1,Zl=e,Gl=a),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&Ec(),i=e.pendingLanes,0!==(1&i)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Ha()}(e,t,n,r)}finally{Pl.transition=a,bt=r}return null}function Ec(){if(null!==Zl){var e=wt(Gl),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Gl=0,0!==(6&$l))throw Error(o(331));var a=$l;for($l|=4,Qs=e.current;null!==Qs;){var i=Qs,s=i.child;if(0!==(16&Qs.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(il(d),d===u){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(i=Qs).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Qs=y;break e}Qs=i.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(x){kc(l,l.return,x)}if(l===s){Qs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qs=_;break e}Qs=l.return}}if($l=a,Ha(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Sc(e,t,n){e=jo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=jo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Tl&n)===n&&(4===jl||3===jl&&(130023424&Tl)===Tl&&500>Je()-Hl?hc(e,0):zl|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Io(e,t))&&(vt(e,t,n),ac(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function $c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Rc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,a,i,t);case S:s=8,a|=8;break;case k:return(e=Tc(12,n,t,2|a)).elementType=k,e.lanes=i,e;case $:return(e=Tc(13,n,t,a)).elementType=$,e.lanes=i,e;case I:return(e=Tc(19,n,t,a)).elementType=I,e.lanes=i,e;case A:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case C:s=9;break e;case P:s=11;break e;case R:s=14;break e;case T:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tc(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,o,i,s,l){return e=new Dc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Tc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},To(o),e}function Hc(e){if(!e)return Ca;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ta(n))return ja(e,n,t)}return t}function Uc(e,t,n,r,a,o,i,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=Hc(null),n=e.current,(o=No(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,jo(n,o,a),e.current.lanes=a,vt(e,a,r),ac(e,r),e}function Wc(e,t,n,r){var a=t.current,o=tc(),i=nc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=No(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(a,t,i))&&(rc(e,a,i,o),Mo(e,a,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||$a.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Is(t),po();break;case 5:ii(t);break;case 1:Ta(t.type)&&Ma(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Oa(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oa(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Oa(li,1&li.current),null!==(e=Vs(e,t,n))?e.sibling:null);Oa(li,1&li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Vs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ao&&0!==(1048576&t.flags)&&Qa(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Ra(t,Pa.current);ko(t,n),a=Si(null,t,r,e,a,n);var i=ki();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,To(t),a.updater=Ho,t.stateNode=a,a._reactInternals=t,qo(t,r,e,n),t=$s(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(r),e=vo(r,e),a){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ps(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Ao(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rs(e,t,r,n,a=us(Error(o(423)),t));break e}if(r!==a){t=Rs(e,t,r,n,a=us(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Vs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Os(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Oa(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!$a.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=No(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),So(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ko(t,n),r=r(a=Oo(a)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),Es(e,t,r,a=vo(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),Ws(e,t),t.tag=1,Ta(r)?(e=!0,Ma(t)):e=!1,ko(t,n),Wo(t,r,a),qo(t,r,a,n),$s(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vc(i);o.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=i,e[pa]=i.current,Hr(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,a,r);return Vc(i)}Gc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Gc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Je()),0===(6&$l)&&(Ul=Je()+500,Ha()))}break;case 13:dc((function(){var t=Io(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Io(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(o(90));K(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uc,$e=dc;var tu={usingClientEntryPoint:!1,Events:[ba,wa,_a,Oe,Ce,uc]},nu={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(ru),ot=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",a=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case i:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return v(e)===o},t.isMemo=function(e){return v(e)===p}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:E.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function $(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+P(l,0):o,_(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),$(i,t,a,"",(function(e){return e}))):null!=i&&(O(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+P(s=e[c],c);l+=$(s,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=$(s=s.value,t,a,u=o+P(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return $(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},A={transition:null},N={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:A,ReactCurrentOwner:E};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},302:(e,t,n)=>{e.exports=n(3944)},3944:(e,t,n)=>{var r=n(5790);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],a=0;a<t.retries;a++)r.push(this.createTimeout(a,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(a,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var a in r=[],e)"function"===typeof e[a]&&r.push(a);for(var o=0;o<r.length;o++){var i=r[o],s=e[i];e[i]=function(r){var a=t.operation(n),o=Array.prototype.slice.call(arguments,1),i=o.pop();o.push((function(e){a.retry(e)||(e&&(arguments[0]=a.mainError()),i.apply(this,arguments))})),a.attempt((function(){r.apply(e,o)}))}.bind(e,s),e[i].options=n}}},5790:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var a=this._errors[r],o=a.message,i=(e[o]||0)+1;e[o]=i,i>=n&&(t=a,n=i)}return t}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A(x);else{var t=r(u);null!==t&&N(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(O),O=-1),p=!0;var o=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!$());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&a(c),w(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&N(_,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,O=-1,C=5,P=-1;function $(){return!(t.unstable_now()-P<C)}function I(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,T=R.port2;R.port1.onmessage=I,E=function(){T.postMessage(null)}}else E=function(){v(I,0)};function A(e){k=e,S||(S=!0,E())}function N(e,n){O=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(O),O=-1):g=!0,N(_,o-i))):(e.sortIndex=s,n(c,e),m||p||(m=!0,A(x))),e},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3383:(e,t,n)=>{const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"===typeof e)try{e=new u(e,this.options)}catch(t){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=a;const o=n(6272),{safeRe:i,t:s}=n(1323),l=n(538),c=n(1411),u=n(8207),d=n(7458)},7458:(e,t,n)=>{const r=/\s+/g;class a{constructor(e,t){if(t=i(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!v(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&y(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=o.get(t);if(n)return n;const r=this.options.loose,a=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(a,I(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],f),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],h),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],p),l("caret trim",e);let i=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>$(e,this.options)));r&&(i=i.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",i);const c=new Map,y=i.map((e=>new s(e,this.options)));for(const o of y){if(v(o))return[o];c.set(o.value,o)}c.size>1&&c.has("")&&c.delete("");const b=[...c.values()];return o.set(t,b),b}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some((n=>b(n,t)&&e.set.some((e=>b(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"===typeof e)try{e=new c(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(R(this.set[n],e,this.options))return!0;return!1}}e.exports=a;const o=new(n(4371)),i=n(6272),s=n(3383),l=n(1411),c=n(8207),{safeRe:u,t:d,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:p}=n(1323),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(6225),v=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,b=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every((e=>a.intersects(e,t))),a=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=S(e,t),l("caret",e),e=x(e,t),l("tildes",e),e=O(e,t),l("xrange",e),e=P(e,t),l("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,((t,n,r,a,o)=>{let i;return l("tilde",e,t,n,r,a,o),_(n)?i="":_(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:_(a)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(l("replaceTilde pr",o),i=`>=${n}.${r}.${a}-${o} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",i),i}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>k(e,t))).join(" "),k=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,a,o,i)=>{let s;return l("caret",e,t,n,a,o,i),_(n)?s="":_(a)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:_(o)?s="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:i?(l("replaceCaret pr",i),s="0"===n?"0"===a?`>=${n}.${a}.${o}-${i} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}-${i} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o}-${i} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===a?`>=${n}.${a}.${o}${r} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o} <${+n+1}.0.0-0`),l("caret return",s),s}))},O=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>C(e,t))).join(" ")),C=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,((n,r,a,o,i,s)=>{l("xRange",e,n,r,a,o,i,s);const c=_(a),u=c||_(o),d=u||_(i),f=d;return"="===r&&f&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(u&&(o=0),i=0,">"===r?(r=">=",u?(a=+a+1,o=0,i=0):(o=+o+1,i=0)):"<="===r&&(r="<",u?a=+a+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+a}.${o}.${i}${s}`):u?n=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${o}.0${s} <${a}.${+o+1}.0-0`),l("xRange return",n),n}))},P=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),$=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),I=e=>(t,n,r,a,o,i,s,l,c,u,d,f)=>`${n=_(r)?"":_(a)?`>=${r}.0.0${e?"-0":""}`:_(o)?`>=${r}.${a}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=_(c)?"":_(u)?`<${+c+1}.0.0-0`:_(d)?`<${c}.${+u+1}.0-0`:f?`<=${c}.${u}.${d}-${f}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),R=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},8207:(e,t,n)=>{const r=n(1411),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=n(6225),{safeRe:i,t:s}=n(1323),l=n(6272),{compareIdentifiers:c}=n(9520);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!==typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"===typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},4747:(e,t,n)=>{const r=n(4501);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},538:(e,t,n)=>{const r=n(7814),a=n(9930),o=n(6187),i=n(9896),s=n(7508),l=n(4369);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return o(e,n,c);case">=":return i(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},7525:(e,t,n)=>{const r=n(8207),a=n(4501),{safeRe:o,t:i}=n(1323);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${s}.${l}.${c}${u}${d}`,t)}},8356:(e,t,n)=>{const r=n(8207);e.exports=(e,t,n)=>{const a=new r(e,n),o=new r(t,n);return a.compare(o)||a.compareBuild(o)}},5094:(e,t,n)=>{const r=n(3193);e.exports=(e,t)=>r(e,t,!0)},3193:(e,t,n)=>{const r=n(8207);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},6627:(e,t,n)=>{const r=n(4501);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),o=n.compare(a);if(0===o)return null;const i=o>0,s=i?n:a,l=i?a:n,c=!!s.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?s.patch?"patch":s.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==a.major?u+"major":n.minor!==a.minor?u+"minor":n.patch!==a.patch?u+"patch":"prerelease"}},7814:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>0===r(e,t,n)},6187:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)>0},9896:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)>=0},3974:(e,t,n)=>{const r=n(8207);e.exports=(e,t,n,a,o)=>{"string"===typeof n&&(o=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,o).version}catch(i){return null}}},7508:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)<0},4369:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)<=0},7963:(e,t,n)=>{const r=n(8207);e.exports=(e,t)=>new r(e,t).major},1647:(e,t,n)=>{const r=n(8207);e.exports=(e,t)=>new r(e,t).minor},9930:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>0!==r(e,t,n)},4501:(e,t,n)=>{const r=n(8207);e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(a){if(!n)return null;throw a}}},4760:(e,t,n)=>{const r=n(8207);e.exports=(e,t)=>new r(e,t).patch},3390:(e,t,n)=>{const r=n(4501);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},3033:(e,t,n)=>{const r=n(3193);e.exports=(e,t,n)=>r(t,e,n)},8020:(e,t,n)=>{const r=n(8356);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},7263:(e,t,n)=>{const r=n(7458);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(a){return!1}return t.test(e)}},8644:(e,t,n)=>{const r=n(8356);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},2192:(e,t,n)=>{const r=n(4501);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},500:(e,t,n)=>{const r=n(1323),a=n(6225),o=n(8207),i=n(9520),s=n(4501),l=n(2192),c=n(4747),u=n(3974),d=n(6627),f=n(7963),h=n(1647),p=n(4760),m=n(3390),g=n(3193),v=n(3033),y=n(5094),b=n(8356),w=n(8644),_=n(8020),x=n(6187),E=n(7508),S=n(7814),k=n(9930),O=n(9896),C=n(4369),P=n(538),$=n(7525),I=n(3383),R=n(7458),T=n(7263),A=n(4074),N=n(2285),j=n(3359),M=n(1390),L=n(1061),F=n(7724),z=n(256),D=n(7497),B=n(7941),H=n(536),U=n(7853);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:f,minor:h,patch:p,prerelease:m,compare:g,rcompare:v,compareLoose:y,compareBuild:b,sort:w,rsort:_,gt:x,lt:E,eq:S,neq:k,gte:O,lte:C,cmp:P,coerce:$,Comparator:I,Range:R,satisfies:T,toComparators:A,maxSatisfying:N,minSatisfying:j,minVersion:M,validRange:L,outside:F,gtr:z,ltr:D,intersects:B,simplifyRange:H,subset:U,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},6225:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},1411:e=>{const t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};e.exports=t},9520:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4371:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},6272:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!==typeof e?t:e:n},1323:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:o}=n(6225),i=n(1411),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[f,a]],p=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=d++;i(e,a,t),u[e]=a,c[a]=t,s[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),p("FULL",`^${c[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),p("LOOSE",`^${c[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),p("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",c[u.COERCE],!0),p("COERCERTLFULL",c[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},256:(e,t,n)=>{const r=n(7724);e.exports=(e,t,n)=>r(e,t,">",n)},7941:(e,t,n)=>{const r=n(7458);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},7497:(e,t,n)=>{const r=n(7724);e.exports=(e,t,n)=>r(e,t,"<",n)},2285:(e,t,n)=>{const r=n(8207),a=n(7458);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(l){return null}return e.forEach((e=>{s.test(e)&&(o&&-1!==i.compare(e)||(o=e,i=new r(o,n)))})),o}},3359:(e,t,n)=>{const r=n(8207),a=n(7458);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(l){return null}return e.forEach((e=>{s.test(e)&&(o&&1!==i.compare(e)||(o=e,i=new r(o,n)))})),o}},1390:(e,t,n)=>{const r=n(8207),a=n(7458),o=n(6187);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let a=0;a<e.set.length;++a){const t=e.set[a];let i=null;t.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||n&&!o(n,i)||(n=i)}return n&&e.test(n)?n:null}},7724:(e,t,n)=>{const r=n(8207),a=n(3383),{ANY:o}=a,i=n(7458),s=n(7263),l=n(6187),c=n(7508),u=n(4369),d=n(9896);e.exports=(e,t,n,f)=>{let h,p,m,g,v;switch(e=new r(e,f),t=new i(t,f),n){case">":h=l,p=u,m=c,g=">",v=">=";break;case"<":h=c,p=d,m=l,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,f))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null,s=null;if(n.forEach((e=>{e.semver===o&&(e=new a(">=0.0.0")),i=i||e,s=s||e,h(e.semver,i.semver,f)?i=e:m(e.semver,s.semver,f)&&(s=e)})),i.operator===g||i.operator===v)return!1;if((!s.operator||s.operator===g)&&p(e,s.semver))return!1;if(s.operator===v&&m(e,s.semver))return!1}return!0}},536:(e,t,n)=>{const r=n(7263),a=n(3193);e.exports=(e,t,n)=>{const o=[];let i=null,s=null;const l=e.sort(((e,t)=>a(e,t,n)));for(const a of l){r(a,t,n)?(s=a,i||(i=a)):(s&&o.push([i,s]),s=null,i=null)}i&&o.push([i,null]);const c=[];for(const[r,a]of o)r===a?c.push(r):a||r!==l[0]?a?r===l[0]?c.push(`<=${a}`):c.push(`${r} - ${a}`):c.push(`>=${r}`):c.push("*");const u=c.join(" || "),d="string"===typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},7853:(e,t,n)=>{const r=n(7458),a=n(3383),{ANY:o}=a,i=n(7263),s=n(3193),l=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}const r=new Set;let a,u,h,p,m,g,v;for(const o of e)">"===o.operator||">="===o.operator?a=d(a,o,n):"<"===o.operator||"<="===o.operator?u=f(u,o,n):r.add(o.semver);if(r.size>1)return null;if(a&&u){if(h=s(a.semver,u.semver,n),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==u.operator))return null}for(const o of r){if(a&&!i(o,String(a),n))return null;if(u&&!i(o,String(u),n))return null;for(const e of t)if(!i(o,String(e),n))return!1;return!0}let y=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const o of t){if(v=v||">"===o.operator||">="===o.operator,g=g||"<"===o.operator||"<="===o.operator,a)if(b&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===b.major&&o.semver.minor===b.minor&&o.semver.patch===b.patch&&(b=!1),">"===o.operator||">="===o.operator){if(p=d(a,o,n),p===o&&p!==a)return!1}else if(">="===a.operator&&!i(a.semver,String(o),n))return!1;if(u)if(y&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===y.major&&o.semver.minor===y.minor&&o.semver.patch===y.patch&&(y=!1),"<"===o.operator||"<="===o.operator){if(m=f(u,o,n),m===o&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(o),n))return!1;if(!o.operator&&(u||a)&&0!==h)return!1}return!(a&&g&&!u&&0!==h)&&(!(u&&v&&!a&&0!==h)&&(!b&&!y))},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},4074:(e,t,n)=>{const r=n(7458);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},1061:(e,t,n)=>{const r=n(7458);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(n){return null}}},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{JsonPatchError:()=>qx,_areEquals:()=>nE,applyOperation:()=>Jx,applyPatch:()=>Yx,applyReducer:()=>Qx,deepClone:()=>Kx,getValueByPointer:()=>Gx,validate:()=>tE,validator:()=>eE});var t={};n.r(t),n.d(t,{xX:()=>AO,qA:()=>NO,LG:()=>RO,cH:()=>TO,v3:()=>MO,v7:()=>jO,fK:()=>zO,i7:()=>IO,PO:()=>HO,m_:()=>FO,Ll:()=>LO,OE:()=>BO,Is:()=>DO});var r={};n.r(r),n.d(r,{xX:()=>Q$,qA:()=>eI,LG:()=>J$,cH:()=>Y$,v3:()=>nI,v7:()=>tI,fK:()=>oI,pf:()=>uI,PO:()=>lI,k5:()=>cI,m_:()=>aI,vc:()=>G$,Ll:()=>rI,OE:()=>sI,Is:()=>iI});var a={};n.r(a),n.d(a,{xX:()=>GN,qA:()=>JN,LG:()=>XN,cH:()=>ZN,pJ:()=>KN,v3:()=>QN,v7:()=>YN,fK:()=>nj,PO:()=>oj,m_:()=>tj,Ll:()=>ej,OE:()=>aj,Is:()=>rj});var o=n(5043),i=n.t(o,2),s=n(4391);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||c(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(8139),h=n.n(f);function p(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}const m="anticon",g=o.createContext({getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:m}),{Consumer:v}=g,y=o.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var b=n(2086);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(w(e)):(0,b.isFragment)(e)&&e.props?n=n.concat(w(e.props.children,t)):n.push(e))})),n}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}const x={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function E(e){if(Array.isArray(e))return e}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return E(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||u(e,t)||S()}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function P(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function R(e){return Math.min(1,Math.max(0,e))}function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e){return e<=1?"".concat(100*Number(e),"%"):e}function N(e){return 1===e.length?"0"+e:String(e)}function j(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,i=0,s=(r+a)/2;if(r===a)i=0,o=0;else{var l=r-a;switch(i=s>.5?l/(2-r-a):l/(r+a),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:i,l:s}}function M(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function L(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,i=r,s=r-a,l=0===r?0:s/r;if(r===a)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:i}}function F(e,t,n,r){var a=[N(Math.round(e).toString(16)),N(Math.round(t).toString(16)),N(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function z(e){return Math.round(255*parseFloat(e)).toString(16)}function D(e){return B(e)/255}function B(e){return parseInt(e,16)}var H={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function U(e){var t,n,r,a={r:0,g:0,b:0},o=1,i=null,s=null,l=null,c=!1,u=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(H[e])e=H[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=K.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=K.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=K.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=K.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=K.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=K.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=K.hex8.exec(e),n)return{r:B(n[1]),g:B(n[2]),b:B(n[3]),a:D(n[4]),format:t?"name":"hex8"};if(n=K.hex6.exec(e),n)return{r:B(n[1]),g:B(n[2]),b:B(n[3]),format:t?"name":"hex"};if(n=K.hex4.exec(e),n)return{r:B(n[1]+n[1]),g:B(n[2]+n[2]),b:B(n[3]+n[3]),a:D(n[4]+n[4]),format:t?"name":"hex8"};if(n=K.hex3.exec(e),n)return{r:B(n[1]+n[1]),g:B(n[2]+n[2]),b:B(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(X(e.r)&&X(e.g)&&X(e.b)?(t=e.r,n=e.g,r=e.b,a={r:255*I(t,255),g:255*I(n,255),b:255*I(r,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):X(e.h)&&X(e.s)&&X(e.v)?(i=A(e.s),s=A(e.v),a=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=Math.floor(e),a=e-r,o=n*(1-t),i=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6;return{r:255*[n,i,o,o,s,n][l],g:255*[s,n,n,i,o,o][l],b:255*[o,o,s,n,n,i][l]}}(e.h,i,s),c=!0,u="hsv"):X(e.h)&&X(e.s)&&X(e.l)&&(i=A(e.s),l=A(e.l),a=function(e,t,n){var r,a,o;if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)a=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,s=2*n-i;r=M(s,i,e+1/3),a=M(s,i,e),o=M(s,i,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,i,l),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=T(o),{ok:c,format:e.format||u,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:o}}var W="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),V="[\\s|\\(]+(".concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")\\s*\\)?"),q="[\\s|\\(]+(".concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")\\s*\\)?"),K={CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function X(e){return Boolean(K.CSS_UNIT.exec(String(e)))}var Z=2,G=.16,J=.05,Y=.05,Q=.15,ee=5,te=4,ne=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function re(e){var t=L(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function ae(e){var t=e.r,n=e.g,r=e.b;return"#".concat(F(t,n,r,!1))}function oe(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Z*t:Math.round(e.h)+Z*t:n?Math.round(e.h)+Z*t:Math.round(e.h)-Z*t)<0?r+=360:r>=360&&(r-=360),r}function ie(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-G*t:t===te?e.s+G:e.s+J*t)>1&&(r=1),n&&t===ee&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function se(e,t,n){var r;return(r=n?e.v+Y*t:e.v-Q*t)>1&&(r=1),Number(r.toFixed(2))}function le(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=U(e),a=ee;a>0;a-=1){var o=re(r),i=ae(U({h:oe(o,a,!0),s:ie(o,a,!0),v:se(o,a,!0)}));n.push(i)}n.push(ae(r));for(var s=1;s<=te;s+=1){var l=re(r),c=ae(U({h:oe(l,s),s:ie(l,s),v:se(l,s)}));n.push(c)}return"dark"===t.theme?ne.map((function(e){var r=e.index,a=e.opacity;return ae(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(U(t.backgroundColor||"#141414"),U(n[r]),100*a))})):n}var ce=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];ce.primary=ce[5];var ue=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];ue.primary=ue[5];var de=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];de.primary=de[5];var fe=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];fe.primary=fe[5];var he=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];he.primary=he[5];var pe=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];pe.primary=pe[5];var me=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];me.primary=me[5];var ge=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];ge.primary=ge[5];var ve=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];ve.primary=ve[5];var ye=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];ye.primary=ye[5];var be=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];be.primary=be[5];var we=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];we.primary=we[5];var _e=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];_e.primary=_e[5];var xe=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];xe.primary=xe[5];var Ee=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Ee.primary=Ee[5];var Se=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Se.primary=Se[5];var ke=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];ke.primary=ke[5];var Oe=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Oe.primary=Oe[5];var Ce=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Ce.primary=Ce[5];var Pe=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Pe.primary=Pe[5];var $e=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];$e.primary=$e[5];var Ie=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Ie.primary=Ie[5];var Re=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Re.primary=Re[5];var Te=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Te.primary=Te[5];var Ae=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Ae.primary=Ae[5];var Ne=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Ne.primary=Ne[5];const je=(0,o.createContext)({});function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var ze="data-rc-order",De="data-rc-priority",Be="rc-util-key",He=new Map;function Ue(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):Be}function We(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ve(e){return Array.from((He.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Fe())return null;var n=t.csp,r=t.prepend,a=t.priority,o=void 0===a?0:a,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===i,l=document.createElement("style");l.setAttribute(ze,i),s&&o&&l.setAttribute(De,"".concat(o)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var c=We(t),u=c.firstChild;if(r){if(s){var d=(t.styles||Ve(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(ze)))return!1;var t=Number(e.getAttribute(De)||0);return o>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=We(t);return(t.styles||Ve(n)).find((function(n){return n.getAttribute(Ue(t))===e}))}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ke(e,t);n&&We(t).removeChild(n)}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=We(n),a=Ve(r),o=Le(Le({},n),{},{styles:a});!function(e,t){var n=He.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=qe("",t),a=r.parentNode;He.set(e,a),e.removeChild(r)}}(r,o);var i=Ke(t,o);if(i){var s,l,c;if(null!==(s=o.csp)&&void 0!==s&&s.nonce&&i.nonce!==(null===(l=o.csp)||void 0===l?void 0:l.nonce))i.nonce=null===(c=o.csp)||void 0===c?void 0:c.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var u=qe(e,o);return u.setAttribute(Ue(o),t),u}function Ge(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Je(e){return function(e){return Ge(e)instanceof ShadowRoot}(e)?Ge(e):null}var Ye={},Qe=[];function et(e,t){}function tt(e,t){}function nt(e,t,n){t||Ye[n]||(e(!1,n),Ye[n]=!0)}function rt(e,t){nt(et,e,t)}rt.preMessage=function(e){Qe.push(e)},rt.resetWarned=function(){Ye={}},rt.noteOnce=function(e,t){nt(tt,e,t)};const at=rt;function ot(e){return"object"===O(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===O(e.icon)||"function"===typeof e.icon)}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=r;return t}),{})}function st(e,t,n){return n?o.createElement(e.tag,Le(Le({key:t},it(e.attrs)),n),(e.children||[]).map((function(n,r){return st(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):o.createElement(e.tag,Le({key:t},it(e.attrs)),(e.children||[]).map((function(n,r){return st(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function lt(e){return le(e)[0]}function ct(e){return e?Array.isArray(e)?e:[e]:[]}var ut=["icon","className","onClick","style","primaryColor","secondaryColor"],dt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ft=function(e){var t,n,r=e.icon,a=e.className,i=e.onClick,s=e.style,l=e.primaryColor,c=e.secondaryColor,u=$(e,ut),d=o.useRef(),f=dt;if(l&&(f={primaryColor:l,secondaryColor:c||lt(l)}),function(e){var t=(0,o.useContext)(je),n=t.csp,r=t.prefixCls,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(a=a.replace(/anticon/g,r)),(0,o.useEffect)((function(){var t=Je(e.current);Ze(a,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(d),t=ot(r),n="icon should be icon definiton, but got ".concat(r),at(t,"[@ant-design/icons] ".concat(n)),!ot(r))return null;var h=r;return h&&"function"===typeof h.icon&&(h=Le(Le({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),st(h.icon,"svg-".concat(h.name),Le(Le({className:a,onClick:i,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};ft.displayName="IconReact",ft.getTwoToneColors=function(){return Le({},dt)},ft.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;dt.primaryColor=t,dt.secondaryColor=n||lt(t),dt.calculated=!!n};const ht=ft;function pt(e){var t=k(ct(e),2),n=t[0],r=t[1];return ht.setTwoToneColors({primaryColor:n,secondaryColor:r})}var mt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];pt(ve.primary);var gt=o.forwardRef((function(e,t){var n=e.className,r=e.icon,a=e.spin,i=e.rotate,s=e.tabIndex,l=e.onClick,c=e.twoToneColor,u=$(e,mt),d=o.useContext(je),f=d.prefixCls,p=void 0===f?"anticon":f,m=d.rootClassName,g=h()(m,p,P(P({},"".concat(p,"-").concat(r.name),!!r.name),"".concat(p,"-spin"),!!a||"loading"===r.name),n),v=s;void 0===v&&l&&(v=-1);var y=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,b=k(ct(c),2),w=b[0],x=b[1];return o.createElement("span",_({role:"img","aria-label":r.name},u,{ref:t,tabIndex:v,onClick:l,className:g}),o.createElement(ht,{icon:r,primaryColor:w,secondaryColor:x,style:y}))}));gt.displayName="AntdIcon",gt.getTwoToneColor=function(){var e=ht.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},gt.setTwoToneColor=pt;const vt=gt;var yt=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:x}))};const bt=o.forwardRef(yt);const wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var _t=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:wt}))};const xt=o.forwardRef(_t);const Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var St=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Et}))};const kt=o.forwardRef(St),Ot=e=>!isNaN(parseFloat(e))&&isFinite(e);var Ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Pt={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},$t=o.createContext({}),It=(()=>{let e=0;return function(){return e+=1,`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}${e}`}})(),Rt=o.forwardRef(((e,t)=>{const{prefixCls:n,className:r,trigger:a,children:i,defaultCollapsed:s=!1,theme:l="dark",style:c={},collapsible:u=!1,reverseArrow:d=!1,width:f=200,collapsedWidth:m=80,zeroWidthTriggerStyle:v,breakpoint:b,onCollapse:w,onBreakpoint:_}=e,x=Ct(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:E}=(0,o.useContext)(y),[S,k]=(0,o.useState)("collapsed"in e?e.collapsed:s),[O,C]=(0,o.useState)(!1);(0,o.useEffect)((()=>{"collapsed"in e&&k(e.collapsed)}),[e.collapsed]);const P=(t,n)=>{"collapsed"in e||k(t),null===w||void 0===w||w(t,n)},$=(0,o.useRef)();$.current=e=>{C(e.matches),null===_||void 0===_||_(e.matches),S!==e.matches&&P(e.matches,"responsive")},(0,o.useEffect)((()=>{function e(e){return $.current(e)}let t;if("undefined"!==typeof window){const{matchMedia:r}=window;if(r&&b&&b in Pt){t=r(`screen and (max-width: ${Pt[b]})`);try{t.addEventListener("change",e)}catch(n){t.addListener(e)}e(t)}}return()=>{try{null===t||void 0===t||t.removeEventListener("change",e)}catch(n){null===t||void 0===t||t.removeListener(e)}}}),[b]),(0,o.useEffect)((()=>{const e=It("ant-sider-");return E.addSider(e),()=>E.removeSider(e)}),[]);const I=()=>{P(!S,"clickTrigger")},{getPrefixCls:R}=(0,o.useContext)(g),T=o.useMemo((()=>({siderCollapsed:S})),[S]);return o.createElement($t.Provider,{value:T},(()=>{const e=R("layout-sider",n),s=p(x,["collapsed"]),g=S?m:f,y=Ot(g)?`${g}px`:String(g),b=0===parseFloat(String(m||0))?o.createElement("span",{onClick:I,className:h()(`${e}-zero-width-trigger`,`${e}-zero-width-trigger-${d?"right":"left"}`),style:v},a||o.createElement(bt,null)):null,w={expanded:d?o.createElement(kt,null):o.createElement(xt,null),collapsed:d?o.createElement(xt,null):o.createElement(kt,null)}[S?"collapsed":"expanded"],_=null!==a?b||o.createElement("div",{className:`${e}-trigger`,onClick:I,style:{width:y}},a||w):null,E=Object.assign(Object.assign({},c),{flex:`0 0 ${y}`,maxWidth:y,minWidth:y,width:y}),k=h()(e,`${e}-${l}`,{[`${e}-collapsed`]:!!S,[`${e}-has-trigger`]:u&&null!==a&&!b,[`${e}-below`]:!!O,[`${e}-zero-width`]:0===parseFloat(y)},r);return o.createElement("aside",Object.assign({className:k},s,{style:E,ref:t}),o.createElement("div",{className:`${e}-children`},i),u||O&&b?_:null)})())}));const Tt=Rt;const At=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Nt(e,t,n){var r=o.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}const jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if(at(!i,"Warning: There may be circular references"),i)return!1;if(t===a)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],a[l],s))return!1;return!0}if(t&&a&&"object"===O(t)&&"object"===O(a)){var c=Object.keys(t);return c.length===Object.keys(a).length&&c.every((function(n){return e(t[n],a[n],s)}))}return!1}(e,t)};function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function Ft(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var zt="%";function Dt(e){return e.join(zt)}var Bt=function(){function e(t){Mt(this,e),P(this,"instanceId",void 0),P(this,"cache",new Map),this.instanceId=t}return Ft(e,[{key:"get",value:function(e){return this.opGet(Dt(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(Dt(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const Ht=Bt;var Ut="data-token-hash",Wt="data-css-hash",Vt="__cssinjs_instance__";function qt(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Wt,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[Vt]=t[Vt]||e,t[Vt]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(Wt,"]"))).forEach((function(t){var n,a=t.getAttribute(Wt);r[a]?t[Vt]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[a]=!0}))}return new Ht(e)}var Kt=o.createContext({hashPriority:"low",cache:qt(),defaultCache:!0});const Xt=Kt;var Zt="CALC_UNIT";new RegExp(Zt,"g");var Gt=function(){function e(){Mt(this,e),P(this,"cache",void 0),P(this,"keys",void 0),P(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ft(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={map:this.cache};return e.forEach((function(e){var t;a?a=null===(t=a)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):a=void 0})),null!==(t=a)&&void 0!==t&&t.value&&r&&(a.value[1]=this.cacheCallTimes++),null===(n=a)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce((function(e,t){var n=k(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=k(a,1)[0];this.delete(o)}this.keys.push(t)}var i=this.cache;t.forEach((function(e,a){if(a===t.length-1)i.set(e,{value:[n,r.cacheCallTimes++]});else{var o=i.get(e);o?o.map||(o.map=new Map):i.set(e,{map:new Map}),i=i.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var a=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),a}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();P(Gt,"MAX_CACHE_SIZE",20),P(Gt,"MAX_CACHE_OFFSET",5);var Jt=0,Yt=function(){function e(t){Mt(this,e),P(this,"derivatives",void 0),P(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Jt,0===t.length&&t.length,Jt+=1}return Ft(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),Qt=new Gt;function en(e){var t=Array.isArray(e)?e:[e];return Qt.has(t)||Qt.set(t,new Yt(t)),Qt.get(t)}var tn=new WeakMap,nn={};var rn=new WeakMap;function an(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=rn.get(e)||"";return n||(Object.keys(e).forEach((function(r){var a=e[r];n+=r,a instanceof Yt?n+=a.id:a&&"object"===O(a)?n+=an(a,t):n+=a})),t&&(n=At(n)),rn.set(e,n)),n}function on(e,t){return At("".concat(t,"_").concat(an(e,!0)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var sn=Fe();function ln(e){return"number"===typeof e?"".concat(e,"px"):e}function cn(e,t,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var r=Le(Le({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},P(P({},Ut,t),Wt,n)),a=Object.keys(r).map((function(e){var t=r[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},dn=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=k(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},fn=function(e,t,n){var r={},a={};return Object.entries(e).forEach((function(e){var t,o,i=k(e,2),s=i[0],l=i[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[s])a[s]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(o=n.ignore)||void 0===o||!o[s])){var c,u=un(s,null===n||void 0===n?void 0:n.prefix);r[u]="number"!==typeof l||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),a[s]="var(".concat(u,")")}})),[a,dn(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},hn=Fe()?o.useLayoutEffect:o.useEffect,pn=function(e,t){var n=o.useRef(!0);hn((function(){return e(n.current)}),t),hn((function(){return n.current=!1,function(){n.current=!0}}),[])},mn=function(e,t){pn((function(t){if(!t)return e()}),t)};const gn=pn;var vn=Le({},i).useInsertionEffect;const yn=vn?function(e,t,n){return vn((function(){return e(),t()}),n)}:function(e,t,n){o.useMemo(e,n),gn((function(){return t(!0)}),n)};const bn="undefined"!==typeof Le({},i).useInsertionEffect?function(e){var t=[],n=!1;return o.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};const wn=function(){return!1};function _n(e,t,n,r,a){var i=o.useContext(Xt).cache,s=Dt([e].concat(d(t))),l=bn([s]),c=(wn(),function(e){i.opUpdate(s,(function(t){var r=k(t||[void 0,void 0],2),a=r[0];var o=[void 0===a?0:a,r[1]||n()];return e?e(o):o}))});o.useMemo((function(){c()}),[s]);var u=i.opGet(s)[1];return yn((function(){null===a||void 0===a||a(u)}),(function(e){return c((function(t){var n=k(t,2),r=n[0],o=n[1];return e&&0===r&&(null===a||void 0===a||a(u)),[r+1,o]})),function(){i.opUpdate(s,(function(t){var n=k(t||[],2),a=n[0],o=void 0===a?0:a,c=n[1];return 0===o-1?(l((function(){!e&&i.opGet(s)||null===r||void 0===r||r(c,!1)})),null):[o-1,c]}))}}),[s]),u}var xn={},En="css",Sn=new Map;var kn=0;function On(e,t){Sn.set(e,(Sn.get(e)||0)-1);var n=Array.from(Sn.keys()),r=n.filter((function(e){return(Sn.get(e)||0)<=0}));n.length-r.length>kn&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Ut,'="').concat(e,'"]')).forEach((function(e){var n;e[Vt]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),Sn.delete(e)}))}var Cn=function(e,t,n,r){var a=Le(Le({},n.getDerivativeToken(e)),t);return r&&(a=r(a)),a},Pn="token";function $n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,o.useContext)(Xt),a=r.cache.instanceId,i=r.container,s=n.salt,l=void 0===s?"":s,c=n.override,u=void 0===c?xn:c,f=n.formatToken,h=n.getComputedToken,p=n.cssVar,m=function(e,t){for(var n=tn,r=0;r<t.length;r+=1){var a=t[r];n.has(a)||n.set(a,new WeakMap),n=n.get(a)}return n.has(nn)||n.set(nn,e()),n.get(nn)}((function(){return Object.assign.apply(Object,[{}].concat(d(t)))}),t),g=an(m),v=an(u),y=p?an(p):"",b=_n(Pn,[l,e.id,g,v,y],(function(){var t,n=h?h(m,u,e):Cn(m,u,e,f),r=Le({},n),a="";if(p){var o=k(fn(n,p.key,{prefix:p.prefix,ignore:p.ignore,unitless:p.unitless,preserve:p.preserve}),2);n=o[0],a=o[1]}var i=on(n,l);n._tokenKey=i,r._tokenKey=on(r,l);var s=null!==(t=null===p||void 0===p?void 0:p.key)&&void 0!==t?t:i;n._themeKey=s,function(e){Sn.set(e,(Sn.get(e)||0)+1)}(s);var c="".concat(En,"-").concat(At(i));return n._hashId=c,[n,c,r,a,(null===p||void 0===p?void 0:p.key)||""]}),(function(e){On(e[0]._themeKey,a)}),(function(e){var t=k(e,4),n=t[0],r=t[3];if(p&&r){var o=Ze(r,At("css-variables-".concat(n._themeKey)),{mark:Wt,prepend:"queue",attachTo:i,priority:-999});o[Vt]=a,o.setAttribute(Ut,n._themeKey)}}));return b}const In={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Rn="comm",Tn="rule",An="decl",Nn="@import",jn="@keyframes",Mn="@layer",Ln=Math.abs,Fn=String.fromCharCode;Object.assign;function zn(e){return e.trim()}function Dn(e,t,n){return e.replace(t,n)}function Bn(e,t,n){return e.indexOf(t,n)}function Hn(e,t){return 0|e.charCodeAt(t)}function Un(e,t,n){return e.slice(t,n)}function Wn(e){return e.length}function Vn(e,t){return t.push(e),e}function qn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Kn(e,t,n,r){switch(e.type){case Mn:if(e.children.length)break;case Nn:case An:return e.return=e.return||e.value;case Rn:return"";case jn:return e.return=e.value+"{"+qn(e.children,r)+"}";case Tn:if(!Wn(e.value=e.props.join(",")))return""}return Wn(n=qn(e.children,r))?e.return=e.value+"{"+n+"}":""}var Xn=1,Zn=1,Gn=0,Jn=0,Yn=0,Qn="";function er(e,t,n,r,a,o,i,s){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Xn,column:Zn,length:i,return:"",siblings:s}}function tr(){return Yn=Jn>0?Hn(Qn,--Jn):0,Zn--,10===Yn&&(Zn=1,Xn--),Yn}function nr(){return Yn=Jn<Gn?Hn(Qn,Jn++):0,Zn++,10===Yn&&(Zn=1,Xn++),Yn}function rr(){return Hn(Qn,Jn)}function ar(){return Jn}function or(e,t){return Un(Qn,e,t)}function ir(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sr(e){return Xn=Zn=1,Gn=Wn(Qn=e),Jn=0,[]}function lr(e){return Qn="",e}function cr(e){return zn(or(Jn-1,fr(91===e?e+2:40===e?e+1:e)))}function ur(e){for(;(Yn=rr())&&Yn<33;)nr();return ir(e)>2||ir(Yn)>3?"":" "}function dr(e,t){for(;--t&&nr()&&!(Yn<48||Yn>102||Yn>57&&Yn<65||Yn>70&&Yn<97););return or(e,ar()+(t<6&&32==rr()&&32==nr()))}function fr(e){for(;nr();)switch(Yn){case e:return Jn;case 34:case 39:34!==e&&39!==e&&fr(Yn);break;case 40:41===e&&fr(e);break;case 92:nr()}return Jn}function hr(e,t){for(;nr()&&e+Yn!==57&&(e+Yn!==84||47!==rr()););return"/*"+or(t,Jn-1)+"*"+Fn(47===e?e:nr())}function pr(e){for(;!ir(rr());)nr();return or(e,Jn)}function mr(e){return lr(gr("",null,null,null,[""],e=sr(e),0,[0],e))}function gr(e,t,n,r,a,o,i,s,l){for(var c=0,u=0,d=i,f=0,h=0,p=0,m=1,g=1,v=1,y=0,b="",w=a,_=o,x=r,E=b;g;)switch(p=y,y=nr()){case 40:if(108!=p&&58==Hn(E,d-1)){-1!=Bn(E+=Dn(cr(y),"&","&\f"),"&\f",Ln(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:E+=cr(y);break;case 9:case 10:case 13:case 32:E+=ur(p);break;case 92:E+=dr(ar()-1,7);continue;case 47:switch(rr()){case 42:case 47:Vn(yr(hr(nr(),ar()),t,n,l),l),5!=ir(p||1)&&5!=ir(rr()||1)||!Wn(E)||" "===Un(E,-1,void 0)||(E+=" ");break;default:E+="/"}break;case 123*m:s[c++]=Wn(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=Dn(E,/\f/g,"")),h>0&&(Wn(E)-d||0===m&&47===p)&&Vn(h>32?br(E+";",r,n,d-1,l):br(Dn(E," ","")+";",r,n,d-2,l),l);break;case 59:E+=";";default:if(Vn(x=vr(E,t,n,c,u,a,s,b,w=[],_=[],d,o),o),123===y)if(0===u)gr(E,t,x,x,w,o,d,s,_);else switch(99===f&&110===Hn(E,3)?100:f){case 100:case 108:case 109:case 115:gr(e,x,x,r&&Vn(vr(e,x,x,0,0,a,s,b,a,w=[],d,_),_),a,_,d,s,r?w:_);break;default:gr(E,x,x,x,[""],_,0,s,_)}}c=u=h=0,m=v=1,b=E="",d=i;break;case 58:d=1+Wn(E),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==tr())continue;switch(E+=Fn(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[c++]=(Wn(E)-1)*v,v=1;break;case 64:45===rr()&&(E+=cr(nr())),f=rr(),u=d=Wn(b=E+=pr(ar())),y++;break;case 45:45===p&&2==Wn(E)&&(m=0)}}return o}function vr(e,t,n,r,a,o,i,s,l,c,u,d){for(var f=a-1,h=0===a?o:[""],p=function(e){return e.length}(h),m=0,g=0,v=0;m<r;++m)for(var y=0,b=Un(e,f+1,f=Ln(g=i[m])),w=e;y<p;++y)(w=zn(g>0?h[y]+" "+b:Dn(b,/&\f/g,h[y])))&&(l[v++]=w);return er(e,t,n,0===a?Tn:s,l,c,u,d)}function yr(e,t,n,r){return er(e,t,n,Rn,Fn(Yn),Un(e,2,-2),0,r)}function br(e,t,n,r,a){return er(e,t,n,An,Un(e,0,r),Un(e,r+1,-1),r,a)}var wr,_r="data-ant-cssinjs-cache-path",xr="_FILE_STYLE__";var Er=!0;function Sr(e){return function(){if(!wr&&(wr={},Fe())){var e=document.createElement("div");e.className=_r,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=k(e.split(":"),2),n=t[0],r=t[1];wr[n]=r}));var n,r=document.querySelector("style[".concat(_r,"]"));r&&(Er=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!wr[e]}var kr="_multi_value_";function Or(e){return qn(mr(e),Kn).replace(/\{%%%\:[^;];}/g,";")}function Cr(e,t,n){if(!t)return e;var r=".".concat(t),a="low"===n?":where(".concat(r,")"):r;return e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(a).concat(r.slice(o.length))].concat(d(n.slice(1))).join(" ")})).join(",")}var Pr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,i=r.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,f=void 0===u?[]:u,h=(n.linters,""),p={};function m(t){var r=t.getName(s);if(!p[r]){var a=k(e(t.style,n,{root:!1,parentSelectors:i}),1)[0];p[r]="@keyframes ".concat(t.getName(s)).concat(a)}}var g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return g.forEach((function(t){var r="string"!==typeof t||a?t:{};if("string"===typeof r)h+="".concat(r,"\n");else if(r._keyframe)m(r);else{var l=f.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==O(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===O(e)&&e&&("_skip_check_"in e||kr in e)}(r)){var u;function x(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;In[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(m(t),r=t.getName(s)),h+="".concat(n,":").concat(r,";")}var f=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;"object"===O(r)&&null!==r&&void 0!==r&&r[kr]&&Array.isArray(f)?f.forEach((function(e){x(t,e)})):x(t,f)}else{var g=!1,v=t.trim(),y=!1;(a||o)&&s?v.startsWith("@")?g=!0:v=Cr("&"===v?"":t,s,c):!a||s||"&"!==v&&""!==v||(v="",y=!0);var b=k(e(r,n,{root:y,injectHash:g,parentSelectors:[].concat(d(i),[v])}),2),w=b[0],_=b[1];p=Le(Le({},p),_),h+="".concat(v).concat(w)}}))}})),a?l&&(h="@layer ".concat(l.name," {").concat(h,"}"),l.dependencies&&(p["@layer ".concat(l.name)]=l.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(l.name,";")})).join("\n"))):h="{".concat(h,"}"),[h,p]};function $r(e,t){return At("".concat(e.join("%")).concat(t))}function Ir(){return null}var Rr="style";function Tr(e,t){var n=e.token,r=e.path,a=e.hashId,i=e.layer,s=e.nonce,l=e.clientOnly,c=e.order,u=void 0===c?0:c,f=o.useContext(Xt),h=f.autoClear,p=(f.mock,f.defaultCache),m=f.hashPriority,g=f.container,v=f.ssrInline,y=f.transformers,b=f.linters,w=f.cache,x=f.layer,E=n._tokenKey,S=[E];x&&S.push("layer"),S.push.apply(S,d(r));var O=sn;var C=_n(Rr,S,(function(){var e=S.join("|");if(Sr(e)){var n=function(e){var t=wr[e],n=null;if(t&&Fe())if(Er)n=xr;else{var r=document.querySelector("style[".concat(Wt,'="').concat(wr[e],'"]'));r?n=r.innerHTML:delete wr[e]}return[n,t]}(e),o=k(n,2),s=o[0],c=o[1];if(s)return[s,E,c,{},l,u]}var d=t(),f=k(Pr(d,{hashId:a,hashPriority:m,layer:x?i:void 0,path:r.join("-"),transformers:y,linters:b}),2),h=f[0],p=f[1],g=Or(h),v=$r(S,g);return[g,E,v,p,l,u]}),(function(e,t){var n=k(e,3)[2];(t||h)&&sn&&Xe(n,{mark:Wt})}),(function(e){var t=k(e,4),n=t[0],r=(t[1],t[2]),a=t[3];if(O&&n!==xr){var o={mark:Wt,prepend:!x&&"queue",attachTo:g,priority:u},i="function"===typeof s?s():s;i&&(o.csp={nonce:i});var l=[],c=[];Object.keys(a).forEach((function(e){e.startsWith("@layer")?l.push(e):c.push(e)})),l.forEach((function(e){Ze(Or(a[e]),"_layer-".concat(e),Le(Le({},o),{},{prepend:!0}))}));var d=Ze(n,r,o);d[Vt]=w.instanceId,d.setAttribute(Ut,E),c.forEach((function(e){Ze(Or(a[e]),"_effect-".concat(e),o)}))}})),$=k(C,3),I=$[0],R=$[1],T=$[2];return function(e){var t;return t=v&&!O&&p?o.createElement("style",_({},P(P({},Ut,R),Wt,T),{dangerouslySetInnerHTML:{__html:I}})):o.createElement(Ir,null),o.createElement(o.Fragment,null,t,e)}}var Ar="cssVar";const Nr=function(e,t){var n=e.key,r=e.prefix,a=e.unitless,i=e.ignore,s=e.token,l=e.scope,c=void 0===l?"":l,u=(0,o.useContext)(Xt),f=u.cache.instanceId,h=u.container,p=s._tokenKey,m=[].concat(d(e.path),[n,c,p]),g=_n(Ar,m,(function(){var e=t(),o=k(fn(e,n,{prefix:r,unitless:a,ignore:i,scope:c}),2),s=o[0],l=o[1];return[s,l,$r(m,l),n]}),(function(e){var t=k(e,3)[2];sn&&Xe(t,{mark:Wt})}),(function(e){var t=k(e,3),r=t[1],a=t[2];if(r){var o=Ze(r,a,{mark:Wt,prepend:"queue",attachTo:h,priority:-999});o[Vt]=f,o.setAttribute(Ut,n)}}));return g};P(P(P({},Rr,(function(e,t,n){var r=k(e,6),a=r[0],o=r[1],i=r[2],s=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var d=a,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=cn(a,o,i,f,u),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=cn(Or(s[e]),o,"_effect-".concat(e),f,u);e.startsWith("@layer")?d=n+d:d+=n}})),[c,i,d]})),Pn,(function(e,t,n){var r=k(e,5),a=r[2],o=r[3],i=r[4],s=(n||{}).plain;if(!o)return null;var l=a._tokenKey;return[-999,l,cn(o,i,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),Ar,(function(e,t,n){var r=k(e,4),a=r[1],o=r[2],i=r[3],s=(n||{}).plain;if(!a)return null;return[-999,o,cn(a,i,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var jr=function(){function e(t,n){Mt(this,e),P(this,"name",void 0),P(this,"style",void 0),P(this,"_keyframe",!0),this.name=t,this.style=n}return Ft(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const Mr=jr;function Lr(e){return e.notSplit=!0,e}Lr(["borderTop","borderBottom"]),Lr(["borderTop"]),Lr(["borderBottom"]),Lr(["borderLeft","borderRight"]),Lr(["borderLeft"]),Lr(["borderRight"]);function Fr(e){var t=o.useRef();t.current=e;var n=o.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function zr(e){var t=o.useRef(!1),n=k(o.useState(e),2),r=n[0],a=n[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||a(e)}]}function Dr(e){return void 0!==e}function Br(e,t){var n=t||{},r=n.defaultValue,a=n.value,o=n.onChange,i=n.postState,s=k(zr((function(){return Dr(a)?a:Dr(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==a?a:l,d=i?i(u):u,f=Fr(o),h=k(zr([u]),2),p=h[0],m=h[1];return mn((function(){var e=p[0];l!==e&&f(l,e)}),[p]),mn((function(){Dr(a)||c(a)}),[a]),[d,Fr((function(e,t){c(e,t),m([u],t)}))]}var Hr=function(e,t){"function"===typeof e?e(t):"object"===O(e)&&e&&"current"in e&&(e.current=t)},Ur=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){Hr(t,e)}))}},Wr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nt((function(){return Ur.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},Vr=function(e){var t,n,r=(0,b.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===b.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===b.ForwardRef)};function qr(e){return(0,o.isValidElement)(e)&&!(0,b.isFragment)(e)}Number(o.version.split(".")[0]);function Kr(e){return E(e)||c(e)||u(e)||S()}function Xr(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Zr(e,t,n,r){if(!t.length)return n;var a,o=Kr(t),i=o[0],s=o.slice(1);return a=e||"number"!==typeof i?Array.isArray(e)?d(e):Le({},e):[],r&&void 0===n&&1===s.length?delete a[i][s[0]]:a[i]=Zr(a[i],s,n,r),a}function Gr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Xr(e,t.slice(0,-1))?e:Zr(e,t,n,r)}function Jr(e){return Array.isArray(e)?[]:{}}var Yr="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function Qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Jr(t[0]);return t.forEach((function(e){!function t(n,a){var o,i=new Set(a),s=Xr(e,n),l=Array.isArray(s);if(l||"object"===O(o=s)&&null!==o&&Object.getPrototypeOf(o)===Object.prototype){if(!i.has(s)){i.add(s);var c=Xr(r,n);l?r=Gr(r,n,[]):c&&"object"===O(c)||(r=Gr(r,n,Jr(s))),Yr(s).forEach((function(e){t([].concat(d(n),[e]),i)}))}}else r=Gr(r,n,s)}([])})),r}const ea={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ta=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},na=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),ra=(e,t,n,r)=>{const a=`[class^="${t}"], [class*=" ${t}"]`,o=n?`.${n}`:a,i={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),i),{[a]:i})}},aa=e=>({outline:`${ln(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),oa=e=>({"&:focus-visible":Object.assign({},aa(e))}),ia="5.16.4",sa={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},la=Object.assign(Object.assign({},sa),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var ca=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var a=U(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=T(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=L(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=L(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=j(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=j(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),F(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,a){var o=[N(Math.round(e).toString(16)),N(Math.round(t).toString(16)),N(Math.round(n).toString(16)),N(z(r))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*I(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*I(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+F(this.r,this.g,this.b,!1),t=0,n=Object.entries(H);t<n.length;t++){var r=n[t],a=r[0];if(e===r[1])return a}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=R(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=R(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=R(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=R(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),o=n/100;return new e({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(new e({h:r,s:a,v:o})),o=(o+s)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),a=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a:a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],o=360/t,i=1;i<t;i++)a.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const ua=e=>{let t=e,n=e,r=e,a=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?a=4:e>=8&&(a=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:a}};const da=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function fa(e){return(e+8)/e}const ha=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,a=e*Math.pow(2.71828,r/5),o=n>1?Math.floor(a):Math.ceil(a);return 2*Math.floor(o/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:fa(e)})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),a=n[1],o=n[0],i=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:i,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*a),fontHeightLG:Math.round(c*i),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const pa=(e,t)=>new ca(e).setAlpha(t).toRgbString(),ma=(e,t)=>new ca(e).darken(t).toHexString(),ga=e=>{const t=le(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},va=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:pa(r,.88),colorTextSecondary:pa(r,.65),colorTextTertiary:pa(r,.45),colorTextQuaternary:pa(r,.25),colorFill:pa(r,.15),colorFillSecondary:pa(r,.06),colorFillTertiary:pa(r,.04),colorFillQuaternary:pa(r,.02),colorBgLayout:ma(n,4),colorBgContainer:ma(n,0),colorBgElevated:ma(n,0),colorBgSpotlight:pa(r,.85),colorBgBlur:"transparent",colorBorder:ma(n,15),colorBorderSecondary:ma(n,6)}};const ya=en((function(e){const t=Object.keys(sa).map((t=>{const n=le(e[t]);return new Array(10).fill(1).reduce(((e,r,a)=>(e[`${t}-${a+1}`]=n[a],e[`${t}${a+1}`]=n[a],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:a,colorWarning:o,colorError:i,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),f=n(a),h=n(o),p=n(i),m=n(s),g=r(c,u),v=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new ca("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:ga,generateNeutralColorPalettes:va})),ha(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),da(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:a}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:a+1},ua(r))}(e))})),ba={token:la,override:{override:la},hashed:!0},wa=o.createContext(ba);function _a(e){return e>=0&&e<=255}const xa=function(e,t){const{r:n,g:r,b:a,a:o}=new ca(e).toRgb();if(o<1)return e;const{r:i,g:s,b:l}=new ca(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-i*(1-c))/c),t=Math.round((r-s*(1-c))/c),o=Math.round((a-l*(1-c))/c);if(_a(e)&&_a(t)&&_a(o))return new ca({r:e,g:t,b:o,a:Math.round(100*c)/100}).toRgbString()}return new ca({r:n,g:r,b:a,a:1}).toRgbString()};var Ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Sa(e){const{override:t}=e,n=Ea(e,["override"]),r=Object.assign({},t);Object.keys(la).forEach((e=>{delete r[e]}));const a=Object.assign(Object.assign({},n),r),o=1200,i=1600;if(!1===a.motion){const e="0s";a.motionDurationFast=e,a.motionDurationMid=e,a.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:xa(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:xa(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:xa(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:4*a.lineWidth,lineWidth:a.lineWidth,controlOutlineWidth:2*a.lineWidth,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:xa(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new ca("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new ca("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new ca("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ka=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Oa={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},Ca={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Pa={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},$a=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:a}=t,o=ka(t,["override"]);let i=Object.assign(Object.assign({},r),{override:a});return i=Sa(i),o&&Object.entries(o).forEach((e=>{let[t,n]=e;const{theme:r}=n,a=ka(n,["theme"]);let o=a;r&&(o=$a(Object.assign(Object.assign({},i),a),{override:a},r)),i[t]=o})),i};function Ia(){const{token:e,hashed:t,theme:n,override:r,cssVar:a}=o.useContext(wa),i=`${ia}-${t||""}`,s=n||ya,[l,c,u]=$n(s,[la,e],{salt:i,override:r,getComputedToken:$a,formatToken:Sa,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:Oa,ignore:Ca,preserve:Pa}});return[s,u,t?c:"",l,a]}function Ra(e){return Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(e)}function Ta(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ta=function(){return!!e})()}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function ja(e,t,n){return t=Ra(t),Na(e,Ta()?Reflect.construct(t,n||[],Ra(e).constructor):t.apply(e,n))}function Ma(e,t){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ma(e,t)}function La(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ma(e,t)}const Fa=Ft((function e(){Mt(this,e)})),za="CALC_UNIT",Da=new RegExp(za,"g");function Ba(e){return"number"===typeof e?`${e}${za}`:e}let Ha=function(e){function t(e){var n;return Mt(this,t),(n=ja(this,t)).result="",e instanceof t?n.result=`(${e.result})`:"number"===typeof e?n.result=Ba(e):"string"===typeof e&&(n.result=e),n}return La(t,e),Ft(t,[{key:"add",value:function(e){return e instanceof t?this.result=`${this.result} + ${e.getResult()}`:"number"!==typeof e&&"string"!==typeof e||(this.result=`${this.result} + ${Ba(e)}`),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result=`${this.result} - ${e.getResult()}`:"number"!==typeof e&&"string"!==typeof e||(this.result=`${this.result} - ${Ba(e)}`),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result=`(${this.result})`),e instanceof t?this.result=`${this.result} * ${e.getResult(!0)}`:"number"!==typeof e&&"string"!==typeof e||(this.result=`${this.result} * ${e}`),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result=`(${this.result})`),e instanceof t?this.result=`${this.result} / ${e.getResult(!0)}`:"number"!==typeof e&&"string"!==typeof e||(this.result=`${this.result} / ${e}`),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?`(${this.result})`:this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{};return this.result=this.result.replace(Da,t?"px":""),"undefined"!==typeof this.lowPriority?`calc(${this.result})`:this.result}}])}(Fa),Ua=function(e){function t(e){var n;return Mt(this,t),(n=ja(this,t)).result=0,e instanceof t?n.result=e.result:"number"===typeof e&&(n.result=e),n}return La(t,e),Ft(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}])}(Fa);const Wa=e=>{const t="css"===e?Ha:Ua;return e=>new t(e)};const Va="undefined"!==typeof CSSINJS_STATISTIC;let qa=!0;function Ka(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Va)return Object.assign.apply(Object,[{}].concat(t));qa=!1;const r={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),qa=!0,r}const Xa={};function Za(){}const Ga=e=>{let t,n=e,r=Za;return Va&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(qa&&t.add(n),e[n])}),r=(e,n)=>{var r;Xa[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(r=Xa[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}},Ja=(e,t)=>{const[n,r]=Ia();return Tr({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce},(()=>[{[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}]))},Ya=(e,t,n)=>{var r;return"function"===typeof n?n(Ka(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}},Qa=(e,t,n,r)=>{const a=Object.assign({},t[e]);if(null===r||void 0===r?void 0:r.deprecatedTokens){const{deprecatedTokens:e}=r;e.forEach((e=>{let[t,n]=e;var r;((null===a||void 0===a?void 0:a[t])||(null===a||void 0===a?void 0:a[n]))&&(null!==(r=a[n])&&void 0!==r||(a[n]=null===a||void 0===a?void 0:a[t]))}))}const o=Object.assign(Object.assign({},n),a);return Object.keys(o).forEach((e=>{o[e]===t[e]&&delete o[e]})),o};function eo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=Array.isArray(e)?e:[e,e],[i]=a,s=a.join("-");return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[l,c,u,d,f]=Ia(),{getPrefixCls:h,iconPrefixCls:p,csp:m}=(0,o.useContext)(g),v=h(),y=f?"css":"js",b=Wa(y),{max:w,min:_}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`max(${t.map((e=>ln(e))).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`min(${t.map((e=>ln(e))).join(",")})`}}}(y),x={theme:l,token:d,hashId:u,nonce:()=>null===m||void 0===m?void 0:m.nonce,clientOnly:r.clientOnly,order:r.order||-999};Tr(Object.assign(Object.assign({},x),{clientOnly:!1,path:["Shared",v]}),(()=>[{"&":na(d)}])),Ja(p,m);const E=Tr(Object.assign(Object.assign({},x),{path:[s,e,p]}),(()=>{if(!1===r.injectStyle)return[];const{token:o,flush:s}=Ga(d),l=Ya(i,c,n),h=`.${e}`,m=Qa(i,c,l,{deprecatedTokens:r.deprecatedTokens});f&&Object.keys(l).forEach((e=>{l[e]=`var(${un(e,((e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`)(i,f.prefix))})`}));const g=Ka(o,{componentCls:h,prefixCls:e,iconCls:`.${p}`,antCls:`.${v}`,calc:b,max:w,min:_},f?l:m),y=t(g,{hashId:u,prefixCls:e,rootPrefixCls:v,iconPrefixCls:p});return s(i,m),[!1===r.resetStyle?null:ra(g,e,a,r.resetFont),y]}));return[E,u]}}const to=(e,t,n,r)=>{const a=eo(e,t,n,r),i=((e,t,n)=>{function r(t){return`${e}${t.slice(0,1).toUpperCase()}${t.slice(1)}`}const{unitless:a={},injectStyle:i=!0}=null!==n&&void 0!==n?n:{},s={[r("zIndexPopup")]:!0};Object.keys(a).forEach((e=>{s[r(e)]=a[e]}));const l=a=>{let{rootCls:o,cssVar:i}=a;const[,l]=Ia();return Nr({path:[e],prefix:i.prefix,key:null===i||void 0===i?void 0:i.key,unitless:Object.assign(Object.assign({},Oa),s),ignore:Ca,token:l,scope:o},(()=>{const a=Ya(e,l,t),o=Qa(e,l,a,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(a).forEach((e=>{o[r(e)]=o[e],delete o[e]})),o})),null};return t=>{const[,,,,n]=Ia();return[r=>i&&n?o.createElement(o.Fragment,null,o.createElement(l,{rootCls:t,cssVar:n,component:e}),r):r,null===n||void 0===n?void 0:n.key]}})(Array.isArray(e)?e[0]:e,n,r);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=a(e,t),[r,o]=i(t);return[r,n,o]}},no=e=>{const{componentCls:t,bodyBg:n,lightSiderBg:r,lightTriggerBg:a,lightTriggerColor:o}=e;return{[`${t}-sider-light`]:{background:r,[`${t}-sider-trigger`]:{color:o,background:a},[`${t}-sider-zero-width-trigger`]:{color:o,background:a,border:`1px solid ${n}`,borderInlineStart:0}}}},ro=e=>{const{antCls:t,componentCls:n,colorText:r,triggerColor:a,footerBg:o,triggerBg:i,headerHeight:s,headerPadding:l,headerColor:c,footerPadding:u,triggerHeight:d,zeroTriggerHeight:f,zeroTriggerWidth:h,motionDurationMid:p,motionDurationSlow:m,fontSize:g,borderRadius:v,bodyBg:y,headerBg:b,siderBg:w}=e;return{[n]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:y,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},[`${n}-sider`]:{position:"relative",minWidth:0,background:w,transition:`all ${p}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${t}-menu${t}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:d},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:d,color:a,lineHeight:ln(d),textAlign:"center",background:i,cursor:"pointer",transition:`all ${p}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:s,insetInlineEnd:e.calc(h).mul(-1).equal(),zIndex:1,width:h,height:f,color:a,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:w,borderStartStartRadius:0,borderStartEndRadius:v,borderEndEndRadius:v,borderEndStartRadius:0,cursor:"pointer",transition:`background ${m} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${m}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(h).mul(-1).equal(),borderStartStartRadius:v,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:v}}}}},no(e)),{"&-rtl":{direction:"rtl"}}),[`${n}-header`]:{height:s,padding:l,color:c,lineHeight:ln(s),background:b,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:u,color:r,fontSize:g,background:o},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},ao=to("Layout",(e=>[ro(e)]),(e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:a,controlHeightSM:o,marginXXS:i,colorTextLightSolid:s,colorBgContainer:l}=e,c=1.25*r;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:2*n,headerPadding:`0 ${c}px`,headerColor:a,footerPadding:`${o}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+2*i,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:a}}),{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var oo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function io(e){let{suffixCls:t,tagName:n,displayName:r}=e;return e=>o.forwardRef(((r,a)=>o.createElement(e,Object.assign({ref:a,suffixCls:t,tagName:n},r))))}const so=o.forwardRef(((e,t)=>{const{prefixCls:n,suffixCls:r,className:a,tagName:i}=e,s=oo(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:l}=o.useContext(g),c=l("layout",n),[u,d,f]=ao(c),p=r?`${c}-${r}`:c;return u(o.createElement(i,Object.assign({className:h()(n||p,a,d,f),ref:t},s)))})),lo=o.forwardRef(((e,t)=>{const{direction:n}=o.useContext(g),[r,a]=o.useState([]),{prefixCls:i,className:s,rootClassName:l,children:c,hasSider:u,tagName:f,style:m}=e,v=p(oo(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),["suffixCls"]),{getPrefixCls:b,layout:_}=o.useContext(g),x=b("layout",i),E=function(e,t,n){return"boolean"===typeof n?n:!!e.length||w(t).some((e=>e.type===Tt))}(r,c,u),[S,k,O]=ao(x),C=h()(x,{[`${x}-has-sider`]:E,[`${x}-rtl`]:"rtl"===n},null===_||void 0===_?void 0:_.className,s,l,k,O),P=o.useMemo((()=>({siderHook:{addSider:e=>{a((t=>[].concat(d(t),[e])))},removeSider:e=>{a((t=>t.filter((t=>t!==e))))}}})),[]);return S(o.createElement(y.Provider,{value:P},o.createElement(f,Object.assign({ref:t,className:C,style:Object.assign(Object.assign({},null===_||void 0===_?void 0:_.style),m)},v),c)))})),co=io({tagName:"div",displayName:"Layout"})(lo),uo=io({suffixCls:"header",tagName:"header",displayName:"Header"})(so),fo=io({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(so),ho=io({suffixCls:"content",tagName:"main",displayName:"Content"})(so),po=co;po.Header=uo,po.Footer=fo,po.Content=ho,po.Sider=Tt,po._InternalSiderContext=$t;const mo=po,go=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),o=a.width,i=a.height;if(o||i)return!0}}return!1};function vo(e){return e&&o.isValidElement(e)&&e.type===o.Fragment}const yo=(e,t,n)=>o.isValidElement(e)?o.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t;function bo(e,t){return yo(e,e,t)}const wo=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},_o=eo("Wave",(e=>[wo(e)]));var xo=function(e){return+setTimeout(e,16)},Eo=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(xo=function(e){return window.requestAnimationFrame(e)},Eo=function(e){return window.cancelAnimationFrame(e)});var So=0,ko=new Map;function Oo(e){ko.delete(e)}var Co=function(e){var t=So+=1;return function n(r){if(0===r)Oo(t),e();else{var a=xo((function(){n(r-1)}));ko.set(t,a)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Co.cancel=function(e){var t=ko.get(e);return Oo(e),Eo(t)};const Po=Co,$o="ant-wave-target";var Io=n(7950),Ro=n.t(Io,2);function To(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ao(e){var t,n=function(e){return e&&"object"===O(e)&&To(e.nativeElement)?e.nativeElement:To(e)?e:null}(e);return n||(e instanceof o.Component?null===(t=Io.findDOMNode)||void 0===t?void 0:t.call(Io,e):null)}var No=["children"],jo=o.createContext({});function Mo(e){var t=e.children,n=$(e,No);return o.createElement(jo.Provider,{value:n},t)}function Lo(e){var t=Ta();return function(){var n,r=Ra(e);if(t){var a=Ra(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Na(this,n)}}const Fo=function(e){La(n,e);var t=Lo(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ft(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);var zo="none",Do="appear",Bo="enter",Ho="leave",Uo="none",Wo="prepare",Vo="start",qo="active",Ko="end",Xo="prepared";function Zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Go=function(e,t){var n={animationend:Zo("Animation","AnimationEnd"),transitionend:Zo("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Fe(),"undefined"!==typeof window?window:{}),Jo={};if(Fe()){var Yo=document.createElement("div");Jo=Yo.style}var Qo={};function ei(e){if(Qo[e])return Qo[e];var t=Go[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Jo)return Qo[e]=t[o],Qo[e]}return""}var ti=ei("animationend"),ni=ei("transitionend"),ri=!(!ti||!ni),ai=ti||"animationend",oi=ni||"transitionend";function ii(e,t){if(!e)return null;if("object"===O(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const si=function(e){var t=(0,o.useRef)();function n(t){t&&(t.removeEventListener(oi,e),t.removeEventListener(ai,e))}return o.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(oi,e),r.addEventListener(ai,e),t.current=r)},n]};const li=Fe()?o.useLayoutEffect:o.useEffect;var ci=[Wo,Vo,qo,Ko],ui=[Wo,Xo],di=!1,fi=!0;function hi(e){return e===qo||e===Ko}const pi=function(e,t,n){var r=k(zr(Uo),2),a=r[0],i=r[1],s=function(){var e=o.useRef(null);function t(){Po.cancel(e.current)}return o.useEffect((function(){return function(){t()}}),[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Po((function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)}));e.current=o},t]}(),l=k(s,2),c=l[0],u=l[1];var d=t?ui:ci;return li((function(){if(a!==Uo&&a!==Ko){var e=d.indexOf(a),t=d[e+1],r=n(a);r===di?i(t,!0):t&&c((function(e){function n(){e.isCanceled()||i(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,a]),o.useEffect((function(){return function(){u()}}),[]),[function(){i(Wo,!0)},a]};function mi(e,t,n,r){var a=r.motionEnter,i=void 0===a||a,s=r.motionAppear,l=void 0===s||s,c=r.motionLeave,u=void 0===c||c,d=r.motionDeadline,f=r.motionLeaveImmediately,h=r.onAppearPrepare,p=r.onEnterPrepare,m=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,w=r.onEnterActive,_=r.onLeaveActive,x=r.onAppearEnd,E=r.onEnterEnd,S=r.onLeaveEnd,O=r.onVisibleChanged,C=k(zr(),2),$=C[0],I=C[1],R=function(e){var t=k(o.useReducer((function(e){return e+1}),0),2)[1],n=o.useRef(e);return[Fr((function(){return n.current})),Fr((function(e){n.current="function"===typeof e?e(n.current):e,t()}))]}(zo),T=k(R,2),A=T[0],N=T[1],j=k(zr(null),2),M=j[0],L=j[1],F=A(),z=(0,o.useRef)(!1),D=(0,o.useRef)(null);function B(){return n()}var H=(0,o.useRef)(!1);function U(){N(zo),L(null,!0)}var W=Fr((function(e){var t=A();if(t!==zo){var n=B();if(!e||e.deadline||e.target===n){var r,a=H.current;t===Do&&a?r=null===x||void 0===x?void 0:x(n,e):t===Bo&&a?r=null===E||void 0===E?void 0:E(n,e):t===Ho&&a&&(r=null===S||void 0===S?void 0:S(n,e)),a&&!1!==r&&U()}}})),V=k(si(W),1)[0],q=function(e){switch(e){case Do:return P(P(P({},Wo,h),Vo,g),qo,b);case Bo:return P(P(P({},Wo,p),Vo,v),qo,w);case Ho:return P(P(P({},Wo,m),Vo,y),qo,_);default:return{}}},K=o.useMemo((function(){return q(F)}),[F]),X=k(pi(F,!e,(function(e){if(e===Wo){var t=K[Wo];return t?t(B()):di}var n;G in K&&L((null===(n=K[G])||void 0===n?void 0:n.call(K,B(),null))||null);return G===qo&&F!==zo&&(V(B()),d>0&&(clearTimeout(D.current),D.current=setTimeout((function(){W({deadline:!0})}),d))),G===Xo&&U(),fi})),2),Z=X[0],G=X[1],J=hi(G);H.current=J,li((function(){I(t);var n,r=z.current;z.current=!0,!r&&t&&l&&(n=Do),r&&t&&i&&(n=Bo),(r&&!t&&u||!r&&f&&!t&&u)&&(n=Ho);var a=q(n);n&&(e||a[Wo])?(N(n),Z()):N(zo)}),[t]),(0,o.useEffect)((function(){(F===Do&&!l||F===Bo&&!i||F===Ho&&!u)&&N(zo)}),[l,i,u]),(0,o.useEffect)((function(){return function(){z.current=!1,clearTimeout(D.current)}}),[]);var Y=o.useRef(!1);(0,o.useEffect)((function(){$&&(Y.current=!0),void 0!==$&&F===zo&&((Y.current||$)&&(null===O||void 0===O||O($)),Y.current=!0)}),[$,F]);var Q=M;return K[Wo]&&G===Vo&&(Q=Le({transition:"none"},Q)),[F,G,Q,null!==$&&void 0!==$?$:t]}const gi=function(e){var t=e;"object"===O(e)&&(t=e.transitionSupport);var n=o.forwardRef((function(e,n){var r=e.visible,a=void 0===r||r,i=e.removeOnLeave,s=void 0===i||i,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,f=e.eventProps,p=function(e,n){return!(!e.motionName||!t||!1===n)}(e,o.useContext(jo).motion),m=(0,o.useRef)(),g=(0,o.useRef)();var v=k(mi(p,a,(function(){try{return m.current instanceof HTMLElement?m.current:Ao(g.current)}catch(e){return null}}),e),4),y=v[0],b=v[1],w=v[2],_=v[3],x=o.useRef(_);_&&(x.current=!0);var E,S=o.useCallback((function(e){m.current=e,Hr(n,e)}),[n]),O=Le(Le({},f),{},{visible:a});if(c)if(y===zo)E=_?c(Le({},O),S):!s&&x.current&&d?c(Le(Le({},O),{},{className:d}),S):l||!s&&!d?c(Le(Le({},O),{},{style:{display:"none"}}),S):null;else{var C;b===Wo?C="prepare":hi(b)?C="active":b===Vo&&(C="start");var $=ii(u,"".concat(y,"-").concat(C));E=c(Le(Le({},O),{},{className:h()(ii(u,y),P(P({},$,$&&C),u,"string"===typeof u)),style:w}),S)}else E=null;o.isValidElement(E)&&Vr(E)&&(E.ref||(E=o.cloneElement(E,{ref:S})));return o.createElement(Fo,{ref:g},E)}));return n.displayName="CSSMotion",n}(ri);var vi="add",yi="keep",bi="remove",wi="removed";function _i(e){var t;return Le(Le({},t=e&&"object"===O(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function xi(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(_i)}var Ei=["component","children","onVisibleChanged","onAllRemoved"],Si=["status"],ki=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gi,t=function(t){La(r,t);var n=Lo(r);function r(){var e;Mt(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return P(Aa(e=n.call.apply(n,[this].concat(a))),"state",{keyEntities:[]}),P(Aa(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Le(Le({},e),{},{status:wi})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==wi})).length})),e}return Ft(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,s=r.onVisibleChanged,l=r.onAllRemoved,c=$(r,Ei),u=a||o.Fragment,d={};return ki.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,o.createElement(u,c,n.map((function(n,r){var a=n.status,c=$(n,Si),u=a===vi||a===yi;return o.createElement(e,_({},d,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(e){(null===s||void 0===s||s(e,{key:c.key}),e)||0===t.removeKey(c.key)&&l&&l()}}),(function(e,t){return i(Le(Le({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=xi(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=xi(e),i=xi(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var s=i[o];if(s.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map((function(e){return Le(Le({},e),{},{status:vi})}))),r=o),n.push(Le(Le({},s),{},{status:yi})),r+=1,t=!0;break}}t||n.push(Le(Le({},e),{},{status:bi}))})),r<a&&(n=n.concat(i.slice(r).map((function(e){return Le(Le({},e),{},{status:vi})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==bi}))).forEach((function(t){t.key===e&&(t.status=yi)}))})),n}(r,a);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==wi||e.status!==bi}))}}}]),r}(o.Component);P(t,"defaultProps",{component:"div"})}(ri);const Oi=gi;function Ci(){Ci=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:C(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==O(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,n,r){var a=f;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var c=d(t,n,r);if("normal"===c.type){if(a=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(O(t)+" is not iterable")}return y.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(k.prototype),c(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(E),c(E,l,"Generator"),c(E,i,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Pi(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function $i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pi(o,r,a,i,s,"next",e)}function s(e){Pi(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Ii,Ri=Le({},Ro),Ti=Ri.version,Ai=Ri.render,Ni=Ri.unmountComponentAtNode;try{Number((Ti||"").split(".")[0])>=18&&(Ii=Ri.createRoot)}catch(KM){}function ji(e){var t=Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===O(t)&&(t.usingClientEntryPoint=e)}var Mi="__rc_react_root__";function Li(e,t){Ii?function(e,t){ji(!0);var n=t[Mi]||Ii(t);ji(!1),n.render(e),t[Mi]=n}(e,t):function(e,t){Ai(e,t)}(e,t)}function Fi(e){return zi.apply(this,arguments)}function zi(){return(zi=$i(Ci().mark((function e(t){return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[Mi])||void 0===e||e.unmount(),delete t[Mi]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e){Ni(e)}function Bi(){return(Bi=$i(Ci().mark((function e(t){return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Ii){e.next=2;break}return e.abrupt("return",Fi(t));case 2:Di(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function Ui(e){return Number.isNaN(e)?0:e}const Wi=e=>{const{className:t,target:n,component:r}=e,a=o.useRef(null),[i,s]=o.useState(null),[l,c]=o.useState([]),[u,d]=o.useState(0),[f,p]=o.useState(0),[m,g]=o.useState(0),[v,y]=o.useState(0),[b,w]=o.useState(!1),_={left:u,top:f,width:m,height:v,borderRadius:l.map((e=>`${e}px`)).join(" ")};function x(){const e=getComputedStyle(n);s(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return Hi(t)?t:Hi(n)?n:Hi(r)?r:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:a}=e;d(t?n.offsetLeft:Ui(-parseFloat(r))),p(t?n.offsetTop:Ui(-parseFloat(a))),g(n.offsetWidth),y(n.offsetHeight);const{borderTopLeftRadius:o,borderTopRightRadius:i,borderBottomLeftRadius:l,borderBottomRightRadius:u}=e;c([o,i,u,l].map((e=>Ui(parseFloat(e)))))}if(i&&(_["--wave-color"]=i),o.useEffect((()=>{if(n){const e=Po((()=>{x(),w(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(x),t.observe(n)),()=>{Po.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!b)return null;const E=("Checkbox"===r||"Radio"===r)&&(null===n||void 0===n?void 0:n.classList.contains($o));return o.createElement(Oi,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=a.current)||void 0===n?void 0:n.parentElement;(function(e){return Bi.apply(this,arguments)})(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},(e=>{let{className:n}=e;return o.createElement("div",{ref:a,className:h()(t,{"wave-quick":E},n),style:_})}))},Vi=(e,t)=>{var n;const{component:r}=t;if("Checkbox"===r&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",null===e||void 0===e||e.insertBefore(a,null===e||void 0===e?void 0:e.firstChild),Li(o.createElement(Wi,Object.assign({},t,{target:e})),a)},qi=(e,t,n)=>{const{wave:r}=o.useContext(g),[,a,i]=Ia(),s=Fr((o=>{const s=e.current;if((null===r||void 0===r?void 0:r.disabled)||!s)return;const l=s.querySelector(`.${$o}`)||s,{showEffect:c}=r||{};(c||Vi)(l,{className:t,token:a,component:n,event:o,hashId:i})})),l=o.useRef();return e=>{Po.cancel(l.current),l.current=Po((()=>{s(e)}))}};const Ki=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:a}=(0,o.useContext)(g),i=(0,o.useRef)(null),s=a("wave"),[,l]=_o(s),c=qi(i,h()(s,l),r);if(o.useEffect((()=>{const e=i.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!go(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[n]),!o.isValidElement(t))return null!==t&&void 0!==t?t:null;return bo(t,{ref:Vr(t)?Ur(t.ref,i):i})},Xi=o.createContext(!1),Zi=e=>{let{children:t,disabled:n}=e;const r=o.useContext(Xi);return o.createElement(Xi.Provider,{value:null!==n&&void 0!==n?n:r},t)},Gi=Xi,Ji=o.createContext(void 0),Yi=e=>{let{children:t,size:n}=e;const r=o.useContext(Ji);return o.createElement(Ji.Provider,{value:n||r},t)},Qi=Ji,es=e=>{const t=o.useContext(Qi);return o.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:t:e instanceof Function?e(t):t:t),[e,t])};const ts=o.createContext(null),ns=(e,t)=>{const n=o.useContext(ts),r=o.useMemo((()=>{if(!n)return"";const{compactDirection:r,isFirstItem:a,isLastItem:o}=n,i="vertical"===r?"-vertical-":"-";return h()(`${e}-compact${i}item`,{[`${e}-compact${i}first-item`]:a,[`${e}-compact${i}last-item`]:o,[`${e}-compact${i}item-rtl`]:"rtl"===t})}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:r}},rs=e=>{let{children:t}=e;return o.createElement(ts.Provider,{value:null},t)};var as=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const os=o.createContext(void 0),is=e=>{const{getPrefixCls:t,direction:n}=o.useContext(g),{prefixCls:r,size:a,className:i}=e,s=as(e,["prefixCls","size","className"]),l=t("btn-group",r),[,,c]=Ia();let u="";switch(a){case"large":u="lg";break;case"small":u="sm"}const d=h()(l,{[`${l}-${u}`]:u,[`${l}-rtl`]:"rtl"===n},i,c);return o.createElement(os.Provider,{value:a},o.createElement("div",Object.assign({},s,{className:d})))},ss=/^[\u4e00-\u9fa5]{2}$/,ls=ss.test.bind(ss);function cs(e){return"danger"===e?{danger:!0}:{type:e}}function us(e){return"string"===typeof e}function ds(e){return"text"===e||"link"===e}function fs(e,t){let n=!1;const r=[];return o.Children.forEach(e,(e=>{const t=typeof e,a="string"===t||"number"===t;if(n&&a){const t=r.length-1,n=r[t];r[t]=`${n}${e}`}else r.push(e);n=a})),o.Children.map(r,(e=>function(e,t){if(null===e||void 0===e)return;const n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&us(e.type)&&ls(e.props.children)?bo(e,{children:e.props.children.split("").join(n)}):us(e)?ls(e)?o.createElement("span",null,e.split("").join(n)):o.createElement("span",null,e):vo(e)?o.createElement("span",null,e):e}(e,t)))}const hs=(0,o.forwardRef)(((e,t)=>{const{className:n,style:r,children:a,prefixCls:i}=e,s=h()(`${i}-icon`,n);return o.createElement("span",{ref:t,className:s,style:r},a)})),ps=hs;const ms={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var gs=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:ms}))};const vs=o.forwardRef(gs),ys=(0,o.forwardRef)(((e,t)=>{let{prefixCls:n,className:r,style:a,iconClassName:i}=e;const s=h()(`${n}-loading-icon`,r);return o.createElement(ps,{prefixCls:n,className:s,style:a,ref:t},o.createElement(vs,{className:i}))})),bs=()=>({width:0,opacity:0,transform:"scale(0)"}),ws=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),_s=e=>{const{prefixCls:t,loading:n,existIcon:r,className:a,style:i}=e,s=!!n;return r?o.createElement(ys,{prefixCls:t,className:a,style:i}):o.createElement(Oi,{visible:s,motionName:`${t}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:bs,onAppearActive:ws,onEnterStart:bs,onEnterActive:ws,onLeaveStart:ws,onLeaveActive:bs},((e,n)=>{let{className:r,style:s}=e;return o.createElement(ys,{prefixCls:t,className:a,style:Object.assign(Object.assign({},i),s),ref:n,iconClassName:r})}))},xs=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Es=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},xs(`${t}-primary`,a),xs(`${t}-danger`,o)]}},Ss=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:r}=e;return Ka(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},ks=e=>{var t,n,r,a,o,i;const s=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(a=e.contentLineHeight)&&void 0!==a?a:fa(s),d=null!==(o=e.contentLineHeightSM)&&void 0!==o?o:fa(l),f=null!==(i=e.contentLineHeightLG)&&void 0!==i?i:fa(c);return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((e.controlHeight-s*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*f)/2-e.lineWidth,0)}},Os=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${ln(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},oa(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${t}-compact-item`]:{flex:"none"}}}},Cs=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),Ps=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),$s=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),Is=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Rs=(e,t,n,r,a,o,i,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},Cs(e,Object.assign({background:t},i),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),Ts=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Is(e))}),As=e=>Object.assign({},Ts(e)),Ns=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),js=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},As(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),Cs(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Rs(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Cs(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Rs(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Ts(e))}),Ms=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},As(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),Cs(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),Rs(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},Cs(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),Rs(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ts(e))}),Ls=e=>Object.assign(Object.assign({},js(e)),{borderStyle:"dashed"}),Fs=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Cs(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Ns(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Cs(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),Ns(e))}),zs=e=>Object.assign(Object.assign(Object.assign({},Cs(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),Ns(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Ns(e)),Cs(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),Ds=e=>{const{componentCls:t}=e;return{[`${t}-default`]:js(e),[`${t}-primary`]:Ms(e),[`${t}-dashed`]:Ls(e),[`${t}-link`]:Fs(e),[`${t}-text`]:zs(e),[`${t}-ghost`]:Rs(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},Bs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:a,lineHeight:o,borderRadius:i,buttonPaddingHorizontal:s,iconCls:l,buttonPaddingVertical:c}=e,u=`${n}-icon-only`;return[{[`${t}`]:{fontSize:a,lineHeight:o,height:r,padding:`${ln(c)} ${ln(s)}`,borderRadius:i,[`&${u}`]:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[l]:{fontSize:e.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${n}${n}-circle${t}`]:Ps(e)},{[`${n}${n}-round${t}`]:$s(e)}]},Hs=e=>{const t=Ka(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return Bs(t,e.componentCls)},Us=e=>{const t=Ka(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Bs(t,`${e.componentCls}-sm`)},Ws=e=>{const t=Ka(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Bs(t,`${e.componentCls}-lg`)},Vs=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},qs=to("Button",(e=>{const t=Ss(e);return[Os(t),Hs(t),Us(t),Ws(t),Vs(t),Ds(t),Es(t)]}),ks,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Ks(e,t,n){const{focusElCls:r,focus:a,borderElCls:o}=n,i=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${i}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${i}`]:{zIndex:0}})}}function Xs(e,t,n){const{borderElCls:r}=n,a=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${a}, &${e}-sm ${a}, &${e}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${a}, &${e}-sm ${a}, &${e}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},Ks(e,r,t)),Xs(n,r,t))}}function Gs(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Js(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Gs(e,t)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const Ys=e=>{const{componentCls:t,calc:n}=e;return{[t]:{[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:`calc(100% + ${ln(e.lineWidth)} * 2)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${ln(e.lineWidth)} * 2)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Qs=((e,t,n,r)=>{const a=eo(e,t,n,Object.assign({resetStyle:!1,order:-998},r));return e=>{let{prefixCls:t,rootCls:n=t}=e;return a(t,n),null}})(["Button","compact"],(e=>{const t=Ss(e);return[Zs(t),Js(t),Ys(t)]}),ks);var el=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const tl=o.forwardRef(((e,t)=>{var n,r;const{loading:a=!1,prefixCls:i,type:s,danger:l,shape:c="default",size:u,styles:d,disabled:f,className:m,rootClassName:v,children:y,icon:b,ghost:w=!1,block:_=!1,htmlType:x="button",classNames:E,style:S={}}=e,k=el(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),O=s||"default",{getPrefixCls:C,autoInsertSpaceInButton:P,direction:$,button:I}=(0,o.useContext)(g),R=C("btn",i),[T,A,N]=qs(R),j=(0,o.useContext)(Gi),M=null!==f&&void 0!==f?f:j,L=(0,o.useContext)(os),F=(0,o.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(a)),[a]),[z,D]=(0,o.useState)(F.loading),[B,H]=(0,o.useState)(!1),U=Ur(t,(0,o.createRef)()),W=1===o.Children.count(y)&&!b&&!ds(O);(0,o.useEffect)((()=>{let e=null;return F.delay>0?e=setTimeout((()=>{e=null,D(!0)}),F.delay):D(F.loading),function(){e&&(clearTimeout(e),e=null)}}),[F]),(0,o.useEffect)((()=>{if(!U||!U.current||!1===P)return;const e=U.current.textContent;W&&ls(e)?B||H(!0):B&&H(!1)}),[U]);const V=t=>{const{onClick:n}=e;z||M?t.preventDefault():null===n||void 0===n||n(t)};const q=!1!==P,{compactSize:K,compactItemClassnames:X}=ns(R,$),Z={large:"lg",small:"sm",middle:void 0},G=es((e=>{var t,n;return null!==(n=null!==(t=null!==u&&void 0!==u?u:K)&&void 0!==t?t:L)&&void 0!==n?n:e})),J=G&&Z[G]||"",Y=z?"loading":b,Q=p(k,["navigate"]),ee=h()(R,A,N,{[`${R}-${c}`]:"default"!==c&&c,[`${R}-${O}`]:O,[`${R}-${J}`]:J,[`${R}-icon-only`]:!y&&0!==y&&!!Y,[`${R}-background-ghost`]:w&&!ds(O),[`${R}-loading`]:z,[`${R}-two-chinese-chars`]:B&&q&&!z,[`${R}-block`]:_,[`${R}-dangerous`]:!!l,[`${R}-rtl`]:"rtl"===$},X,m,v,null===I||void 0===I?void 0:I.className),te=Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),S),ne=h()(null===E||void 0===E?void 0:E.icon,null===(n=null===I||void 0===I?void 0:I.classNames)||void 0===n?void 0:n.icon),re=Object.assign(Object.assign({},(null===d||void 0===d?void 0:d.icon)||{}),(null===(r=null===I||void 0===I?void 0:I.styles)||void 0===r?void 0:r.icon)||{}),ae=b&&!z?o.createElement(ps,{prefixCls:R,className:ne,style:re},b):o.createElement(_s,{existIcon:!!b,prefixCls:R,loading:!!z}),oe=y||0===y?fs(y,W&&q):null;if(void 0!==Q.href)return T(o.createElement("a",Object.assign({},Q,{className:h()(ee,{[`${R}-disabled`]:M}),href:M?void 0:Q.href,style:te,onClick:V,ref:U,tabIndex:M?-1:0}),ae,oe));let ie=o.createElement("button",Object.assign({},k,{type:x,className:ee,style:te,onClick:V,disabled:M,ref:U}),ae,oe,!!X&&o.createElement(Qs,{key:"compact",prefixCls:R}));return ds(O)||(ie=o.createElement(Ki,{component:"Button",disabled:!!z},ie)),T(ie)})),nl=tl;nl.Group=is,nl.__ANT_BUTTON=!0;const rl=nl,al=e=>{const{prefixCls:t,className:n,style:r,size:a,shape:i}=e,s=h()({[`${t}-lg`]:"large"===a,[`${t}-sm`]:"small"===a}),l=h()({[`${t}-circle`]:"circle"===i,[`${t}-square`]:"square"===i,[`${t}-round`]:"round"===i}),c=o.useMemo((()=>"number"===typeof a?{width:a,height:a,lineHeight:`${a}px`}:{}),[a]);return o.createElement("span",{className:h()(t,s,l,n),style:Object.assign(Object.assign({},c),r)})},ol=new Mr("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),il=e=>({height:e,lineHeight:ln(e)}),sl=e=>Object.assign({width:e},il(e)),ll=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:ol,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),cl=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},il(e)),ul=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},sl(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},sl(a)),[`${t}${t}-sm`]:Object.assign({},sl(o))}},dl=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:i,calc:s}=e;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:n},cl(t,s)),[`${r}-lg`]:Object.assign({},cl(a,s)),[`${r}-sm`]:Object.assign({},cl(o,s))}},fl=e=>Object.assign({width:e},il(e)),hl=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:a,calc:o}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:a},fl(o(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},fl(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},pl=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},ml=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},il(e)),gl=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:i,calc:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:t,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},ml(r,s))},pl(e,r,n)),{[`${n}-lg`]:Object.assign({},ml(a,s))}),pl(e,a,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},ml(o,s))}),pl(e,o,`${n}-sm`))},vl=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:i,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:p,titleHeight:m,blockRadius:g,paragraphLiHeight:v,controlHeightXS:y,paragraphMarginTop:b}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},sl(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},sl(c)),[`${n}-sm`]:Object.assign({},sl(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:m,background:d,borderRadius:g,[`+ ${a}`]:{marginBlockStart:u}},[`${a}`]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:g,"+ li":{marginBlockStart:y}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${a} > li`]:{borderRadius:p}}},[`${t}-with-avatar ${t}-content`]:{[`${r}`]:{marginBlockStart:h,[`+ ${a}`]:{marginBlockStart:b}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},gl(e)),ul(e)),dl(e)),hl(e)),[`${t}${t}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${i}`]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${r},\n        ${a} > li,\n        ${n},\n        ${o},\n        ${i},\n        ${s}\n      `]:Object.assign({},ll(e))}}},yl=to("Skeleton",(e=>{const{componentCls:t,calc:n}=e,r=Ka(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[vl(r)]}),(e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),bl=e=>{const{prefixCls:t,className:n,rootClassName:r,active:a,shape:i="circle",size:s="default"}=e,{getPrefixCls:l}=o.useContext(g),c=l("skeleton",t),[u,d,f]=yl(c),m=p(e,["prefixCls","className"]),v=h()(c,`${c}-element`,{[`${c}-active`]:a},n,r,d,f);return u(o.createElement("div",{className:v},o.createElement(al,Object.assign({prefixCls:`${c}-avatar`,shape:i,size:s},m))))},wl=e=>{const{prefixCls:t,className:n,rootClassName:r,active:a,block:i=!1,size:s="default"}=e,{getPrefixCls:l}=o.useContext(g),c=l("skeleton",t),[u,d,f]=yl(c),m=p(e,["prefixCls"]),v=h()(c,`${c}-element`,{[`${c}-active`]:a,[`${c}-block`]:i},n,r,d,f);return u(o.createElement("div",{className:v},o.createElement(al,Object.assign({prefixCls:`${c}-button`,size:s},m))))},_l=e=>{const{prefixCls:t,className:n,rootClassName:r,style:a,active:i}=e,{getPrefixCls:s}=o.useContext(g),l=s("skeleton",t),[c,u,d]=yl(l),f=h()(l,`${l}-element`,{[`${l}-active`]:i},n,r,u,d);return c(o.createElement("div",{className:f},o.createElement("div",{className:h()(`${l}-image`,n),style:a},o.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${l}-image-svg`},o.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${l}-image-path`})))))},xl=e=>{const{prefixCls:t,className:n,rootClassName:r,active:a,block:i,size:s="default"}=e,{getPrefixCls:l}=o.useContext(g),c=l("skeleton",t),[u,d,f]=yl(c),m=p(e,["prefixCls"]),v=h()(c,`${c}-element`,{[`${c}-active`]:a,[`${c}-block`]:i},n,r,d,f);return u(o.createElement("div",{className:v},o.createElement(al,Object.assign({prefixCls:`${c}-input`,size:s},m))))};const El={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};var Sl=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:El}))};const kl=o.forwardRef(Sl),Ol=e=>{const{prefixCls:t,className:n,rootClassName:r,style:a,active:i,children:s}=e,{getPrefixCls:l}=o.useContext(g),c=l("skeleton",t),[u,d,f]=yl(c),p=h()(c,`${c}-element`,{[`${c}-active`]:i},d,n,r,f),m=null!==s&&void 0!==s?s:o.createElement(kl,null);return u(o.createElement("div",{className:p},o.createElement("div",{className:h()(`${c}-image`,n),style:a},m)))},Cl=(e,t)=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},Pl=e=>{const{prefixCls:t,className:n,style:r,rows:a}=e,i=d(Array(a)).map(((t,n)=>o.createElement("li",{key:n,style:{width:Cl(n,e)}})));return o.createElement("ul",{className:h()(t,n),style:r},i)},$l=e=>{let{prefixCls:t,className:n,width:r,style:a}=e;return o.createElement("h3",{className:h()(t,n),style:Object.assign({width:r},a)})};function Il(e){return e&&"object"===typeof e?e:{}}const Rl=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:a,style:i,children:s,avatar:l=!1,title:c=!0,paragraph:u=!0,active:d,round:f}=e,{getPrefixCls:p,direction:m,skeleton:v}=o.useContext(g),y=p("skeleton",t),[b,w,_]=yl(y);if(n||!("loading"in e)){const e=!!l,t=!!c,n=!!u;let s,p;if(e){const e=Object.assign(Object.assign({prefixCls:`${y}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(t,n)),Il(l));s=o.createElement("div",{className:`${y}-header`},o.createElement(al,Object.assign({},e)))}if(t||n){let r,a;if(t){const t=Object.assign(Object.assign({prefixCls:`${y}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),Il(c));r=o.createElement($l,Object.assign({},t))}if(n){const n=Object.assign(Object.assign({prefixCls:`${y}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,t)),Il(u));a=o.createElement(Pl,Object.assign({},n))}p=o.createElement("div",{className:`${y}-content`},r,a)}const g=h()(y,{[`${y}-with-avatar`]:e,[`${y}-active`]:d,[`${y}-rtl`]:"rtl"===m,[`${y}-round`]:f},null===v||void 0===v?void 0:v.className,r,a,w,_);return b(o.createElement("div",{className:g,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),i)},s,p))}return null!==s&&void 0!==s?s:null};Rl.Button=wl,Rl.Avatar=bl,Rl.Input=xl,Rl.Image=_l,Rl.Node=Ol;const Tl=Rl;const Al={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var Nl=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Al}))};const jl=o.forwardRef(Nl);const Ml={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};var Ll=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Ml}))};const Fl=o.forwardRef(Ll);let zl=function(e){return e[e.PDF=1]="PDF",e[e.TXT=2]="TXT",e[e.GIF=3]="GIF",e[e.JPG=4]="JPG",e[e.XLSX=5]="XLSX",e[e.DOCX=6]="DOCX",e[e.MD=7]="MD",e[e.PPT=8]="PPT",e[e.ZIP=9]="ZIP",e[e.UNKNOWN=10]="UNKNOWN",e}({});const Dl=()=>new Promise((e=>{setTimeout((()=>{e([{id:1,name:"mydata.txt",type:zl.TXT,folderId:2},{id:2,name:"foodf.pdf",type:zl.PDF,folderId:2},{id:3,name:"GREEEN_BEER.txt",type:zl.TXT,folderId:31},{id:4,name:"hooollooFF.pdf",type:zl.PDF,folderId:3},{id:5,name:"hooollooFF.pdf",type:zl.PDF,folderId:811},{id:6,name:"hooollooFF.pdf",type:zl.PDF,folderId:811},{id:7,name:"hooollooFF.pdf",type:zl.PDF,folderId:713}])}),3e3)})),Bl=()=>new Promise((e=>{setTimeout((()=>{e([{id:1,name:"Empty"},{id:2,name:"Archived"},{id:3,name:"Review"},{id:31,name:"Salary 2024",folderId:3},{id:32,name:"Salary 2023",folderId:3},{id:33,name:"Salary 2022",folderId:3},{id:41,name:"Salary 2025",folderId:4},{id:4,name:"Salary 2026"},{id:5,name:"Salary 2027",folderId:100},{id:6,name:"Salary 2028",folderId:200},{id:7,name:"Anime"},{id:71,name:"Anime 2024",folderId:7},{id:72,name:"Anime 2023",folderId:7},{id:73,name:"Anime 2022",folderId:7},{id:711,name:"Best Anime 2024",folderId:71},{id:712,name:"Best Anime 2023",folderId:71},{id:713,name:"Best Anime 2022",folderId:71},{id:811,name:"Best TV 2024",folderId:81},{id:81,name:"TV 2024",folderId:8},{id:8,name:"TV"}])}),1e3)})),Hl=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};var Ul={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Ul.F1&&t<=Ul.F12)return!1;switch(t){case Ul.ALT:case Ul.CAPS_LOCK:case Ul.CONTEXT_MENU:case Ul.CTRL:case Ul.DOWN:case Ul.END:case Ul.ESC:case Ul.HOME:case Ul.INSERT:case Ul.LEFT:case Ul.MAC_FF_META:case Ul.META:case Ul.NUMLOCK:case Ul.NUM_CENTER:case Ul.PAGE_DOWN:case Ul.PAGE_UP:case Ul.PAUSE:case Ul.PRINT_SCREEN:case Ul.RIGHT:case Ul.SHIFT:case Ul.UP:case Ul.WIN_KEY:case Ul.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Ul.ZERO&&e<=Ul.NINE)return!0;if(e>=Ul.NUM_ZERO&&e<=Ul.NUM_MULTIPLY)return!0;if(e>=Ul.A&&e<=Ul.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Ul.SPACE:case Ul.QUESTION_MARK:case Ul.NUM_PLUS:case Ul.NUM_MINUS:case Ul.NUM_PERIOD:case Ul.NUM_DIVISION:case Ul.SEMICOLON:case Ul.DASH:case Ul.EQUALS:case Ul.COMMA:case Ul.PERIOD:case Ul.SLASH:case Ul.APOSTROPHE:case Ul.SINGLE_QUOTE:case Ul.OPEN_SQUARE_BRACKET:case Ul.BACKSLASH:case Ul.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Wl=Ul;const Vl=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,a=e.children,i=e.onMouseDown,s=e.onClick,l="function"===typeof n?n(r):n;return o.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null===i||void 0===i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==l?l:o.createElement("span",{className:h()(t.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))};var ql=o.createContext(null);function Kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=o.useRef(null),n=o.useRef(null);return o.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}]}var Xl="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function Zl(e,t){return 0===e.indexOf(t)}function Gl(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Le({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Zl(n,"aria-"))||t.data&&Zl(n,"data-")||t.attr&&Xl.includes(n))&&(r[n]=e[n])})),r}var Jl=o.createContext(null);var Yl=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),Ql="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,ec="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),tc="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(ec):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var nc=["top","right","bottom","left","width","height","size","weight"],rc="undefined"!==typeof MutationObserver,ac=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&s()}function i(){tc(o)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Ql&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rc?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Ql&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;nc.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),oc=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},ic=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ec},sc=hc(0,0,0,0);function lc(e){return parseFloat(e)||0}function cc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+lc(e["border-"+n+"-width"])}),0)}function uc(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return sc;var r=ic(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=lc(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=lc(r.width),l=lc(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=cc(r,"left","right")+o),Math.round(l+i)!==n&&(l-=cc(r,"top","bottom")+i)),!function(e){return e===ic(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return hc(a.left,a.top,s,l)}var dc="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof ic(e).SVGGraphicsElement}:function(e){return e instanceof ic(e).SVGElement&&"function"===typeof e.getBBox};function fc(e){return Ql?dc(e)?function(e){var t=e.getBBox();return hc(0,0,t.width,t.height)}(e):uc(e):sc}function hc(e,t,n,r){return{x:e,y:t,width:n,height:r}}var pc=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=hc(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=fc(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),mc=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(o.prototype);return oc(i,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),i}(t);oc(this,{target:e,contentRect:n})},gc=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Yl,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new pc(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new mc(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),vc="undefined"!==typeof WeakMap?new WeakMap:new Yl,yc=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ac.getInstance(),r=new gc(t,n,this);vc.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){yc.prototype[e]=function(){var t;return(t=vc.get(this))[e].apply(t,arguments)}}));const bc="undefined"!==typeof ec.ResizeObserver?ec.ResizeObserver:yc;var wc=new Map;var _c=new bc((function(e){e.forEach((function(e){var t,n=e.target;null===(t=wc.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var xc=function(e){La(n,e);var t=Lo(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ft(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function Ec(e,t){var n=e.children,r=e.disabled,a=o.useRef(null),i=o.useRef(null),s=o.useContext(Jl),l="function"===typeof n,c=l?n(a):n,u=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&o.isValidElement(c)&&Vr(c),f=d?c.ref:null,h=Wr(f,a),p=function(){var e;return Ao(a.current)||(a.current&&"object"===O(a.current)?Ao(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||Ao(i.current)};o.useImperativeHandle(t,(function(){return p()}));var m=o.useRef(e);m.current=e;var g=o.useCallback((function(e){var t=m.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,i=a.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(o),f=Math.floor(i);if(u.current.width!==d||u.current.height!==f||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var h={width:d,height:f,offsetWidth:l,offsetHeight:c};u.current=h;var p=l===Math.round(o)?o:l,g=c===Math.round(i)?i:c,v=Le(Le({},h),{},{offsetWidth:p,offsetHeight:g});null===s||void 0===s||s(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return o.useEffect((function(){var e,t,n=p();return n&&!r&&(e=n,t=g,wc.has(e)||(wc.set(e,new Set),_c.observe(e)),wc.get(e).add(t)),function(){return function(e,t){wc.has(e)&&(wc.get(e).delete(t),wc.get(e).size||(_c.unobserve(e),wc.delete(e)))}(n,g)}}),[a.current,r]),o.createElement(xc,{ref:i},d?o.cloneElement(c,{ref:h}):c)}const Sc=o.forwardRef(Ec);function kc(e,t){var n=e.children;return("function"===typeof n?[n]:w(n)).map((function(n,r){var a=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return o.createElement(Sc,_({},e,{key:a,ref:0===r?t:void 0}),n)}))}var Oc=o.forwardRef(kc);Oc.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),a=o.useRef([]),i=o.useContext(Jl),s=o.useCallback((function(e,t,o){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===i||void 0===i||i(e,t,o)}),[n,i]);return o.createElement(Jl.Provider,{value:s},t)};const Cc=Oc;var Pc=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],$c=void 0;function Ic(e,t){var n=e.prefixCls,r=e.invalidate,a=e.item,i=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,f=e.style,p=e.children,m=e.display,g=e.order,v=e.component,y=void 0===v?"div":v,b=$(e,Pc),w=s&&!m;function x(e){c(u,e)}o.useEffect((function(){return function(){x(null)}}),[]);var E,S=i&&a!==$c?i(a):p;r||(E={opacity:w?0:1,height:w?0:$c,overflowY:w?"hidden":$c,order:s?g:$c,pointerEvents:w?"none":$c,position:w?"absolute":$c});var k={};w&&(k["aria-hidden"]=!0);var O=o.createElement(y,_({className:h()(!r&&n,d),style:Le(Le({},E),f)},k,b,{ref:t}),S);return s&&(O=o.createElement(Cc,{onResize:function(e){x(e.offsetWidth)},disabled:l},O)),O}var Rc=o.forwardRef(Ic);Rc.displayName="Item";const Tc=Rc;function Ac(){var e=o.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)Po(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,Io.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function Nc(e,t){var n=k(o.useState(t),2),r=n[0],a=n[1];return[r,Fr((function(t){e((function(){a(t)}))}))]}var jc=o.createContext(null),Mc=["component"],Lc=["className"],Fc=["className"],zc=function(e,t){var n=o.useContext(jc);if(!n){var r=e.component,a=void 0===r?"div":r,i=$(e,Mc);return o.createElement(a,_({},i,{ref:t}))}var s=n.className,l=$(n,Lc),c=e.className,u=$(e,Fc);return o.createElement(jc.Provider,{value:null},o.createElement(Tc,_({ref:t,className:h()(s,c)},l,u)))},Dc=o.forwardRef(zc);Dc.displayName="RawItem";const Bc=Dc;var Hc=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Uc="responsive",Wc="invalidate";function Vc(e){return"+ ".concat(e.length," ...")}function qc(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,a=e.data,i=void 0===a?[]:a,s=e.renderItem,l=e.renderRawItem,c=e.itemKey,u=e.itemWidth,d=void 0===u?10:u,f=e.ssr,p=e.style,m=e.className,g=e.maxCount,v=e.renderRest,y=e.renderRawRest,b=e.suffix,w=e.component,x=void 0===w?"div":w,E=e.itemComponent,S=e.onVisibleChange,O=$(e,Hc),C="full"===f,P=Ac(),I=k(Nc(P,null),2),R=I[0],T=I[1],A=R||0,N=k(Nc(P,new Map),2),j=N[0],M=N[1],L=k(Nc(P,0),2),F=L[0],z=L[1],D=k(Nc(P,0),2),B=D[0],H=D[1],U=k(Nc(P,0),2),W=U[0],V=U[1],q=k((0,o.useState)(null),2),K=q[0],X=q[1],Z=k((0,o.useState)(null),2),G=Z[0],J=Z[1],Y=o.useMemo((function(){return null===G&&C?Number.MAX_SAFE_INTEGER:G||0}),[G,R]),Q=k((0,o.useState)(!1),2),ee=Q[0],te=Q[1],ne="".concat(r,"-item"),re=Math.max(F,B),ae=g===Uc,oe=i.length&&ae,ie=g===Wc,se=oe||"number"===typeof g&&i.length>g,le=(0,o.useMemo)((function(){var e=i;return oe?e=null===R&&C?i:i.slice(0,Math.min(i.length,A/d)):"number"===typeof g&&(e=i.slice(0,g)),e}),[i,d,R,g,oe]),ce=(0,o.useMemo)((function(){return oe?i.slice(Y+1):i.slice(le.length)}),[i,le,oe,Y]),ue=(0,o.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),de=(0,o.useCallback)(s||function(e){return e},[s]);function fe(e,t,n){(G!==e||void 0!==t&&t!==K)&&(J(e),n||(te(e<i.length-1),null===S||void 0===S||S(e)),void 0!==t&&X(t))}function he(e,t){M((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function pe(e){return j.get(ue(le[e],e))}gn((function(){if(A&&"number"===typeof re&&le){var e=W,t=le.length,n=t-1;if(!t)return void fe(0,null);for(var r=0;r<t;r+=1){var a=pe(r);if(C&&(a=a||0),void 0===a){fe(r-1,void 0,!0);break}if(e+=a,0===n&&e<=A||r===n-1&&e+pe(n)<=A){fe(n,null);break}if(e+re>A){fe(r-1,e-a-W+B);break}}b&&pe(0)+W>A&&X(null)}}),[A,j,B,W,ue,le]);var me=ee&&!!ce.length,ge={};null!==K&&oe&&(ge={position:"absolute",left:K,top:0});var ve,ye={prefixCls:ne,responsive:oe,component:E,invalidate:ie},be=l?function(e,t){var n=ue(e,t);return o.createElement(jc.Provider,{key:n,value:Le(Le({},ye),{},{order:t,item:e,itemKey:n,registerSize:he,display:t<=Y})},l(e,t))}:function(e,t){var n=ue(e,t);return o.createElement(Tc,_({},ye,{order:t,key:n,item:e,renderItem:de,itemKey:n,registerSize:he,display:t<=Y}))},we={order:me?Y:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){H(t),z(B)},display:me};if(y)y&&(ve=o.createElement(jc.Provider,{value:Le(Le({},ye),we)},y(ce)));else{var _e=v||Vc;ve=o.createElement(Tc,_({},ye,we),"function"===typeof _e?_e(ce):_e)}var xe=o.createElement(x,_({className:h()(!ie&&r,m),style:p,ref:t},O),le.map(be),se?ve:null,b&&o.createElement(Tc,_({},ye,{responsive:ae,responsiveDisabled:!oe,order:Y,className:"".concat(ne,"-suffix"),registerSize:function(e,t){V(t)},display:!0,style:ge}),b));return ae&&(xe=o.createElement(Cc,{onResize:function(e,t){T(t.clientWidth)},disabled:!oe},xe)),xe}var Kc=o.forwardRef(qc);Kc.displayName="Overflow",Kc.Item=Bc,Kc.RESPONSIVE=Uc,Kc.INVALIDATE=Wc;const Xc=Kc;var Zc=function(e,t){var n,r=e.prefixCls,a=e.id,i=e.inputElement,s=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,d=e.editable,f=e.activeDescendantId,p=e.value,m=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,y=e.onChange,b=e.onPaste,w=e.onCompositionStart,_=e.onCompositionEnd,x=e.open,E=e.attrs,S=i||o.createElement("input",null),k=S,O=k.ref,C=k.props,P=C.onKeyDown,$=C.onChange,I=C.onMouseDown,R=C.onCompositionStart,T=C.onCompositionEnd,A=C.style;return S.props,S=o.cloneElement(S,Le(Le(Le({type:"search"},C),{},{id:a,ref:Ur(t,O),disabled:s,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:h()("".concat(r,"-selection-search-input"),null===(n=S)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":x||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":x?f:void 0},E),{},{value:d?p:"",maxLength:m,readOnly:!d,unselectable:d?null:"on",style:Le(Le({},A),{},{opacity:d?null:0}),onKeyDown:function(e){g(e),P&&P(e)},onMouseDown:function(e){v(e),I&&I(e)},onChange:function(e){y(e),$&&$(e)},onCompositionStart:function(e){w(e),R&&R(e)},onCompositionEnd:function(e){_(e),T&&T(e)},onPaste:b}))};const Gc=o.forwardRef(Zc);function Jc(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Yc="undefined"!==typeof window&&window.document&&window.document.documentElement;function Qc(e){return["string","number"].includes(O(e))}function eu(e){var t=void 0;return e&&(Qc(e.title)?t=e.title.toString():Qc(e.label)&&(t=e.label.toString())),t}function tu(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var nu=function(e){e.preventDefault(),e.stopPropagation()};const ru=function(e){var t,n,r=e.id,a=e.prefixCls,i=e.values,s=e.open,l=e.searchValue,c=e.autoClearSearchValue,u=e.inputRef,d=e.placeholder,f=e.disabled,p=e.mode,m=e.showSearch,g=e.autoFocus,v=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,w=e.removeIcon,_=e.maxTagCount,x=e.maxTagTextLength,E=e.maxTagPlaceholder,S=void 0===E?function(e){return"+ ".concat(e.length," ...")}:E,O=e.tagRender,C=e.onToggleOpen,$=e.onRemove,I=e.onInputChange,R=e.onInputPaste,T=e.onInputKeyDown,A=e.onInputMouseDown,N=e.onInputCompositionStart,j=e.onInputCompositionEnd,M=o.useRef(null),L=k((0,o.useState)(0),2),F=L[0],z=L[1],D=k((0,o.useState)(!1),2),B=D[0],H=D[1],U="".concat(a,"-selection"),W=s||"multiple"===p&&!1===c||"tags"===p?l:"",V="tags"===p||"multiple"===p&&!1===c||m&&(s||B);t=function(){z(M.current.scrollWidth)},n=[W],Yc?o.useLayoutEffect(t,n):o.useEffect(t,n);var q=function(e,t,n,r,a){return o.createElement("span",{title:eu(e),className:h()("".concat(U,"-item"),P({},"".concat(U,"-item-disabled"),n))},o.createElement("span",{className:"".concat(U,"-item-content")},t),r&&o.createElement(Vl,{className:"".concat(U,"-item-remove"),onMouseDown:nu,onClick:a,customizeIcon:w},"\xd7"))},K=function(e,t,n,r,a,i){return o.createElement("span",{onMouseDown:function(e){nu(e),C(!s)}},O({label:t,value:e,disabled:n,closable:r,onClose:a,isMaxTag:!!i}))},X=o.createElement("div",{className:"".concat(U,"-search"),style:{width:F},onFocus:function(){H(!0)},onBlur:function(){H(!1)}},o.createElement(Gc,{ref:u,open:s,prefixCls:a,id:r,inputElement:null,disabled:f,autoFocus:g,autoComplete:v,editable:V,activeDescendantId:y,value:W,onKeyDown:T,onMouseDown:A,onChange:I,onPaste:R,onCompositionStart:N,onCompositionEnd:j,tabIndex:b,attrs:Gl(e,!0)}),o.createElement("span",{ref:M,className:"".concat(U,"-search-mirror"),"aria-hidden":!0},W,"\xa0")),Z=o.createElement(Xc,{prefixCls:"".concat(U,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,a=!f&&!t,o=n;if("number"===typeof x&&("string"===typeof n||"number"===typeof n)){var i=String(o);i.length>x&&(o="".concat(i.slice(0,x),"..."))}var s=function(t){t&&t.stopPropagation(),$(e)};return"function"===typeof O?K(r,o,t,a,s):q(e,o,t,a,s)},renderRest:function(e){var t="function"===typeof S?S(e):S;return"function"===typeof O?K(void 0,t,!1,!1,void 0,!0):q({title:t},t,!1)},suffix:X,itemKey:tu,maxCount:_});return o.createElement(o.Fragment,null,Z,!i.length&&!W&&o.createElement("span",{className:"".concat(U,"-placeholder")},d))};const au=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,a=e.inputRef,i=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,m=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,w=e.onInputMouseDown,_=e.onInputChange,x=e.onInputPaste,E=e.onInputCompositionStart,S=e.onInputCompositionEnd,O=e.title,C=k(o.useState(!1),2),P=C[0],$=C[1],I="combobox"===u,R=I||m,T=f[0],A=g||"";I&&v&&!P&&(A=v),o.useEffect((function(){I&&$(!1)}),[I,v]);var N=!("combobox"!==u&&!d&&!m)&&!!A,j=void 0===O?eu(T):O,M=o.useMemo((function(){return T?null:o.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:N?{visibility:"hidden"}:void 0},h)}),[T,N,h,n]);return o.createElement(o.Fragment,null,o.createElement("span",{className:"".concat(n,"-selection-search")},o.createElement(Gc,{ref:a,prefixCls:n,id:r,open:d,inputElement:t,disabled:i,autoFocus:s,autoComplete:l,editable:R,activeDescendantId:c,value:A,onKeyDown:b,onMouseDown:w,onChange:function(e){$(!0),_(e)},onPaste:x,onCompositionStart:E,onCompositionEnd:S,tabIndex:p,attrs:Gl(e,!0),maxLength:I?y:void 0})),!I&&T?o.createElement("span",{className:"".concat(n,"-selection-item"),title:j,style:N?{visibility:"hidden"}:void 0},T.label):null,M)};var ou=function(e,t){var n=(0,o.useRef)(null),r=(0,o.useRef)(!1),a=e.prefixCls,i=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.autoClearSearchValue,f=e.onSearch,h=e.onSearchSubmit,p=e.onToggleOpen,m=e.onInputKeyDown,g=e.domRef;o.useImperativeHandle(t,(function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}}));var v=k(Kl(0),2),y=v[0],b=v[1],w=(0,o.useRef)(null),x=function(e){!1!==f(e,!0,r.current)&&p(!0)},E={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Wl.UP&&n!==Wl.DOWN||e.preventDefault(),m&&m(e),n!==Wl.ENTER||"tags"!==s||r.current||i||null===h||void 0===h||h(e.target.value),t=n,[Wl.ESC,Wl.SHIFT,Wl.BACKSPACE,Wl.TAB,Wl.WIN_KEY,Wl.ALT,Wl.META,Wl.WIN_KEY_RIGHT,Wl.CTRL,Wl.SEMICOLON,Wl.EQUALS,Wl.CAPS_LOCK,Wl.CONTEXT_MENU,Wl.F1,Wl.F2,Wl.F3,Wl.F4,Wl.F5,Wl.F6,Wl.F7,Wl.F8,Wl.F9,Wl.F10,Wl.F11,Wl.F12].includes(t)||p(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(c&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,x(t)},onInputPaste:function(e){var t=e.clipboardData,n=null===t||void 0===t?void 0:t.getData("text");w.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==s&&x(e.target.value)}},S="multiple"===s||"tags"===s?o.createElement(ru,_({},e,E)):o.createElement(au,_({},e,E));return o.createElement("div",{ref:g,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=y();e.target===n.current||t||"combobox"===s&&u||e.preventDefault(),("combobox"===s||l&&t)&&i||(i&&!1!==d&&f("",!0,!1),p())}},S)};const iu=o.forwardRef(ou);const su=o.createContext(null);var lu=[];function cu(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,a,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var i=getComputedStyle(e);o.scrollbarColor=i.scrollbarColor,o.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";Ze("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(KM){console.error(KM),r=l,a=c}}document.body.appendChild(n);var f=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Xe(t),{width:f,height:h}}var uu="rc-util-locker-".concat(Date.now()),du=0;function fu(e){var t=!!e,n=k(o.useState((function(){return du+=1,"".concat(uu,"_").concat(du)})),1)[0];gn((function(){if(t){var e=(a=document.body,"undefined"!==typeof document&&a&&a instanceof Element?cu(a):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Ze("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else Xe(n);var a;return function(){Xe(n)}}),[t,n])}var hu=!1;var pu=function(e){return!1!==e&&(Fe()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},mu=o.forwardRef((function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,l=e.children,c=k(o.useState(n),2),u=c[0],f=c[1],h=u||n;o.useEffect((function(){(s||n)&&f(n)}),[n,s]);var p=k(o.useState((function(){return pu(a)})),2),m=p[0],g=p[1];o.useEffect((function(){var e=pu(a);g(null!==e&&void 0!==e?e:null)}));var v=function(e){var t=k(o.useState((function(){return Fe()?document.createElement("div"):null})),1)[0],n=o.useRef(!1),r=o.useContext(su),a=k(o.useState(lu),2),i=a[0],s=a[1],l=r||(n.current?void 0:function(e){s((function(t){return[e].concat(d(t))}))});function c(){t.parentElement||document.body.appendChild(t),n.current=!0}function u(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return gn((function(){return e?r?r(c):c():u(),u}),[e]),gn((function(){i.length&&(i.forEach((function(e){return e()})),s(lu))}),[i]),[t,l]}(h&&!m),y=k(v,2),b=y[0],w=y[1],_=null!==m&&void 0!==m?m:b;fu(r&&n&&Fe()&&(_===b||_===document.body));var x=null;l&&Vr(l)&&t&&(x=l.ref);var E=Wr(x,t);if(!h||!Fe()||void 0===m)return null;var S,O=!1===_||("boolean"===typeof S&&(hu=S),hu),C=l;return t&&(C=o.cloneElement(l,{ref:E})),o.createElement(su.Provider,{value:w},O?C:(0,Io.createPortal)(C,_))}));const gu=mu;var vu=0;var yu=Le({},i).useId;const bu=yu?function(e){var t=yu();return e||t}:function(e){var t=k(o.useState("ssr-id"),2),n=t[0],r=t[1];return o.useEffect((function(){var e=vu;vu+=1,r("rc_unique_".concat(e))}),[]),e||n};function wu(e){var t=e.prefixCls,n=e.align,r=e.arrow,a=e.arrowPos,i=r||{},s=i.className,l=i.content,c=a.x,u=void 0===c?0:c,d=a.y,f=void 0===d?0:d,p=o.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(!1!==n.autoArrow){var g=n.points[0],v=n.points[1],y=g[0],b=g[1],w=v[0],_=v[1];y!==w&&["t","b"].includes(y)?"t"===y?m.top=0:m.bottom=0:m.top=f,b!==_&&["l","r"].includes(b)?"l"===b?m.left=0:m.right=0:m.left=u}return o.createElement("div",{ref:p,className:h()("".concat(t,"-arrow"),s),style:m},l)}function _u(e){var t=e.prefixCls,n=e.open,r=e.zIndex,a=e.mask,i=e.motion;return a?o.createElement(Oi,_({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return o.createElement("div",{style:{zIndex:r},className:h()("".concat(t,"-mask"),n)})})):null}var xu=o.memo((function(e){return e.children}),(function(e,t){return t.cache}));const Eu=xu;var Su=o.forwardRef((function(e,t){var n=e.popup,r=e.className,a=e.prefixCls,i=e.style,s=e.target,l=e.onVisibleChanged,c=e.open,u=e.keepDom,d=e.fresh,f=e.onClick,p=e.mask,m=e.arrow,g=e.arrowPos,v=e.align,y=e.motion,b=e.maskMotion,w=e.forceRender,x=e.getPopupContainer,E=e.autoDestroy,S=e.portal,O=e.zIndex,C=e.onMouseEnter,P=e.onMouseLeave,$=e.onPointerEnter,I=e.ready,R=e.offsetX,T=e.offsetY,A=e.offsetR,N=e.offsetB,j=e.onAlign,M=e.onPrepare,L=e.stretch,F=e.targetWidth,z=e.targetHeight,D="function"===typeof n?n():n,B=c||u,H=(null===x||void 0===x?void 0:x.length)>0,U=k(o.useState(!x||!H),2),W=U[0],V=U[1];if(gn((function(){!W&&H&&s&&V(!0)}),[W,H,s]),!W)return null;var q="auto",K={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(I||!c){var X,Z=v.points,G=v.dynamicInset||(null===(X=v._experimental)||void 0===X?void 0:X.dynamicInset),J=G&&"r"===Z[0][1],Y=G&&"b"===Z[0][0];J?(K.right=A,K.left=q):(K.left=R,K.right=q),Y?(K.bottom=N,K.top=q):(K.top=T,K.bottom=q)}var Q={};return L&&(L.includes("height")&&z?Q.height=z:L.includes("minHeight")&&z&&(Q.minHeight=z),L.includes("width")&&F?Q.width=F:L.includes("minWidth")&&F&&(Q.minWidth=F)),c||(Q.pointerEvents="none"),o.createElement(S,{open:w||B,getContainer:x&&function(){return x(s)},autoDestroy:E},o.createElement(_u,{prefixCls:a,open:c,zIndex:O,mask:p,motion:b}),o.createElement(Cc,{onResize:j,disabled:!c},(function(e){return o.createElement(Oi,_({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},y,{onAppearPrepare:M,onEnterPrepare:M,visible:c,onVisibleChanged:function(e){var t;null===y||void 0===y||null===(t=y.onVisibleChanged)||void 0===t||t.call(y,e),l(e)}}),(function(n,s){var l=n.className,u=n.style,p=h()(a,l,r);return o.createElement("div",{ref:Ur(e,t,s),className:p,style:Le(Le(Le(Le({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},K),Q),u),{},{boxSizing:"border-box",zIndex:O},i),onMouseEnter:C,onMouseLeave:P,onPointerEnter:$,onClick:f},m&&o.createElement(wu,{prefixCls:a,arrow:m,arrowPos:g,align:v}),o.createElement(Eu,{cache:!c&&!d},D))}))})))}));const ku=Su;var Ou=o.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=Vr(n),i=o.useCallback((function(e){Hr(t,r?r(e):e)}),[r]),s=Wr(i,n.ref);return a?o.cloneElement(n,{ref:s}):n}));const Cu=Ou;const Pu=o.createContext(null);function $u(e){return e?Array.isArray(e)?e:[e]:[]}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ru(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Tu(e){return e.ownerDocument.defaultView}function Au(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=Tu(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Nu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function ju(e){return Nu(parseFloat(e),0)}function Mu(e,t){var n=Le({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Tu(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,o=t.borderTopWidth,i=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,f=e.offsetWidth,h=e.clientWidth,p=ju(o),m=ju(i),g=ju(s),v=ju(l),y=Nu(Math.round(c.width/f*1e3)/1e3),b=Nu(Math.round(c.height/u*1e3)/1e3),w=(f-h-g-v)*y,_=(u-d-p-m)*b,x=p*b,E=m*b,S=g*y,k=v*y,O=0,C=0;if("clip"===r){var P=ju(a);O=P*y,C=P*b}var $=c.x+S-O,I=c.y+x-C,R=$+c.width+2*O-S-k-w,T=I+c.height+2*C-x-E-_;n.left=Math.max(n.left,$),n.top=Math.max(n.top,I),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,T)}})),n}function Lu(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Fu(e,t){var n=k(t||[],2),r=n[0],a=n[1];return[Lu(e.width,r),Lu(e.height,a)]}function zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Du(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function Bu(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var Hu=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu,t=o.forwardRef((function(t,n){var r=t.prefixCls,a=void 0===r?"rc-trigger-popup":r,i=t.children,s=t.action,l=void 0===s?"hover":s,c=t.showAction,u=t.hideAction,f=t.popupVisible,p=t.defaultPopupVisible,m=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,v=t.mouseEnterDelay,y=t.mouseLeaveDelay,b=void 0===y?.1:y,w=t.focusDelay,_=t.blurDelay,x=t.mask,E=t.maskClosable,S=void 0===E||E,O=t.getPopupContainer,C=t.forceRender,P=t.autoDestroy,I=t.destroyPopupOnHide,R=t.popup,T=t.popupClassName,A=t.popupStyle,N=t.popupPlacement,j=t.builtinPlacements,M=void 0===j?{}:j,L=t.popupAlign,F=t.zIndex,z=t.stretch,D=t.getPopupClassNameFromAlign,B=t.fresh,H=t.alignPoint,U=t.onPopupClick,W=t.onPopupAlign,V=t.arrow,q=t.popupMotion,K=t.maskMotion,X=t.popupTransitionName,Z=t.popupAnimation,G=t.maskTransitionName,J=t.maskAnimation,Y=t.className,Q=t.getTriggerDOMNode,ee=$(t,Hu),te=P||I||!1,ne=k(o.useState(!1),2),re=ne[0],ae=ne[1];gn((function(){ae(Hl())}),[]);var oe=o.useRef({}),ie=o.useContext(Pu),se=o.useMemo((function(){return{registerSubPopup:function(e,t){oe.current[e]=t,null===ie||void 0===ie||ie.registerSubPopup(e,t)}}}),[ie]),le=bu(),ce=k(o.useState(null),2),ue=ce[0],de=ce[1],fe=o.useRef(null),he=Fr((function(e){fe.current=e,To(e)&&ue!==e&&de(e),null===ie||void 0===ie||ie.registerSubPopup(le,e)})),pe=k(o.useState(null),2),me=pe[0],ge=pe[1],ve=o.useRef(null),ye=Fr((function(e){To(e)&&me!==e&&(ge(e),ve.current=e)})),be=o.Children.only(i),we=(null===be||void 0===be?void 0:be.props)||{},_e={},xe=function(e,t){var n,r;return e===t||t.contains(e)||(null===(n=Je(t))||void 0===n?void 0:n.host)===e||t.contains(null===(r=Je(e))||void 0===r?void 0:r.host)},Ee=Fr((function(e){var t=me,n=xe.bind(null,e);return n(t)||n(ue)||Object.values(oe.current).some(n)})),Se=Ru(a,q,Z,X),ke=Ru(a,K,J,G),Oe=k(o.useState(p||!1),2),Ce=Oe[0],Pe=Oe[1],$e=null!==f&&void 0!==f?f:Ce,Ie=Fr((function(e){void 0===f&&Pe(e)}));gn((function(){Pe(f||!1)}),[f]);var Re=o.useRef($e);Re.current=$e;var Te=o.useRef([]);Te.current=[];var Ae=Fr((function(e){var t;Ie(e),(null!==(t=Te.current[Te.current.length-1])&&void 0!==t?t:$e)!==e&&(Te.current.push(e),null===m||void 0===m||m(e))})),Ne=o.useRef(),je=function(){clearTimeout(Ne.current)},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;je(),0===t?Ae(e):Ne.current=setTimeout((function(){Ae(e)}),1e3*t)};o.useEffect((function(){return je}),[]);var Fe=k(o.useState(!1),2),ze=Fe[0],De=Fe[1];gn((function(e){e&&!$e||De(!0)}),[$e]);var Be=k(o.useState(null),2),He=Be[0],Ue=Be[1],We=k(o.useState(null),2),Ve=We[0],qe=We[1],Ke=function(e){qe([e.clientX,e.clientY])},Xe=function(e,t,n,r,a,i,s){var l=k(o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),2),c=l[0],u=l[1],d=o.useRef(0),f=o.useMemo((function(){return t?Au(t):[]}),[t]),h=o.useRef({});e||(h.current={});var p=Fr((function(){if(t&&n&&e){var o,l,c,d,p,m=t,g=m.ownerDocument,v=Tu(m).getComputedStyle(m),y=v.width,b=v.height,w=v.position,_=m.style.left,x=m.style.top,E=m.style.right,S=m.style.bottom,O=m.style.overflow,C=Le(Le({},a[r]),i),P=g.createElement("div");if(null===(o=m.parentElement)||void 0===o||o.appendChild(P),P.style.left="".concat(m.offsetLeft,"px"),P.style.top="".concat(m.offsetTop,"px"),P.style.position=w,P.style.height="".concat(m.offsetHeight,"px"),P.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var $,I,R=n.getBoundingClientRect();R.x=null!==($=R.x)&&void 0!==$?$:R.left,R.y=null!==(I=R.y)&&void 0!==I?I:R.top,p={x:R.x,y:R.y,width:R.width,height:R.height}}var T=m.getBoundingClientRect();T.x=null!==(l=T.x)&&void 0!==l?l:T.left,T.y=null!==(c=T.y)&&void 0!==c?c:T.top;var A=g.documentElement,N=A.clientWidth,j=A.clientHeight,M=A.scrollWidth,L=A.scrollHeight,F=A.scrollTop,z=A.scrollLeft,D=T.height,B=T.width,H=p.height,U=p.width,W={left:0,top:0,right:N,bottom:j},V={left:-z,top:-F,right:M-z,bottom:L-F},q=C.htmlRegion,K="visible",X="visibleFirst";"scroll"!==q&&q!==X&&(q=K);var Z=q===X,G=Mu(V,f),J=Mu(W,f),Y=q===K?J:G,Q=Z?J:Y;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var ee=m.getBoundingClientRect();m.style.left=_,m.style.top=x,m.style.right=E,m.style.bottom=S,m.style.overflow=O,null===(d=m.parentElement)||void 0===d||d.removeChild(P);var te=Nu(Math.round(B/parseFloat(y)*1e3)/1e3),ne=Nu(Math.round(D/parseFloat(b)*1e3)/1e3);if(0===te||0===ne||To(n)&&!go(n))return;var re=C.offset,ae=C.targetOffset,oe=k(Fu(T,re),2),ie=oe[0],se=oe[1],le=k(Fu(p,ae),2),ce=le[0],ue=le[1];p.x-=ce,p.y-=ue;var de=k(C.points||[],2),fe=de[0],he=zu(de[1]),pe=zu(fe),me=Du(p,he),ge=Du(T,pe),ve=Le({},C),ye=me.x-ge.x+ie,be=me.y-ge.y+se;function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,r=T.x+e,a=T.y+t,o=r+B,i=a+D,s=Math.max(r,n.left),l=Math.max(a,n.top),c=Math.min(o,n.right),u=Math.min(i,n.bottom);return Math.max(0,(c-s)*(u-l))}var we,_e,xe,Ee,Se=ht(ye,be),ke=ht(ye,be,J),Oe=Du(p,["t","l"]),Ce=Du(T,["t","l"]),Pe=Du(p,["b","r"]),$e=Du(T,["b","r"]),Ie=C.overflow||{},Re=Ie.adjustX,Te=Ie.adjustY,Ae=Ie.shiftX,Ne=Ie.shiftY,je=function(e){return"boolean"===typeof e?e:e>=0};function pt(){we=T.y+be,_e=we+D,xe=T.x+ye,Ee=xe+B}pt();var Me=je(Te),Fe=pe[0]===he[0];if(Me&&"t"===pe[0]&&(_e>Q.bottom||h.current.bt)){var ze=be;Fe?ze-=D-H:ze=Oe.y-$e.y-se;var De=ht(ye,ze),Be=ht(ye,ze,J);De>Se||De===Se&&(!Z||Be>=ke)?(h.current.bt=!0,be=ze,se=-se,ve.points=[Bu(pe,0),Bu(he,0)]):h.current.bt=!1}if(Me&&"b"===pe[0]&&(we<Q.top||h.current.tb)){var He=be;Fe?He+=D-H:He=Pe.y-Ce.y-se;var Ue=ht(ye,He),We=ht(ye,He,J);Ue>Se||Ue===Se&&(!Z||We>=ke)?(h.current.tb=!0,be=He,se=-se,ve.points=[Bu(pe,0),Bu(he,0)]):h.current.tb=!1}var Ve=je(Re),qe=pe[1]===he[1];if(Ve&&"l"===pe[1]&&(Ee>Q.right||h.current.rl)){var Ke=ye;qe?Ke-=B-U:Ke=Oe.x-$e.x-ie;var Xe=ht(Ke,be),Ze=ht(Ke,be,J);Xe>Se||Xe===Se&&(!Z||Ze>=ke)?(h.current.rl=!0,ye=Ke,ie=-ie,ve.points=[Bu(pe,1),Bu(he,1)]):h.current.rl=!1}if(Ve&&"r"===pe[1]&&(xe<Q.left||h.current.lr)){var Ge=ye;qe?Ge+=B-U:Ge=Pe.x-Ce.x-ie;var Je=ht(Ge,be),Ye=ht(Ge,be,J);Je>Se||Je===Se&&(!Z||Ye>=ke)?(h.current.lr=!0,ye=Ge,ie=-ie,ve.points=[Bu(pe,1),Bu(he,1)]):h.current.lr=!1}pt();var Qe=!0===Ae?0:Ae;"number"===typeof Qe&&(xe<J.left&&(ye-=xe-J.left-ie,p.x+U<J.left+Qe&&(ye+=p.x-J.left+U-Qe)),Ee>J.right&&(ye-=Ee-J.right-ie,p.x>J.right-Qe&&(ye+=p.x-J.right+Qe)));var et=!0===Ne?0:Ne;"number"===typeof et&&(we<J.top&&(be-=we-J.top-se,p.y+H<J.top+et&&(be+=p.y-J.top+H-et)),_e>J.bottom&&(be-=_e-J.bottom-se,p.y>J.bottom-et&&(be+=p.y-J.bottom+et)));var tt=T.x+ye,nt=tt+B,rt=T.y+be,at=rt+D,ot=p.x,it=ot+U,st=p.y,lt=st+H,ct=(Math.max(tt,ot)+Math.min(nt,it))/2-tt,ut=(Math.max(rt,st)+Math.min(at,lt))/2-rt;null===s||void 0===s||s(t,ve);var dt=ee.right-T.x-(ye+T.width),ft=ee.bottom-T.y-(be+T.height);1===te&&(ye=Math.round(ye),dt=Math.round(dt)),1===ne&&(be=Math.round(be),ft=Math.round(ft)),u({ready:!0,offsetX:ye/te,offsetY:be/ne,offsetR:dt/te,offsetB:ft/ne,arrowX:ct/te,arrowY:ut/ne,scaleX:te,scaleY:ne,align:ve})}})),m=function(){u((function(e){return Le(Le({},e),{},{ready:!1})}))};return gn(m,[r]),gn((function(){e||m()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&p()}))}]}($e,ue,H&&null!==Ve?Ve:me,N,M,L,W),Ze=k(Xe,11),Ge=Ze[0],Ye=Ze[1],Qe=Ze[2],et=Ze[3],tt=Ze[4],nt=Ze[5],rt=Ze[6],at=Ze[7],ot=Ze[8],it=Ze[9],st=Ze[10],lt=function(e,t,n,r){return o.useMemo((function(){var a=$u(null!==n&&void 0!==n?n:t),o=$u(null!==r&&void 0!==r?r:t),i=new Set(a),s=new Set(o);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]}),[e,t,n,r])}(re,l,c,u),ct=k(lt,2),ut=ct[0],dt=ct[1],ft=ut.has("click"),ht=dt.has("click")||dt.has("contextMenu"),pt=Fr((function(){ze||st()}));!function(e,t,n,r,a){gn((function(){if(e&&t&&n){var o=n,i=Au(t),s=Au(o),l=Tu(o),c=new Set([l].concat(d(i),d(s)));function u(){r(),a()}return c.forEach((function(e){e.addEventListener("scroll",u,{passive:!0})})),l.addEventListener("resize",u,{passive:!0}),r(),function(){c.forEach((function(e){e.removeEventListener("scroll",u),l.removeEventListener("resize",u)}))}}}),[e,t,n])}($e,me,ue,pt,(function(){Re.current&&H&&ht&&Me(!1)})),gn((function(){pt()}),[Ve,N]),gn((function(){!$e||null!==M&&void 0!==M&&M[N]||pt()}),[JSON.stringify(L)]);var mt=o.useMemo((function(){var e=function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var s,l=o[i];if(Iu(null===(s=e[l])||void 0===s?void 0:s.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(M,a,it,H);return h()(e,null===D||void 0===D?void 0:D(it))}),[it,D,M,a,H]);o.useImperativeHandle(n,(function(){return{nativeElement:ve.current,popupElement:fe.current,forceAlign:pt}}));var gt=k(o.useState(0),2),vt=gt[0],yt=gt[1],bt=k(o.useState(0),2),wt=bt[0],_t=bt[1],xt=function(){if(z&&me){var e=me.getBoundingClientRect();yt(e.width),_t(e.height)}};function Et(e,t,n,r){_e[e]=function(a){var o;null===r||void 0===r||r(a),Me(t,n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];null===(o=we[e])||void 0===o||o.call.apply(o,[we,a].concat(s))}}gn((function(){He&&(st(),He(),Ue(null))}),[He]),(ft||ht)&&(_e.onClick=function(e){var t;Re.current&&ht?Me(!1):!Re.current&&ft&&(Ke(e),Me(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=we.onClick)||void 0===t||t.call.apply(t,[we,e].concat(r))}),function(e,t,n,r,a,i,s,l){var c=o.useRef(e);c.current=e,o.useEffect((function(){if(t&&r&&(!a||i)){var e=function(e){var t;c.current&&!s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)&&l(!1)},o=Tu(r);o.addEventListener("mousedown",e,!0),o.addEventListener("contextmenu",e,!0);var u=Je(n);return u&&(u.addEventListener("mousedown",e,!0),u.addEventListener("contextmenu",e,!0)),function(){o.removeEventListener("mousedown",e,!0),o.removeEventListener("contextmenu",e,!0),u&&(u.removeEventListener("mousedown",e,!0),u.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,a,i])}($e,ht,me,ue,x,S,Ee,Me);var St,kt,Ot=ut.has("hover"),Ct=dt.has("hover");Ot&&(Et("onMouseEnter",!0,v,(function(e){Ke(e)})),Et("onPointerEnter",!0,v,(function(e){Ke(e)})),St=function(e){($e||ze)&&null!==ue&&void 0!==ue&&ue.contains(e.target)&&Me(!0,v)},H&&(_e.onMouseMove=function(e){var t;null===(t=we.onMouseMove)||void 0===t||t.call(we,e)})),Ct&&(Et("onMouseLeave",!1,b),Et("onPointerLeave",!1,b),kt=function(){Me(!1,b)}),ut.has("focus")&&Et("onFocus",!0,w),dt.has("focus")&&Et("onBlur",!1,_),ut.has("contextMenu")&&(_e.onContextMenu=function(e){var t;Re.current&&dt.has("contextMenu")?Me(!1):(Ke(e),Me(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=we.onContextMenu)||void 0===t||t.call.apply(t,[we,e].concat(r))}),Y&&(_e.className=h()(we.className,Y));var Pt=Le(Le({},we),_e),$t={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){ee[e]&&($t[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=Pt[e])||void 0===t||t.call.apply(t,[Pt].concat(r)),ee[e].apply(ee,r)})}));var It=o.cloneElement(be,Le(Le({},Pt),$t)),Rt={x:nt,y:rt},Tt=V?Le({},!0!==V?V:{}):null;return o.createElement(o.Fragment,null,o.createElement(Cc,{disabled:!$e,ref:ye,onResize:function(){xt(),pt()}},o.createElement(Cu,{getTriggerDOMNode:Q},It)),o.createElement(Pu.Provider,{value:se},o.createElement(ku,{portal:e,ref:he,prefixCls:a,popup:R,className:h()(T,mt),style:A,target:me,onMouseEnter:St,onMouseLeave:kt,onPointerEnter:St,zIndex:F,open:$e,keepDom:ze,fresh:B,onClick:U,mask:x,motion:Se,maskMotion:ke,onVisibleChanged:function(e){De(!1),st(),null===g||void 0===g||g(e)},onPrepare:function(){return new Promise((function(e){xt(),Ue((function(){return e}))}))},forceRender:C,autoDestroy:te,getPopupContainer:O,align:it,arrow:Tt,arrowPos:Rt,ready:Ge,offsetX:Ye,offsetY:Qe,offsetR:et,offsetB:tt,onAlign:pt,stretch:z,targetWidth:vt/at,targetHeight:wt/ot})))}));return t}(gu);var Wu=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Vu=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),a=e.children,i=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=void 0===d?"ltr":d,p=e.placement,m=e.builtinPlacements,g=e.dropdownMatchSelectWidth,v=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,w=e.empty,x=e.getTriggerDOMNode,E=e.onPopupVisibleChange,S=e.onPopupMouseEnter,k=$(e,Wu),O="".concat(n,"-dropdown"),C=i;v&&(C=v(i));var I=o.useMemo((function(){return m||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(g)}),[m,g]),R=s?"".concat(O,"-").concat(s):l,T="number"===typeof g,A=o.useMemo((function(){return T?null:!1===g?"minWidth":"width"}),[g,T]),N=c;T&&(N=Le(Le({},N),{},{width:g}));var j=o.useRef(null);return o.useImperativeHandle(t,(function(){return{getPopupElement:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.popupElement}}})),o.createElement(Uu,_({},k,{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:p||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:I,prefixCls:O,popupTransitionName:R,popup:o.createElement("div",{onMouseEnter:S},C),ref:j,stretch:A,popupAlign:y,popupVisible:r,getPopupContainer:b,popupClassName:h()(u,P({},"".concat(O,"-empty"),w)),popupStyle:N,getTriggerDOMNode:x,onPopupVisibleChange:E}),a)};const qu=o.forwardRef(Vu);function Ku(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Xu(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function Zu(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function Gu(e){var t=Le({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return at(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const Ju=o.createContext(null);function Yu(e){var t=e.visible,n=e.values;if(!t)return null;return o.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(e){var t=e.label,n=e.value;return["number","string"].includes(O(t))?t:n})).join(", ")),n.length>50?", ...":null)}var Qu=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ed=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],td=function(e){return"tags"===e||"multiple"===e},nd=o.forwardRef((function(e,t){var n,r=e.id,a=e.prefixCls,i=e.className,s=e.showSearch,l=e.tagRender,c=e.direction,u=e.omitDomProps,f=e.displayValues,p=e.onDisplayValuesChange,m=e.emptyOptions,g=e.notFoundContent,v=void 0===g?"Not Found":g,y=e.onClear,b=e.mode,w=e.disabled,x=e.loading,E=e.getInputElement,S=e.getRawInputElement,C=e.open,I=e.defaultOpen,R=e.onDropdownVisibleChange,T=e.activeValue,A=e.onActiveValueChange,N=e.activeDescendantId,j=e.searchValue,M=e.autoClearSearchValue,L=e.onSearch,F=e.onSearchSplit,z=e.tokenSeparators,D=e.allowClear,B=e.suffixIcon,H=e.clearIcon,U=e.OptionList,W=e.animation,V=e.transitionName,q=e.dropdownStyle,K=e.dropdownClassName,X=e.dropdownMatchSelectWidth,Z=e.dropdownRender,G=e.dropdownAlign,J=e.placement,Y=e.builtinPlacements,Q=e.getPopupContainer,ee=e.showAction,te=void 0===ee?[]:ee,ne=e.onFocus,re=e.onBlur,ae=e.onKeyUp,oe=e.onKeyDown,ie=e.onMouseDown,se=$(e,Qu),le=td(b),ce=(void 0!==s?s:le)||"combobox"===b,ue=Le({},se);ed.forEach((function(e){delete ue[e]})),null===u||void 0===u||u.forEach((function(e){delete ue[e]}));var de=k(o.useState(!1),2),fe=de[0],he=de[1];o.useEffect((function(){he(Hl())}),[]);var pe=o.useRef(null),me=o.useRef(null),ge=o.useRef(null),ve=o.useRef(null),ye=o.useRef(null),be=o.useRef(!1),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=k(o.useState(!1),2),n=t[0],r=t[1],a=o.useRef(null),i=function(){window.clearTimeout(a.current)};return o.useEffect((function(){return i}),[]),[n,function(t,n){i(),a.current=window.setTimeout((function(){r(t),n&&n()}),e)},i]}(),_e=k(we,3),xe=_e[0],Ee=_e[1],Se=_e[2];o.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=ve.current)||void 0===e?void 0:e.focus,blur:null===(t=ve.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ye.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ke=o.useMemo((function(){var e;if("combobox"!==b)return j;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[j,b,f]),Oe="combobox"===b&&"function"===typeof E&&E()||null,Ce="function"===typeof S&&S(),Pe=Wr(me,null===Ce||void 0===Ce||null===(n=Ce.props)||void 0===n?void 0:n.ref),$e=k(o.useState(!1),2),Ie=$e[0],Re=$e[1];gn((function(){Re(!0)}),[]);var Te=k(Br(!1,{defaultValue:I,value:C}),2),Ae=Te[0],Ne=Te[1],je=!!Ie&&Ae,Me=!v&&m;(w||Me&&je&&"combobox"===b)&&(je=!1);var Fe=!Me&&je,ze=o.useCallback((function(e){var t=void 0!==e?e:!je;w||(Ne(t),je!==t&&(null===R||void 0===R||R(t)))}),[w,je,Ne,R]),De=o.useMemo((function(){return(z||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[z]),Be=o.useContext(Ju)||{},He=Be.maxCount,Ue=Be.rawValues,We=function(e,t,n){if(!(le&&Xu(He)&&(null===Ue||void 0===Ue?void 0:Ue.size)>=He)){var r=!0,a=e;null===A||void 0===A||A(null);var o=function(e,t,n){if(!t||!t.length)return null;var r=!1,a=function e(t,n){var a=Kr(n),o=a[0],i=a.slice(1);if(!o)return[t];var s=t.split(o);return r=r||s.length>1,s.reduce((function(t,n){return[].concat(d(t),d(e(n,i)))}),[]).filter(Boolean)}(e,t);return r?"undefined"!==typeof n?a.slice(0,n):a:null}(e,z,Xu(He)?He-Ue.size:void 0),i=n?null:o;return"combobox"!==b&&i&&(a="",null===F||void 0===F||F(i),ze(!1),r=!1),L&&ke!==a&&L(a,{source:t?"typing":"effect"}),r}};o.useEffect((function(){je||le||"combobox"===b||We("",!1,!1)}),[je]),o.useEffect((function(){Ae&&w&&Ne(!1),w&&!be.current&&Ee(!1)}),[w]);var Ve=k(Kl(),2),qe=Ve[0],Ke=Ve[1],Xe=o.useRef(!1),Ze=[];o.useEffect((function(){return function(){Ze.forEach((function(e){return clearTimeout(e)})),Ze.splice(0,Ze.length)}}),[]);var Ge,Je=k(o.useState({}),2)[1];Ce&&(Ge=function(e){ze(e)}),function(e,t,n,r){var a=o.useRef(null);a.current={open:t,triggerOpen:n,customizedTrigger:r},o.useEffect((function(){function t(t){var n;if(null===(n=a.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),a.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[pe.current,null===(e=ge.current)||void 0===e?void 0:e.getPopupElement()]}),Fe,ze,!!Ce);var Ye,Qe=o.useMemo((function(){return Le(Le({},e),{},{notFoundContent:v,open:je,triggerOpen:Fe,id:r,showSearch:ce,multiple:le,toggleOpen:ze})}),[e,v,Fe,je,r,ce,le,ze]),et=!!B||x;et&&(Ye=o.createElement(Vl,{className:h()("".concat(a,"-arrow"),P({},"".concat(a,"-arrow-loading"),x)),customizeIcon:B,customizeIconProps:{loading:x,searchValue:ke,open:je,focused:xe,showSearch:ce}}));var tt,nt=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=o.useMemo((function(){return"object"===O(r)?r.clearIcon:a||void 0}),[r,a]);return{allowClear:o.useMemo((function(){return!(i||!r||!n.length&&!s||"combobox"===l&&""===s)}),[r,i,n.length,s,l]),clearIcon:o.createElement(Vl,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"\xd7")}}(a,(function(){var e;null===y||void 0===y||y(),null===(e=ve.current)||void 0===e||e.focus(),p([],{type:"clear",values:f}),We("",!1,!1)}),f,D,H,w,ke,b),rt=nt.allowClear,at=nt.clearIcon,ot=o.createElement(U,{ref:ye}),it=h()(a,i,P(P(P(P(P(P(P(P(P(P({},"".concat(a,"-focused"),xe),"".concat(a,"-multiple"),le),"".concat(a,"-single"),!le),"".concat(a,"-allow-clear"),D),"".concat(a,"-show-arrow"),et),"".concat(a,"-disabled"),w),"".concat(a,"-loading"),x),"".concat(a,"-open"),je),"".concat(a,"-customize-input"),Oe),"".concat(a,"-show-search"),ce)),st=o.createElement(qu,{ref:ge,disabled:w,prefixCls:a,visible:Fe,popupElement:ot,animation:W,transitionName:V,dropdownStyle:q,dropdownClassName:K,direction:c,dropdownMatchSelectWidth:X,dropdownRender:Z,dropdownAlign:G,placement:J,builtinPlacements:Y,getPopupContainer:Q,empty:m,getTriggerDOMNode:function(e){return me.current||e},onPopupVisibleChange:Ge,onPopupMouseEnter:function(){Je({})}},Ce?o.cloneElement(Ce,{ref:Pe}):o.createElement(iu,_({},e,{domRef:me,prefixCls:a,inputElement:Oe,ref:ve,id:r,showSearch:ce,autoClearSearchValue:M,mode:b,activeDescendantId:N,tagRender:l,values:f,open:je,onToggleOpen:ze,activeValue:T,searchValue:ke,onSearch:We,onSearchSubmit:function(e){e&&e.trim()&&L(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:De})));return tt=Ce?st:o.createElement("div",_({className:it},ue,{ref:pe,onMouseDown:function(e){var t,n=e.target,r=null===(t=ge.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var a=setTimeout((function(){var e,t=Ze.indexOf(a);-1!==t&&Ze.splice(t,1),Se(),fe||r.contains(document.activeElement)||null===(e=ve.current)||void 0===e||e.focus()}));Ze.push(a)}for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];null===ie||void 0===ie||ie.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=qe(),r=e.which;if(r===Wl.ENTER&&("combobox"!==b&&e.preventDefault(),je||ze(!0)),Ke(!!ke),r===Wl.BACKSPACE&&!n&&le&&!ke&&f.length){for(var a=d(f),o=null,i=a.length-1;i>=0;i-=1){var s=a[i];if(!s.disabled){a.splice(i,1),o=s;break}}o&&p(a,{type:"remove",values:[o]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];je&&(null===(t=ye.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(c))),null===oe||void 0===oe||oe.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;je&&(null===(a=ye.current)||void 0===a||a.onKeyUp.apply(a,[e].concat(n))),null===ae||void 0===ae||ae.apply(void 0,[e].concat(n))},onFocus:function(){Ee(!0),w||(ne&&!Xe.current&&ne.apply(void 0,arguments),te.includes("focus")&&ze(!0)),Xe.current=!0},onBlur:function(){be.current=!0,Ee(!1,(function(){Xe.current=!1,be.current=!1,ze(!1)})),w||(ke&&("tags"===b?L(ke,{source:"submit"}):"multiple"===b&&L("",{source:"blur"})),re&&re.apply(void 0,arguments))}}),o.createElement(Yu,{visible:xe&&!je,values:f}),st,Ye,rt&&at),o.createElement(ql.Provider,{value:Qe},tt)}));const rd=nd;var ad=function(){return null};ad.isSelectOptGroup=!0;const od=ad;var id=function(){return null};id.isSelectOption=!0;const sd=id;var ld=o.forwardRef((function(e,t){var n=e.height,r=e.offsetY,a=e.offsetX,i=e.children,s=e.prefixCls,l=e.onInnerResize,c=e.innerProps,u=e.rtl,d=e.extra,f={},p={display:"flex",flexDirection:"column"};return void 0!==r&&(f={height:n,position:"relative",overflow:"hidden"},p=Le(Le({},p),{},P(P(P(P(P({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:f},o.createElement(Cc,{onResize:function(e){e.offsetHeight&&l&&l()}},o.createElement("div",_({style:p,className:h()(P({},"".concat(s,"-holder-inner"),s)),ref:t},c),i,d)))}));ld.displayName="Filler";const cd=ld;function ud(e){var t=e.children,n=e.setRef,r=o.useCallback((function(e){n(e)}),[]);return o.cloneElement(t,{ref:r})}function dd(e,t,n){var r=k(o.useState(e),2),a=r[0],i=r[1],s=k(o.useState(null),2),l=s[0],c=s[1];return o.useEffect((function(){var r=function(e,t,n){var r,a,o=e.length,i=t.length;if(0===o&&0===i)return null;o<i?(r=e,a=t):(r=t,a=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(o-i),d=0;d<a.length;d+=1){var f=l(r[d]);if(f!==l(a[d])){c=d,u=u||f!==l(a[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),c(e[r.index])),i(e)}),[e]),[l]}const fd="object"===("undefined"===typeof navigator?"undefined":O(navigator))&&/Firefox/i.test(navigator.userAgent),hd=function(e,t,n,r){var a=(0,o.useRef)(!1),i=(0,o.useRef)(null);var s=(0,o.useRef)({top:e,bottom:t,left:n,right:r});return s.current.top=e,s.current.bottom=t,s.current.left=n,s.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&s.current.left||t>0&&s.current.right:t<0&&s.current.top||t>0&&s.current.bottom;return n&&r?(clearTimeout(i.current),a.current=!1):r&&!a.current||(clearTimeout(i.current),a.current=!0,i.current=setTimeout((function(){a.current=!1}),50)),!a.current&&r}};function pd(e,t,n,r,a,i,s){var l=(0,o.useRef)(0),c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(!1),f=hd(t,n,r,a);var h=(0,o.useRef)(null),p=(0,o.useRef)(null);return[function(t){if(e){Po.cancel(p.current),p.current=Po((function(){h.current=null}),2);var n=t.deltaX,r=t.deltaY,a=t.shiftKey,o=n,m=r;("sx"===h.current||!h.current&&a&&r&&!n)&&(o=r,m=0,h.current="sx");var g=Math.abs(o),v=Math.abs(m);null===h.current&&(h.current=i&&g>v?"x":"y"),"y"===h.current?function(e,t){Po.cancel(c.current),l.current+=t,u.current=t,f(!1,t)||(fd||e.preventDefault(),c.current=Po((function(){var e=d.current?10:1;s(l.current*e),l.current=0})))}(t,m):function(e,t){s(t,!0),fd||e.preventDefault()}(t,o)}},function(t){e&&(d.current=t.detail===u.current)}]}var md=function(){function e(){Mt(this,e),P(this,"maps",void 0),P(this,"id",0),this.maps=Object.create(null)}return Ft(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();const gd=md;var vd=14/15;var yd=10;function bd(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var wd=o.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,a=e.scrollOffset,i=e.scrollRange,s=e.onStartMove,l=e.onStopMove,c=e.onScroll,u=e.horizontal,d=e.spinSize,f=e.containerSize,p=e.style,m=e.thumbStyle,g=k(o.useState(!1),2),v=g[0],y=g[1],b=k(o.useState(null),2),w=b[0],_=b[1],x=k(o.useState(null),2),E=x[0],S=x[1],O=!r,C=o.useRef(),$=o.useRef(),I=k(o.useState(!1),2),R=I[0],T=I[1],A=o.useRef(),N=function(){clearTimeout(A.current),T(!0),A.current=setTimeout((function(){T(!1)}),3e3)},j=i-f||0,M=f-d||0,L=o.useMemo((function(){return 0===a||0===j?0:a/j*M}),[a,j,M]),F=o.useRef({top:L,dragging:v,pageY:w,startTop:E});F.current={top:L,dragging:v,pageY:w,startTop:E};var z=function(e){y(!0),_(bd(e,u)),S(F.current.top),s(),e.stopPropagation(),e.preventDefault()};o.useEffect((function(){var e=function(e){e.preventDefault()},t=C.current,n=$.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",z,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",z)}}),[]);var D=o.useRef();D.current=j;var B=o.useRef();B.current=M,o.useEffect((function(){if(v){var e,t=function(t){var n=F.current,r=n.dragging,a=n.pageY,o=n.startTop;Po.cancel(e);var i=C.current.getBoundingClientRect(),s=f/(u?i.width:i.height);if(r){var l=(bd(t,u)-a)*s,d=o;!O&&u?d-=l:d+=l;var h=D.current,p=B.current,m=p?d/p:0,g=Math.ceil(m*h);g=Math.max(g,0),g=Math.min(g,h),e=Po((function(){c(g,u)}))}},n=function(){y(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Po.cancel(e)}}}),[v]),o.useEffect((function(){return N(),function(){clearTimeout(A.current)}}),[a]),o.useImperativeHandle(t,(function(){return{delayHidden:N}}));var H="".concat(n,"-scrollbar"),U={position:"absolute",visibility:R?null:"hidden"},W={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(U.height=8,U.left=0,U.right=0,U.bottom=0,W.height="100%",W.width=d,O?W.left=L:W.right=L):(U.width=8,U.top=0,U.bottom=0,O?U.right=0:U.left=0,W.width="100%",W.height=d,W.top=L),o.createElement("div",{ref:C,className:h()(H,P(P(P({},"".concat(H,"-horizontal"),u),"".concat(H,"-vertical"),!u),"".concat(H,"-visible"),R)),style:Le(Le({},U),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:N},o.createElement("div",{ref:$,className:h()("".concat(H,"-thumb"),P({},"".concat(H,"-thumb-moving"),v)),style:Le(Le({},W),m),onMouseDown:z}))}));const _d=wd;var xd=20;function Ed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,xd),Math.floor(t)}var Sd=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],kd=[],Od={overflowY:"auto",overflowAnchor:"none"};function Cd(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,a=e.className,i=e.height,s=e.itemHeight,l=e.fullHeight,c=void 0===l||l,u=e.style,d=e.data,f=e.children,p=e.itemKey,m=e.virtual,g=e.direction,v=e.scrollWidth,y=e.component,b=void 0===y?"div":y,w=e.onScroll,x=e.onVirtualScroll,E=e.onVisibleChange,S=e.innerProps,C=e.extraRender,I=e.styles,R=$(e,Sd),T=o.useCallback((function(e){return"function"===typeof p?p(e):null===e||void 0===e?void 0:e[p]}),[p]),A=function(e,t,n){var r=k(o.useState(0),2),a=r[0],i=r[1],s=(0,o.useRef)(new Map),l=(0,o.useRef)(new gd),c=(0,o.useRef)();function u(){Po.cancel(c.current)}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u();var t=function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Ao(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))};e?t():c.current=Po(t)}return(0,o.useEffect)((function(){return u}),[]),[function(r,a){var o=e(r),i=s.current.get(o);a?(s.current.set(o,a),d()):s.current.delete(o),!i!==!a&&(a?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},d,l.current,a]}(T,null,null),N=k(A,4),j=N[0],M=N[1],L=N[2],F=N[3],z=!(!1===m||!i||!s),D=o.useMemo((function(){return Object.values(L.maps).reduce((function(e,t){return e+t}),0)}),[L.id,L.maps]),B=z&&d&&(Math.max(s*d.length,D)>i||!!v),H="rtl"===g,U=h()(r,P({},"".concat(r,"-rtl"),H),a),W=d||kd,V=(0,o.useRef)(),q=(0,o.useRef)(),K=(0,o.useRef)(),X=k((0,o.useState)(0),2),Z=X[0],G=X[1],J=k((0,o.useState)(0),2),Y=J[0],Q=J[1],ee=k((0,o.useState)(!1),2),te=ee[0],ne=ee[1],re=function(){ne(!0)},ae=function(){ne(!1)},oe={getKey:T};function ie(e){G((function(t){var n=function(e){var t=e;Number.isNaN(Ee.current)||(t=Math.min(t,Ee.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return V.current.scrollTop=n,n}))}var se=(0,o.useRef)({start:0,end:W.length}),le=(0,o.useRef)(),ce=k(dd(W,T),1)[0];le.current=ce;var ue=o.useMemo((function(){if(!z)return{scrollHeight:void 0,start:0,end:W.length-1,offset:void 0};var e;if(!B)return{scrollHeight:(null===(e=q.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:W.length-1,offset:void 0};for(var t,n,r,a=0,o=W.length,l=0;l<o;l+=1){var c=W[l],u=T(c),d=L.get(u),f=a+(void 0===d?s:d);f>=Z&&void 0===t&&(t=l,n=a),f>Z+i&&void 0===r&&(r=l),a=f}return void 0===t&&(t=0,n=0,r=Math.ceil(i/s)),void 0===r&&(r=W.length-1),{scrollHeight:a,start:t,end:r=Math.min(r+1,W.length-1),offset:n}}),[B,z,Z,W,F,i]),de=ue.scrollHeight,fe=ue.start,he=ue.end,pe=ue.offset;se.current.start=fe,se.current.end=he;var me=k(o.useState({width:0,height:i}),2),ge=me[0],ve=me[1],ye=(0,o.useRef)(),be=(0,o.useRef)(),we=o.useMemo((function(){return Ed(ge.width,v)}),[ge.width,v]),_e=o.useMemo((function(){return Ed(ge.height,de)}),[ge.height,de]),xe=de-i,Ee=(0,o.useRef)(xe);Ee.current=xe;var Se=Z<=0,ke=Z>=xe,Oe=Y<=0,Ce=Y>=v,Pe=hd(Se,ke,Oe,Ce),$e=function(){return{x:H?-Y:Y,y:Z}},Ie=(0,o.useRef)($e()),Re=Fr((function(e){if(x){var t=Le(Le({},$e()),e);Ie.current.x===t.x&&Ie.current.y===t.y||(x(t),Ie.current=t)}}));function Te(e,t){var n=e;t?((0,Io.flushSync)((function(){Q(n)})),Re()):ie(n)}var Ae=function(e){var t=e,n=v?v-ge.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Ne=Fr((function(e,t){t?((0,Io.flushSync)((function(){Q((function(t){return Ae(t+(H?-e:e))}))})),Re()):ie((function(t){return t+e}))})),je=k(pd(z,Se,ke,Oe,Ce,!!v,Ne),2),Me=je[0],Fe=je[1];!function(e,t,n){var r,a=(0,o.useRef)(!1),i=(0,o.useRef)(0),s=(0,o.useRef)(0),l=(0,o.useRef)(null),c=(0,o.useRef)(null),u=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),o=i.current-t,l=s.current-r,u=Math.abs(o)>Math.abs(l);u?i.current=t:s.current=r,n(u,u?o:l)&&e.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){u?o*=vd:l*=vd;var e=Math.floor(u?o:l);(!n(u,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16)}},d=function(){a.current=!1,r()},f=function(e){r(),1!==e.touches.length||a.current||(a.current=!0,i.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",u,{passive:!1}),l.current.addEventListener("touchend",d,{passive:!0}))};r=function(){l.current&&(l.current.removeEventListener("touchmove",u),l.current.removeEventListener("touchend",d))},gn((function(){return e&&t.current.addEventListener("touchstart",f,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",f),r(),clearInterval(c.current)}}),[e])}(z,V,(function(e,t,n){return!Pe(e,t,n)&&(Me({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)})),gn((function(){function e(e){z&&e.preventDefault()}var t=V.current;return t.addEventListener("wheel",Me,{passive:!1}),t.addEventListener("DOMMouseScroll",Fe,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Me),t.removeEventListener("DOMMouseScroll",Fe),t.removeEventListener("MozMousePixelScroll",e)}}),[z]),gn((function(){if(v){var e=Ae(Y);Q(e),Re({x:e})}}),[ge.width,v]);var ze=function(){var e,t;null===(e=ye.current)||void 0===e||e.delayHidden(),null===(t=be.current)||void 0===t||t.delayHidden()},De=function(e,t,n,r,a,i,s,l){var c=o.useRef(),u=k(o.useState(null),2),d=u[0],f=u[1];return gn((function(){if(d&&d.times<yd){if(!e.current)return void f((function(e){return Le({},e)}));i();var o=d.targetAlign,l=d.originAlign,c=d.index,u=d.offset,h=e.current.clientHeight,p=!1,m=o,g=null;if(h){for(var v=o||l,y=0,b=0,w=0,_=Math.min(t.length-1,c),x=0;x<=_;x+=1){var E=a(t[x]);b=y;var S=n.get(E);y=w=b+(void 0===S?r:S)}for(var k="top"===v?u:h-u,O=_;O>=0;O-=1){var C=a(t[O]),P=n.get(C);if(void 0===P){p=!0;break}if((k-=P)<=0)break}switch(v){case"top":g=b-u;break;case"bottom":g=w-h+u;break;default:var $=e.current.scrollTop;b<$?m="top":w>$+h&&(m="bottom")}null!==g&&s(g),g!==d.lastTop&&(p=!0)}p&&f(Le(Le({},d),{},{times:d.times+1,targetAlign:m,lastTop:g}))}}),[d,e.current]),function(e){if(null!==e&&void 0!==e){if(Po.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===O(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return a(t)===e.key}));var o=e.offset;f({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else l()}}(V,W,L,s,T,(function(){return M(!0)}),ie,ze);o.useImperativeHandle(t,(function(){return{nativeElement:K.current,getScrollInfo:$e,scrollTo:function(e){var t;(t=e)&&"object"===O(t)&&("left"in t||"top"in t)?(void 0!==e.left&&Q(Ae(e.left)),De(e.top)):De(e)}}})),gn((function(){if(E){var e=W.slice(fe,he+1);E(e,W)}}),[fe,he,W]);var Be=function(e,t,n,r){var a=k(o.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),i=a[0],s=a[1];return function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,l=i.get(a),c=i.get(o);if(void 0===l||void 0===c)for(var u=e.length,d=s.length;d<u;d+=1){var f,h=e[d],p=t(h);i.set(p,d);var m=null!==(f=n.get(p))&&void 0!==f?f:r;if(s[d]=(s[d-1]||0)+m,p===a&&(l=d),p===o&&(c=d),void 0!==l&&void 0!==c)break}return{top:s[l-1]||0,bottom:s[c]}}}(W,T,L,s),He=null===C||void 0===C?void 0:C({start:fe,end:he,virtual:B,offsetX:Y,offsetY:pe,rtl:H,getSize:Be}),Ue=function(e,t,n,r,a,i,s,l){var c=l.getKey;return e.slice(t,n+1).map((function(e,n){var l=s(e,t+n,{style:{width:r},offsetX:a}),u=c(e);return o.createElement(ud,{key:u,setRef:function(t){return i(e,t)}},l)}))}(W,fe,he,v,Y,j,f,oe),We=null;i&&(We=Le(P({},c?"height":"maxHeight",i),Od),z&&(We.overflowY="hidden",v&&(We.overflowX="hidden"),te&&(We.pointerEvents="none")));var Ve={};return H&&(Ve.dir="rtl"),o.createElement("div",_({ref:K,style:Le(Le({},u),{},{position:"relative"}),className:U},Ve,R),o.createElement(Cc,{onResize:function(e){ve({width:e.offsetWidth,height:e.offsetHeight})}},o.createElement(b,{className:"".concat(r,"-holder"),style:We,ref:V,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Z&&ie(t),null===w||void 0===w||w(e),Re()},onMouseEnter:ze},o.createElement(cd,{prefixCls:r,height:de,offsetX:Y,offsetY:pe,scrollWidth:v,onInnerResize:M,ref:q,innerProps:S,rtl:H,extra:He},Ue))),B&&de>i&&o.createElement(_d,{ref:ye,prefixCls:r,scrollOffset:Z,scrollRange:de,rtl:H,onScroll:Te,onStartMove:re,onStopMove:ae,spinSize:_e,containerSize:ge.height,style:null===I||void 0===I?void 0:I.verticalScrollBar,thumbStyle:null===I||void 0===I?void 0:I.verticalScrollBarThumb}),B&&v>ge.width&&o.createElement(_d,{ref:be,prefixCls:r,scrollOffset:Y,scrollRange:v,rtl:H,onScroll:Te,onStartMove:re,onStopMove:ae,spinSize:we,containerSize:ge.width,horizontal:!0,style:null===I||void 0===I?void 0:I.horizontalScrollBar,thumbStyle:null===I||void 0===I?void 0:I.horizontalScrollBarThumb}))}var Pd=o.forwardRef(Cd);Pd.displayName="List";const $d=Pd;var Id=["disabled","title","children","style","className"];function Rd(e){return"string"===typeof e||"number"===typeof e}var Td=function(e,t){var n=o.useContext(ql),r=n.prefixCls,a=n.id,i=n.open,s=n.multiple,l=n.mode,c=n.searchValue,u=n.toggleOpen,f=n.notFoundContent,m=n.onPopupScroll,g=o.useContext(Ju),v=g.maxCount,y=g.flattenOptions,b=g.onActiveValue,w=g.defaultActiveFirstOption,x=g.onSelect,E=g.menuItemSelectedIcon,S=g.rawValues,O=g.fieldNames,C=g.virtual,I=g.direction,R=g.listHeight,T=g.listItemHeight,A=g.optionRender,N="".concat(r,"-item"),j=Nt((function(){return y}),[i,y],(function(e,t){return t[0]&&e[1]!==t[1]})),M=o.useRef(null),L=o.useMemo((function(){return s&&Xu(v)&&(null===S||void 0===S?void 0:S.size)>=v}),[s,v,null===S||void 0===S?void 0:S.size]),F=function(e){e.preventDefault()},z=function(e){var t;null===(t=M.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},D=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=j.length,r=0;r<n;r+=1){var a=(e+r*t+n)%n,o=j[a]||{},i=o.group,s=o.data;if(!i&&(null===s||void 0===s||!s.disabled)&&!L)return a}return-1},B=k(o.useState((function(){return D(0)})),2),H=B[0],U=B[1],W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];U(e);var n={source:t?"keyboard":"mouse"},r=j[e];r?b(r.value,e,n):b(null,-1,n)};(0,o.useEffect)((function(){W(!1!==w?D(0):-1)}),[j.length,c]);var V=o.useCallback((function(e){return S.has(e)&&"combobox"!==l}),[l,d(S).toString(),S.size]);(0,o.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&i&&1===S.size){var e=Array.from(S)[0],t=j.findIndex((function(t){return t.data.value===e}));-1!==t&&(W(t),z(t))}}));i&&(null===(e=M.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,c]);var q=function(e){void 0!==e&&x(e,{selected:!S.has(e)}),s||u(!1)};if(o.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Wl.N:case Wl.P:case Wl.UP:case Wl.DOWN:var r=0;if(t===Wl.UP?r=-1:t===Wl.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Wl.N?r=1:t===Wl.P&&(r=-1)),0!==r){var a=D(H+r,r);z(a),W(a,!0)}break;case Wl.ENTER:var o,s=j[H];!s||null!==s&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.disabled||L?q(void 0):q(s.value),i&&e.preventDefault();break;case Wl.ESC:u(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){z(e)}}})),0===j.length)return o.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(N,"-empty"),onMouseDown:F},f);var K=Object.keys(O).map((function(e){return O[e]})),X=function(e){return e.label};function Z(e,t){return{role:e.group?"presentation":"option",id:"".concat(a,"_list_").concat(t)}}var G=function(e){var t=j[e];if(!t)return null;var n=t.data||{},r=n.value,a=t.group,i=Gl(n,!0),s=X(t);return t?o.createElement("div",_({"aria-label":"string"!==typeof s||a?null:s},i,{key:e},Z(t,e),{"aria-selected":V(r)}),r):null},J={role:"listbox",id:"".concat(a,"_list")};return o.createElement(o.Fragment,null,C&&o.createElement("div",_({},J,{style:{height:0,width:0,overflow:"hidden"}}),G(H-1),G(H),G(H+1)),o.createElement($d,{itemKey:"key",ref:M,data:j,height:R,itemHeight:T,fullHeight:!1,onMouseDown:F,onScroll:m,virtual:C,direction:I,innerProps:C?null:J},(function(e,t){var n=e.group,r=e.groupOption,a=e.data,i=e.label,s=e.value,l=a.key;if(n){var c,u=null!==(c=a.title)&&void 0!==c?c:Rd(i)?i.toString():void 0;return o.createElement("div",{className:h()(N,"".concat(N,"-group"),a.className),title:u},void 0!==i?i:l)}var d=a.disabled,f=a.title,m=(a.children,a.style),g=a.className,v=p($(a,Id),K),y=V(s),b=d||!y&&L,w="".concat(N,"-option"),x=h()(N,w,g,P(P(P(P({},"".concat(w,"-grouped"),r),"".concat(w,"-active"),H===t&&!b),"".concat(w,"-disabled"),b),"".concat(w,"-selected"),y)),S=X(e),k=!E||"function"===typeof E||y,O="number"===typeof S?S:S||s,I=Rd(O)?O.toString():void 0;return void 0!==f&&(I=f),o.createElement("div",_({},Gl(v),C?{}:Z(e,t),{"aria-selected":y,className:x,title:I,onMouseMove:function(){H===t||b||W(t)},onClick:function(){b||q(s)},style:m}),o.createElement("div",{className:"".concat(w,"-content")},"function"===typeof A?A(e,{index:t}):O),o.isValidElement(E)||y,k&&o.createElement(Vl,{className:"".concat(N,"-option-state"),customizeIcon:E,customizeIconProps:{value:s,disabled:b,isSelected:y}},y?"\u2713":null))})))};const Ad=o.forwardRef(Td);function Nd(e,t){return Jc(e).join("").toUpperCase().includes(t)}var jd=0,Md=Fe();function Ld(e){var t=k(o.useState(),2),n=t[0],r=t[1];return o.useEffect((function(){r("rc_select_".concat(function(){var e;return Md?(e=jd,jd+=1):e="TEST_OR_SSR",e}()))}),[]),e||n}var Fd=["children","value"],zd=["children"];function Dd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return w(e).map((function(e,n){if(!o.isValidElement(e)||!e.type)return null;var r=e,a=r.type.isSelectOptGroup,i=r.key,s=r.props,l=s.children,c=$(s,zd);return t||!a?function(e){var t=e,n=t.key,r=t.props,a=r.children,o=r.value;return Le({key:n,value:void 0!==o?o:n,children:a},$(r,Fd))}(e):Le(Le({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},c),{},{options:Dd(l)})})).filter((function(e){return e}))}const Bd=function(e,t,n,r,a){return o.useMemo((function(){var o=e;!e&&(o=Dd(t));var i=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||o?(i.set(u[n.value],u),l(s,u,n.label),l(s,u,r),l(s,u,a)):e(u[n.options],!0)}}(o),{options:o,valueOptions:i,labelOptions:s}}),[e,t,n,r,a])};function Hd(e){var t=o.useRef();t.current=e;var n=o.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var Ud=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Wd=["inputValue"];var Vd=o.forwardRef((function(e,t){var n=e.id,r=e.mode,a=e.prefixCls,i=void 0===a?"rc-select":a,s=e.backfill,l=e.fieldNames,c=e.inputValue,u=e.searchValue,f=e.onSearch,h=e.autoClearSearchValue,p=void 0===h||h,m=e.onSelect,g=e.onDeselect,v=e.dropdownMatchSelectWidth,y=void 0===v||v,b=e.filterOption,w=e.filterSort,x=e.optionFilterProp,E=e.optionLabelProp,S=e.options,C=e.optionRender,I=e.children,R=e.defaultActiveFirstOption,T=e.menuItemSelectedIcon,A=e.virtual,N=e.direction,j=e.listHeight,M=void 0===j?200:j,L=e.listItemHeight,F=void 0===L?20:L,z=e.labelRender,D=e.value,B=e.defaultValue,H=e.labelInValue,U=e.onChange,W=e.maxCount,V=$(e,Ud),q=Ld(n),K=td(r),X=!(S||!I),Z=o.useMemo((function(){return(void 0!==b||"combobox"!==r)&&b}),[b,r]),G=o.useMemo((function(){return Zu(l,X)}),[JSON.stringify(l),X]),J=k(Br("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),Y=J[0],Q=J[1],ee=Bd(S,I,G,x,E),te=ee.valueOptions,ne=ee.labelOptions,re=ee.options,ae=o.useCallback((function(e){return Jc(e).map((function(e){var t,n,r,a,o,i;(function(e){return!e||"object"!==O(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(i=e.value)&&void 0!==i?i:r);var s,l=te.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[E||G.label]),void 0===r&&(r=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),a=null===l||void 0===l?void 0:l.disabled,o=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:r,disabled:a,title:o}}))}),[G,E,te]),oe=k(Br(B,{value:D}),2),ie=oe[0],se=oe[1],le=o.useMemo((function(){var e,t=ae(K&&null===ie?[]:ie);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ie,ae,r,K]),ce=function(e,t){var n=o.useRef({values:new Map,options:new Map});return[o.useMemo((function(){var r=n.current,a=r.values,o=r.options,i=e.map((function(e){var t;return void 0===e.label?Le(Le({},e),{},{label:null===(t=a.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return i.forEach((function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=l,i}),[e,t]),o.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(le,te),ue=k(ce,2),de=ue[0],fe=ue[1],he=o.useMemo((function(){if(!r&&1===de.length){var e=de[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return de.map((function(e){var t;return Le(Le({},e),{},{label:null!==(t="function"===typeof z?z(e):e.label)&&void 0!==t?t:e.value})}))}),[r,de,z]),pe=o.useMemo((function(){return new Set(de.map((function(e){return e.value})))}),[de]);o.useEffect((function(){if("combobox"===r){var e,t=null===(e=de[0])||void 0===e?void 0:e.value;Q(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[de]);var me=Hd((function(e,t){var n=null!==t&&void 0!==t?t:e;return P(P({},G.value,e),G.label,n)})),ge=function(e,t,n,r,a){return o.useMemo((function(){if(!n||!1===r)return e;var o=t.options,i=t.label,s=t.value,l=[],c="function"===typeof r,u=n.toUpperCase(),d=c?r:function(e,t){return a?Nd(t[a],u):t[o]?Nd(t["children"!==i?i:"label"],u):Nd(t[s],u)},f=c?function(e){return Gu(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(d(n,f(e)))l.push(e);else{var t=e[o].filter((function(e){return d(n,f(e))}));t.length&&l.push(Le(Le({},e),{},P({},o,t)))}else d(n,f(e))&&l.push(e)})),l}),[e,r,a,n,t])}(o.useMemo((function(){if("tags"!==r)return re;var e=d(re);return d(de).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return te.has(e)})(n)||e.push(me(n,t.label))})),e}),[me,re,te,de,r]),G,Y,Z,x),ve=o.useMemo((function(){return"tags"!==r||!Y||ge.some((function(e){return e[x||"value"]===Y}))||ge.some((function(e){return e[G.value]===Y}))?ge:[me(Y)].concat(d(ge))}),[me,x,r,ge,Y,G]),ye=o.useMemo((function(){return w?d(ve).sort((function(e,t){return w(e,t)})):ve}),[ve,w]),be=o.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,a=[],o=Zu(n,!1),i=o.label,s=o.value,l=o.options,c=o.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach((function(t){if(n||!(l in t)){var o=t[s];a.push({key:Ku(t,a.length),groupOption:n,data:t,label:t[i],value:o})}else{var u=t[c];void 0===u&&r&&(u=t.label),a.push({key:Ku(t,a.length),group:!0,data:t,label:u}),e(t[l],!0)}}))}(e,!1),a}(ye,{fieldNames:G,childrenAsData:X})}),[ye,G,X]),we=function(e){var t=ae(e);if(se(t),U&&(t.length!==de.length||t.some((function(e,t){var n;return(null===(n=de[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=H?t:t.map((function(e){return e.value})),r=t.map((function(e){return Gu(fe(e.value))}));U(K?n:n[0],K?r:r[0])}},_e=k(o.useState(null),2),xe=_e[0],Ee=_e[1],Se=k(o.useState(0),2),ke=Se[0],Oe=Se[1],Ce=void 0!==R?R:"combobox"!==r,Pe=o.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,a=void 0===n?"keyboard":n;Oe(t),s&&"combobox"===r&&null!==e&&"keyboard"===a&&Ee(String(e))}),[s,r]),$e=function(e,t,n){var r=function(){var t,n=fe(e);return[H?{label:null===n||void 0===n?void 0:n[G.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Gu(n)]};if(t&&m){var a=k(r(),2),o=a[0],i=a[1];m(o,i)}else if(!t&&g&&"clear"!==n){var s=k(r(),2),l=s[0],c=s[1];g(l,c)}},Ie=Hd((function(e,t){var n,a=!K||t.selected;n=a?K?[].concat(d(de),[e]):[e]:de.filter((function(t){return t.value!==e})),we(n),$e(e,a),"combobox"===r?Ee(""):td&&!p||(Q(""),Ee(""))})),Re=o.useMemo((function(){var e=!1!==A&&!1!==y;return Le(Le({},ee),{},{flattenOptions:be,onActiveValue:Pe,defaultActiveFirstOption:Ce,onSelect:Ie,menuItemSelectedIcon:T,rawValues:pe,fieldNames:G,virtual:e,direction:N,listHeight:M,listItemHeight:F,childrenAsData:X,maxCount:W,optionRender:C})}),[W,ee,be,Pe,Ce,Ie,T,pe,G,A,y,N,M,F,X,C]);return o.createElement(Ju.Provider,{value:Re},o.createElement(rd,_({},V,{id:q,prefixCls:i,ref:t,omitDomProps:Wd,mode:r,displayValues:he,onDisplayValuesChange:function(e,t){we(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){$e(e.value,!1,n)}))},direction:N,searchValue:Y,onSearch:function(e,t){if(Q(e),Ee(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&we(e),null===f||void 0===f||f(e));else{var n=(e||"").trim();if(n){var a=Array.from(new Set([].concat(d(pe),[n])));we(a),$e(n,!0),Q("")}}},autoClearSearchValue:p,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=ne.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(d(pe),d(t))));we(n),n.forEach((function(e){$e(e,!0)}))},dropdownMatchSelectWidth:y,OptionList:Ad,emptyOptions:!be.length,activeValue:xe,activeDescendantId:"".concat(q,"_list_").concat(ke)})))}));var qd=Vd;qd.Option=sd,qd.OptGroup=od;const Kd=qd;const Xd=o.createContext(void 0),Zd=100,Gd={Modal:Zd,Drawer:Zd,Popover:Zd,Popconfirm:Zd,Tooltip:Zd,Tour:Zd},Jd={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Yd(e,t){const[,n]=Ia(),r=o.useContext(Xd),a=function(e){return e in Gd}(e);if(void 0!==t)return[t,t];let i=null!==r&&void 0!==r?r:0;return a?(i+=(r?0:n.zIndexPopupBase)+Gd[e],i=Math.min(i,n.zIndexPopupBase+1e3)):i+=Jd[e],[void 0===r?t:i,i]}const Qd=(e,t,n)=>void 0!==n?n:`${e}-${t}`;function ef(){}const tf=o.createContext({}),nf=()=>{const e=()=>{};return e.deprecated=ef,e},rf=(0,o.createContext)(void 0);const af={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const of={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},sf={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},lf={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},of),timePickerLocale:Object.assign({},sf)},cf="${label} is not a valid ${type}",uf={locale:"en",Pagination:af,DatePicker:lf,TimePicker:sf,Calendar:lf,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:cf,method:cf,array:cf,object:cf,number:cf,date:cf,boolean:cf,integer:cf,float:cf,regexp:cf,email:cf,url:cf,hex:cf},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};let df=Object.assign({},uf.Modal),ff=[];const hf=()=>ff.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),uf.Modal);const pf=(0,o.createContext)(void 0);const mf=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;o.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return ff.push(t),df=hf(),()=>{ff=ff.filter((e=>e!==t)),df=hf()}}df=Object.assign({},uf.Modal)}(t&&t.Modal);return e}),[t]);const a=o.useMemo((()=>Object.assign(Object.assign({},t),{exist:!0})),[t]);return o.createElement(pf.Provider,{value:a},n)},gf=`-ant-${Date.now()}-${Math.random()}`;function vf(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},a=(e,t)=>{const a=new ca(e),o=le(a.toRgbString());n[`${t}-color`]=r(a),n[`${t}-color-disabled`]=o[1],n[`${t}-color-hover`]=o[4],n[`${t}-color-active`]=o[6],n[`${t}-color-outline`]=a.clone().setAlpha(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=o[0],n[`${t}-color-deprecated-border`]=o[2]};if(t.primaryColor){a(t.primaryColor,"primary");const e=new ca(t.primaryColor),o=le(e.toRgbString());o.forEach(((e,t)=>{n[`primary-${t+1}`]=e})),n["primary-color-deprecated-l-35"]=r(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=r(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=r(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=r(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=r(e,(e=>e.setAlpha(.12*e.getAlpha())));const i=new ca(o[0]);n["primary-color-active-deprecated-f-30"]=r(i,(e=>e.setAlpha(.3*e.getAlpha()))),n["primary-color-active-deprecated-d-02"]=r(i,(e=>e.darken(2)))}return t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map((t=>`--${e}-${t}: ${n[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);Fe()&&Ze(n,`${gf}-dynamic-theme`)}const yf=function(){return{componentDisabled:(0,o.useContext)(Gi),componentSize:(0,o.useContext)(Qi)}},bf=Object.assign({},i),{useId:wf}=bf,_f="undefined"===typeof wf?()=>"":wf;function xf(e){const{children:t}=e,[,n]=Ia(),{motion:r}=n,a=o.useRef(!1);return a.current=a.current||!1===r,a.current?o.createElement(Mo,{motion:r},t):t}const Ef=()=>null;var Sf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const kf=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Of,Cf,Pf,$f;function If(){return Of||"ant"}const Rf=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:a,anchor:i,form:s,locale:l,componentSize:c,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:v,legacyLocale:y,parentContext:b,iconPrefixCls:w,theme:_,componentDisabled:x,segmented:E,statistic:S,spin:k,calendar:O,carousel:C,cascader:P,collapse:$,typography:I,checkbox:R,descriptions:T,divider:A,drawer:N,skeleton:j,steps:M,image:L,layout:F,list:z,mentions:D,modal:B,progress:H,result:U,slider:W,breadcrumb:V,menu:q,pagination:K,input:X,textArea:Z,empty:G,badge:J,radio:Y,rate:Q,switch:ee,transfer:te,avatar:ne,message:re,tag:ae,table:oe,card:ie,tabs:se,timeline:le,timePicker:ce,upload:ue,notification:de,tree:fe,colorPicker:he,datePicker:pe,rangePicker:me,flex:ge,wave:ve,dropdown:ye,warning:be,tour:we,floatButtonGroup:_e}=e,xe=o.useCallback(((t,n)=>{const{prefixCls:r}=e;if(n)return n;const a=r||b.getPrefixCls("");return t?`${a}-${t}`:a}),[b.getPrefixCls,e.prefixCls]),Ee=w||b.iconPrefixCls||m,Se=n||b.csp;Ja(Ee,Se);const ke=function(e,t,n){var r;nf("ConfigProvider");const a=e||{},o=!1!==a.inherit&&t?t:Object.assign(Object.assign({},ba),{hashed:null!==(r=null===t||void 0===t?void 0:t.hashed)&&void 0!==r?r:ba.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),i=_f();return Nt((()=>{var r,s;if(!e)return t;const l=Object.assign({},o.components);Object.keys(e.components||{}).forEach((t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])}));const c=`css-var-${i.replace(/:/g,"")}`,u=(null!==(r=a.cssVar)&&void 0!==r?r:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===n||void 0===n?void 0:n.prefixCls},"object"===typeof o.cssVar?o.cssVar:{}),"object"===typeof a.cssVar?a.cssVar:{}),{key:"object"===typeof a.cssVar&&(null===(s=a.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:l,cssVar:u})}),[a,o],((e,t)=>e.some(((e,n)=>{const r=t[n];return!jt(e,r,!0)}))))}(_,b.theme,{prefixCls:xe("")});const Oe={csp:Se,autoInsertSpaceInButton:r,alert:a,anchor:i,locale:l||y,direction:u,space:d,virtual:f,popupMatchSelectWidth:null!==p&&void 0!==p?p:h,popupOverflow:v,getPrefixCls:xe,iconPrefixCls:Ee,theme:ke,segmented:E,statistic:S,spin:k,calendar:O,carousel:C,cascader:P,collapse:$,typography:I,checkbox:R,descriptions:T,divider:A,drawer:N,skeleton:j,steps:M,image:L,input:X,textArea:Z,layout:F,list:z,mentions:D,modal:B,progress:H,result:U,slider:W,breadcrumb:V,menu:q,pagination:K,empty:G,badge:J,radio:Y,rate:Q,switch:ee,transfer:te,avatar:ne,message:re,tag:ae,table:oe,card:ie,tabs:se,timeline:le,timePicker:ce,upload:ue,notification:de,tree:fe,colorPicker:he,datePicker:pe,rangePicker:me,flex:ge,wave:ve,dropdown:ye,warning:be,tour:we,floatButtonGroup:_e},Ce=Object.assign({},b);Object.keys(Oe).forEach((e=>{void 0!==Oe[e]&&(Ce[e]=Oe[e])})),kf.forEach((t=>{const n=e[t];n&&(Ce[t]=n)}));const Pe=Nt((()=>Ce),Ce,((e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((n=>e[n]!==t[n]))})),$e=o.useMemo((()=>({prefixCls:Ee,csp:Se})),[Ee,Se]);let Ie=o.createElement(o.Fragment,null,o.createElement(Ef,{dropdownMatchSelectWidth:h}),t);const Re=o.useMemo((()=>{var e,t,n,r;return Qr((null===(e=uf.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Pe.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=Pe.form)||void 0===r?void 0:r.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})}),[Pe,null===s||void 0===s?void 0:s.validateMessages]);Object.keys(Re).length>0&&(Ie=o.createElement(rf.Provider,{value:Re},Ie)),l&&(Ie=o.createElement(mf,{locale:l,_ANT_MARK__:"internalMark"},Ie)),(Ee||Se)&&(Ie=o.createElement(je.Provider,{value:$e},Ie)),c&&(Ie=o.createElement(Yi,{size:c},Ie)),Ie=o.createElement(xf,null,Ie);const Te=o.useMemo((()=>{const e=ke||{},{algorithm:t,token:n,components:r,cssVar:a}=e,o=Sf(e,["algorithm","token","components","cssVar"]),i=t&&(!Array.isArray(t)||t.length>0)?en(t):ya,s={};Object.entries(r||{}).forEach((e=>{let[t,n]=e;const r=Object.assign({},n);"algorithm"in r&&(!0===r.algorithm?r.theme=i:(Array.isArray(r.algorithm)||"function"===typeof r.algorithm)&&(r.theme=en(r.algorithm)),delete r.algorithm),s[t]=r}));const l=Object.assign(Object.assign({},la),n);return Object.assign(Object.assign({},o),{theme:i,token:l,components:s,override:Object.assign({override:l},s),cssVar:a})}),[ke]);return _&&(Ie=o.createElement(wa.Provider,{value:Te},Ie)),Pe.warning&&(Ie=o.createElement(tf.Provider,{value:Pe.warning},Ie)),void 0!==x&&(Ie=o.createElement(Zi,{disabled:x},Ie)),o.createElement(g.Provider,{value:Pe},Ie)},Tf=e=>{const t=o.useContext(g),n=o.useContext(pf);return o.createElement(Rf,Object.assign({parentContext:t,legacyLocale:n},e))};Tf.ConfigContext=g,Tf.SizeContext=Qi,Tf.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:a}=e;void 0!==t&&(Of=t),void 0!==n&&(Cf=n),"holderRender"in e&&($f=a),r&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(r)?Pf=r:vf(If(),r))},Tf.useConfig=yf,Object.defineProperty(Tf,"SizeContext",{get:()=>Qi});const Af=Tf;const Nf=(e,t,n,r)=>function(e){return t=>o.createElement(Af,{theme:{token:{motion:!1,zIndexPopupBase:0}}},o.createElement(e,Object.assign({},t)))}((a=>{const{prefixCls:i,style:s}=a,l=o.useRef(null),[c,u]=o.useState(0),[d,f]=o.useState(0),[h,p]=Br(!1,{value:a.open}),{getPrefixCls:m}=o.useContext(g),v=m(t||"select",i);o.useEffect((()=>{if(p(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;u(t.offsetHeight+8),f(t.offsetWidth)})),t=setInterval((()=>{var r;const a=n?`.${n(v)}`:`.${v}-dropdown`,o=null===(r=l.current)||void 0===r?void 0:r.querySelector(a);o&&(clearInterval(t),e.observe(o))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]);let y=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},s),{margin:0}),open:h,visible:h,getPopupContainer:()=>l.current});r&&(y=r(y));const b={paddingBottom:c,position:"relative",minWidth:d};return o.createElement("div",{ref:l,style:b},o.createElement(e,Object.assign({},y)))}));function jf(e,t,n){return h()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}const Mf=(e,t)=>t||e,Lf=(e,t)=>{const n=o.useContext(pf),r=o.useMemo((()=>{var r;const a=t||uf[e],o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"===typeof a?a():a),o||{})}),[e,t,n]);return[r,o.useMemo((()=>{const e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?uf.locale:e}),[n])]};const Ff=()=>{const[,e]=Ia(),t=new ca(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return o.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(24 31.67)"},o.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),o.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),o.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),o.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),o.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),o.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),o.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},o.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),o.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const zf=()=>{const[,e]=Ia(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:a}=e,{borderColor:i,shadowColor:s,contentColor:l}=(0,o.useMemo)((()=>({borderColor:new ca(t).onBackground(a).toHexShortString(),shadowColor:new ca(n).onBackground(a).toHexShortString(),contentColor:new ca(r).onBackground(a).toHexShortString()})),[t,n,r,a]);return o.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},o.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),o.createElement("g",{fillRule:"nonzero",stroke:i},o.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),o.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},Df=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:a,fontSize:o,lineHeight:i}=e;return{[t]:{marginInline:r,fontSize:o,lineHeight:i,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:a,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},Bf=to("Empty",(e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,a=Ka(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[Df(a)]}));var Hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Uf=o.createElement(Ff,null),Wf=o.createElement(zf,null),Vf=e=>{var{className:t,rootClassName:n,prefixCls:r,image:a=Uf,description:i,children:s,imageStyle:l,style:c}=e,u=Hf(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:d,direction:f,empty:p}=o.useContext(g),m=d("empty",r),[v,y,b]=Bf(m),[w]=Lf("Empty"),_="undefined"!==typeof i?i:null===w||void 0===w?void 0:w.description,x="string"===typeof _?_:"empty";let E=null;return E="string"===typeof a?o.createElement("img",{alt:x,src:a}):a,v(o.createElement("div",Object.assign({className:h()(y,b,m,null===p||void 0===p?void 0:p.className,{[`${m}-normal`]:a===Wf,[`${m}-rtl`]:"rtl"===f},t,n),style:Object.assign(Object.assign({},null===p||void 0===p?void 0:p.style),c)},u),o.createElement("div",{className:`${m}-image`,style:l},E),_&&o.createElement("div",{className:`${m}-description`},_),s&&o.createElement("div",{className:`${m}-footer`},s)))};Vf.PRESENTED_IMAGE_DEFAULT=Uf,Vf.PRESENTED_IMAGE_SIMPLE=Wf;const qf=Vf,Kf=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,o.useContext)(g),r=n("empty");switch(t){case"Table":case"List":return o.createElement(qf,{image:qf.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return o.createElement(qf,{image:qf.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return o.createElement(qf,null)}},Xf=e=>{const[,,,,t]=Ia();return t?`${e}-css-var`:""};var Zf="RC_FORM_INTERNAL_HOOKS",Gf=function(){at(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const Jf=o.createContext({getFieldValue:Gf,getFieldsValue:Gf,getFieldError:Gf,getFieldWarning:Gf,getFieldsError:Gf,isFieldsTouched:Gf,isFieldTouched:Gf,isFieldValidating:Gf,isFieldsValidating:Gf,resetFields:Gf,setFields:Gf,setFieldValue:Gf,setFieldsValue:Gf,validateFields:Gf,submit:Gf,getInternalHooks:function(){return Gf(),{dispatch:Gf,initEntityValue:Gf,registerField:Gf,useSubscribe:Gf,setInitialValues:Gf,destroyForm:Gf,setCallbacks:Gf,registerWatch:Gf,getFields:Gf,setValidateMessages:Gf,setPreserve:Gf,getInitialValue:Gf}}});const Yf=o.createContext(null);function Qf(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}function th(e){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},th(e)}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nh(e,t)}function rh(e,t,n){return rh=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(KM){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&nh(a,n.prototype),a},rh.apply(null,arguments)}function ah(e){var t="function"===typeof Map?new Map:void 0;return ah=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return rh(e,arguments,th(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),nh(r,e)},ah(e)}var oh=/%[sdj%]/g;function ih(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function sh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(oh,(function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}break;default:return e}})):e}function lh(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function ch(e,t,n){var r=0,a=e.length;!function o(i){if(i&&i.length)n(i);else{var s=r;r+=1,s<a?t(e[s],o):n([])}}([])}var uh=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,nh(t,n),r}(ah(Error));function dh(e,t,n,r,a){if(t.first){var o=new Promise((function(t,o){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);ch(i,n,(function(e){return r(e),e.length?o(new uh(e,ih(e))):t(a)}))}));return o.catch((function(e){return e})),o}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?o(new uh(u,ih(u))):t(a)};s.length||(r(u),t(a)),s.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?ch(r,n,d):function(e,t,n){var r=[],a=0,o=e.length;function i(e){r.push.apply(r,e||[]),++a===o&&n(r)}e.forEach((function(e){t(e,i)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function fh(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function hh(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=eh({},e[n],r):e[n]=r}return e}var ph,mh=function(e,t,n,r,a,o){!e.required||n.hasOwnProperty(e.field)&&!lh(t,o||e.type)||r.push(sh(a.messages.required,e.fullField))},gh=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,vh=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,yh={integer:function(e){return yh.number(e)&&parseInt(e,10)===e},float:function(e){return yh.number(e)&&!yh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(KM){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!yh.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(gh)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(ph)return ph;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),i=new RegExp("^"+n+"$"),s=new RegExp("^"+a+"$"),l=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+a+t(e)+")","g")};l.v4=function(e){return e&&e.exact?i:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+a+t(e),"g")};var c=l.v4().source,u=l.v6().source;return ph=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(vh)}},bh="enum",wh={required:mh,whitespace:function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(sh(a.messages.whitespace,e.fullField))},type:function(e,t,n,r,a){if(e.required&&void 0===t)mh(e,t,n,r,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?yh[o](t)||r.push(sh(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(sh(a.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,a){var o="number"===typeof e.len,i="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(sh(a.messages[c].len,e.fullField,e.len)):i&&!s&&l<e.min?r.push(sh(a.messages[c].min,e.fullField,e.min)):s&&!i&&l>e.max?r.push(sh(a.messages[c].max,e.fullField,e.max)):i&&s&&(l<e.min||l>e.max)&&r.push(sh(a.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,a){e[bh]=Array.isArray(e[bh])?e[bh]:[],-1===e[bh].indexOf(t)&&r.push(sh(a.messages[bh],e.fullField,e[bh].join(", ")))},pattern:function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(sh(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(sh(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},_h=function(e,t,n,r,a){var o=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t,o)&&!e.required)return n();wh.required(e,t,r,i,a,o),lh(t,o)||wh.type(e,t,r,i,a)}n(i)},xh={string:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t,"string")&&!e.required)return n();wh.required(e,t,r,o,a,"string"),lh(t,"string")||(wh.type(e,t,r,o,a),wh.range(e,t,r,o,a),wh.pattern(e,t,r,o,a),!0===e.whitespace&&wh.whitespace(e,t,r,o,a))}n(o)},method:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&wh.type(e,t,r,o,a)}n(o)},number:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&(wh.type(e,t,r,o,a),wh.range(e,t,r,o,a))}n(o)},boolean:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&wh.type(e,t,r,o,a)}n(o)},regexp:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),lh(t)||wh.type(e,t,r,o,a)}n(o)},integer:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&(wh.type(e,t,r,o,a),wh.range(e,t,r,o,a))}n(o)},float:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&(wh.type(e,t,r,o,a),wh.range(e,t,r,o,a))}n(o)},array:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();wh.required(e,t,r,o,a,"array"),void 0!==t&&null!==t&&(wh.type(e,t,r,o,a),wh.range(e,t,r,o,a))}n(o)},object:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&wh.type(e,t,r,o,a)}n(o)},enum:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a),void 0!==t&&wh.enum(e,t,r,o,a)}n(o)},pattern:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t,"string")&&!e.required)return n();wh.required(e,t,r,o,a),lh(t,"string")||wh.pattern(e,t,r,o,a)}n(o)},date:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t,"date")&&!e.required)return n();var i;if(wh.required(e,t,r,o,a),!lh(t,"date"))i=t instanceof Date?t:new Date(t),wh.type(e,i,r,o,a),i&&wh.range(e,i.getTime(),r,o,a)}n(o)},url:_h,hex:_h,email:_h,required:function(e,t,n,r,a){var o=[],i=Array.isArray(t)?"array":typeof t;wh.required(e,t,r,o,a,i),n(o)},any:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(lh(t)&&!e.required)return n();wh.required(e,t,r,o,a)}n(o)}};function Eh(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Sh=Eh(),kh=function(){function e(e){this.rules=null,this._messages=Sh,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=hh(Eh(),e)),this._messages},t.validate=function(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,i=n,s=r;if("function"===typeof i&&(s=i,i={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(i.messages){var l=this.messages();l===Sh&&(l=Eh()),hh(l,i.messages),i.messages=l}else i.messages=this.messages();var c={};(i.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],r=o[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(o===t&&(o=eh({},o)),r=o[e]=i.transform(r)),(i="function"===typeof i?{validator:i}:eh({},i)).validator=a.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=a.getType(i),c[e]=c[e]||[],c[e].push({rule:i,value:r,source:o,field:e}))}))}));var u={};return dh(c,i,(function(t,n){var r,a=t.rule,s=("object"===a.type||"array"===a.type)&&("object"===typeof a.fields||"object"===typeof a.defaultField);function l(e,t){return eh({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==a.message&&(c=[].concat(a.message));var d=c.map(fh(a,o));if(i.first&&d.length)return u[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(fh(a,o)):i.error&&(d=[i.error(a,sh(i.messages.required,a.field))]),n(d);var f={};a.defaultField&&Object.keys(t.value).map((function(e){f[e]=a.defaultField})),f=eh({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),p.validate(t.value,t.rule.options||i,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)r=a.asyncValidator(a,t.value,c,t.source,i);else if(a.validator){try{r=a.validator(a,t.value,c,t.source,i)}catch(d){null==console.error||console.error(d),i.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var a=0;a<e.length;a++)r(e[a]);t.length?(n=ih(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!xh.hasOwnProperty(e.type))throw new Error(sh("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?xh.required:xh[this.getType(e)]||void 0},e}();kh.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");xh[e]=t},kh.warning=function(){},kh.messages=Sh,kh.validators=xh;var Oh="'${name}' is not a valid ${type}",Ch={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Oh,method:Oh,array:Oh,object:Oh,number:Oh,date:Oh,boolean:Oh,integer:Oh,float:Oh,regexp:Oh,email:Oh,url:Oh,hex:Oh},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ph=kh;function $h(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var Ih="CODE_LOGIC_ERROR";function Rh(e,t,n,r,a){return Th.apply(this,arguments)}function Th(){return Th=$i(Ci().mark((function e(t,n,r,a,i){var s,l,c,u,f,h,p,m,g;return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Le({},r)).ruleIndex,Ph.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Ih)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new Ph(P({},t,[s])),f=Qr(Ch,a.validateMessages),u.messages(f),h=[],e.prev=10,e.next=13,Promise.resolve(u.validate(P({},t,n),Le({},a)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(h=e.t0.errors.map((function(e,t){var n=e.message,r=n===Ih?f.default:n;return o.isValidElement(r)?o.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(h.length||!c){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return Rh("".concat(t,".").concat(n),e,c,a,i)})));case 21:return p=e.sent,e.abrupt("return",p.reduce((function(e,t){return[].concat(d(e),d(t))}),[]));case 23:return m=Le(Le({},r),{},{name:t,enum:(r.enum||[]).join(", ")},i),g=h.map((function(e){return"string"===typeof e?$h(e,m):e})),e.abrupt("return",g);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),Th.apply(this,arguments)}function Ah(e,t,n,r,a,o){var i,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=Le(Le({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){at(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)}))}));a=o&&"function"===typeof o.then&&"function"===typeof o.catch,at(a,"`callback` is deprecated. Please return a promise instead."),a&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,o=t.ruleIndex;return!!n===!!a?r-o:n?1:-1}));if(!0===a)i=new Promise(function(){var e=$i(Ci().mark((function e(n,a){var i,c,u;return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<l.length)){e.next=12;break}return c=l[i],e.next=5,Rh(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return a([{errors:u,rule:c}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return Rh(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));i=(a?function(e){return jh.apply(this,arguments)}(c):function(e){return Nh.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function Nh(){return(Nh=$i(Ci().mark((function e(t){return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,d(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(){return(jh=$i(Ci().mark((function e(t){var n;return Ci().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mh(e){return Qf(e)}function Lh(e,t){var n={};return t.forEach((function(t){var r=Xr(e,t);n=Gr(n,t,r)})),n}function Fh(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return zh(t,e,n)}))}function zh(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function Dh(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===O(t.target)&&e in t.target?t.target[e]:t}function Bh(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],o=t-n;return o>0?[].concat(d(e.slice(0,n)),[a],d(e.slice(n,t)),d(e.slice(t+1,r))):o<0?[].concat(d(e.slice(0,t)),d(e.slice(t+1,n+1)),[a],d(e.slice(n+1,r))):e}var Hh=["name"],Uh=[];function Wh(e,t,n,r,a,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==a}var Vh=function(e){La(n,e);var t=Lo(n);function n(e){var r;(Mt(this,n),P(Aa(r=t.call(this,e)),"state",{resetCount:0}),P(Aa(r),"cancelRegisterFunc",null),P(Aa(r),"mounted",!1),P(Aa(r),"touched",!1),P(Aa(r),"dirty",!1),P(Aa(r),"validatePromise",void 0),P(Aa(r),"prevValidating",void 0),P(Aa(r),"errors",Uh),P(Aa(r),"warnings",Uh),P(Aa(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,a=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,Mh(a)),r.cancelRegisterFunc=null})),P(Aa(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(d(void 0===n?[]:n),d(t)):[]})),P(Aa(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,a=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(a):e}))})),P(Aa(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),P(Aa(r),"metaCache",null),P(Aa(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=Le(Le({},r.getMeta()),{},{destroy:e});jt(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),P(Aa(r),"onStoreChange",(function(e,t,n){var a=r.props,o=a.shouldUpdate,i=a.dependencies,s=void 0===i?[]:i,l=a.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),f=r.getValue(c),h=t&&Fh(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||jt(d,f)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Uh,r.warnings=Uh,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Uh,r.warnings=Uh,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Uh),"warnings"in p&&(r.warnings=p.warnings||Uh),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&Fh(t,u,!0))return void r.reRender();if(o&&!u.length&&Wh(o,e,c,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(Mh).some((function(e){return Fh(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||u.length||o)&&Wh(o,e,c,d,f,n))return void r.reRender()}!0===o&&r.reRender()})),P(Aa(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),a=e||{},o=a.triggerName,i=a.validateOnly,s=void 0!==i&&i,l=Promise.resolve().then($i(Ci().mark((function a(){var i,s,c,u,f,h,p;return Ci().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.mounted){a.next=2;break}return a.abrupt("return",[]);case 2:if(i=r.props,s=i.validateFirst,c=void 0!==s&&s,u=i.messageVariables,f=i.validateDebounce,h=r.getRules(),o&&(h=h.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||Qf(t).includes(o)}))),!f||!o){a.next=10;break}return a.next=8,new Promise((function(e){setTimeout(e,f)}));case 8:if(r.validatePromise===l){a.next=10;break}return a.abrupt("return",[]);case 10:return(p=Ah(t,n,h,e,c,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uh;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,o=void 0===r?Uh:r;t?a.push.apply(a,d(o)):n.push.apply(n,d(o))})),r.errors=n,r.warnings=a,r.triggerMetaEvent(),r.reRender()}})),a.abrupt("return",p);case 13:case"end":return a.stop()}}),a)}))));return s||(r.validatePromise=l,r.dirty=!0,r.errors=Uh,r.warnings=Uh,r.triggerMetaEvent(),r.reRender()),l})),P(Aa(r),"isFieldValidating",(function(){return!!r.validatePromise})),P(Aa(r),"isFieldTouched",(function(){return r.touched})),P(Aa(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Zf).getInitialValue)(r.getNamePath())})),P(Aa(r),"getErrors",(function(){return r.errors})),P(Aa(r),"getWarnings",(function(){return r.warnings})),P(Aa(r),"isListField",(function(){return r.props.isListField})),P(Aa(r),"isList",(function(){return r.props.isList})),P(Aa(r),"isPreserve",(function(){return r.props.preserve})),P(Aa(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),P(Aa(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return Le(Le({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=w(e);return 1===n.length&&o.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),P(Aa(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return Xr(e||t(!0),n)})),P(Aa(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,a=t.trigger,o=t.validateTrigger,i=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==o?o:u.validateTrigger,f=r.getNamePath(),h=u.getInternalHooks,p=u.getFieldsValue,m=h(Zf).dispatch,g=r.getValue(),v=c||function(e){return P({},l,e)},y=e[a],b=void 0!==n?v(g):{};var w=Le(Le({},e),b);return w[a]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e=i?i.apply(void 0,n):Dh.apply(void 0,[l].concat(n)),s&&(e=s(e,g,p(!0))),m({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)},Qf(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&m({type:"validateField",namePath:f,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Zf).initEntityValue)(Aa(r));return r}return Ft(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Zf).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child;return r.isFunction?e=a:o.isValidElement(a)?e=o.cloneElement(a,this.getControlled(a.props)):(at(!a,"`children` of Field is not validate ReactElement."),e=a),o.createElement(o.Fragment,{key:t},e)}}]),n}(o.Component);P(Vh,"contextType",Jf),P(Vh,"defaultProps",{trigger:"onChange",valuePropName:"value"});const qh=function(e){var t=e.name,n=$(e,Hh),r=o.useContext(Jf),a=o.useContext(Yf),i=void 0!==t?Mh(t):void 0,s="keep";return n.isListField||(s="_".concat((i||[]).join("_"))),o.createElement(Vh,_({key:s,name:i,isListField:!!a},n,{fieldContext:r}))};const Kh=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,i=e.validateTrigger,s=e.isListField,l=o.useContext(Jf),c=o.useContext(Yf),u=o.useRef({keys:[],id:0}).current,f=o.useMemo((function(){var e=Mh(l.prefixName)||[];return[].concat(d(e),d(Mh(t)))}),[l.prefixName,t]),h=o.useMemo((function(){return Le(Le({},l),{},{prefixName:f})}),[l,f]),p=o.useMemo((function(){return{getKey:function(e){var t=f.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[f]);return"function"!==typeof r?(at(!1,"Form.List only accepts function as children."),null):o.createElement(Yf.Provider,{value:p},o.createElement(Jf.Provider,{value:h},o.createElement(qh,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:i,initialValue:n,isList:!0,isListField:null!==s&&void 0!==s?s:!!c},(function(e,t){var n=e.value,a=void 0===n?[]:n,o=e.onChange,i=l.getFieldValue,s=function(){return i(f||[])||[]},c={add:function(e,t){var n=s();t>=0&&t<=n.length?(u.keys=[].concat(d(u.keys.slice(0,t)),[u.id],d(u.keys.slice(t))),o([].concat(d(n.slice(0,t)),[e],d(n.slice(t))))):(u.keys=[].concat(d(u.keys),[u.id]),o([].concat(d(n),[e]))),u.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(u.keys=Bh(u.keys,e,t),o(Bh(n,e,t)))}}},h=a||[];return Array.isArray(h)||(h=[]),r(h.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),c,t)}))))};var Xh="__@field_split__";function Zh(e){return e.map((function(e){return"".concat(O(e),":").concat(e)})).join(Xh)}var Gh=function(){function e(){Mt(this,e),P(this,"kvs",new Map)}return Ft(e,[{key:"set",value:function(e,t){this.kvs.set(Zh(e),t)}},{key:"get",value:function(e){return this.kvs.get(Zh(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Zh(e))}},{key:"map",value:function(e){return d(this.kvs.entries()).map((function(t){var n=k(t,2),r=n[0],a=n[1],o=r.split(Xh);return e({key:o.map((function(e){var t=k(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:a})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const Jh=Gh;var Yh=["name"],Qh=Ft((function e(t){var n=this;Mt(this,e),P(this,"formHooked",!1),P(this,"forceRootUpdate",void 0),P(this,"subscribable",!0),P(this,"store",{}),P(this,"fieldEntities",[]),P(this,"initialValues",{}),P(this,"callbacks",{}),P(this,"validateMessages",null),P(this,"preserve",null),P(this,"lastValidatePromise",null),P(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),P(this,"getInternalHooks",(function(e){return e===Zf?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(at(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),P(this,"useSubscribe",(function(e){n.subscribable=e})),P(this,"prevWithoutPreserves",null),P(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,a=Qr(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;a=Gr(a,n,Xr(e,n))})),n.prevWithoutPreserves=null,n.updateStore(a)}})),P(this,"destroyForm",(function(){var e=new Jh;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e})),P(this,"getInitialValue",(function(e){var t=Xr(n.initialValues,e);return e.length?Qr(t):t})),P(this,"setCallbacks",(function(e){n.callbacks=e})),P(this,"setValidateMessages",(function(e){n.validateMessages=e})),P(this,"setPreserve",(function(e){n.preserve=e})),P(this,"watchList",[]),P(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),P(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),P(this,"timeoutId",null),P(this,"warningUnhooked",(function(){0})),P(this,"updateStore",(function(e){n.store=e})),P(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),P(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Jh;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),P(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Mh(e);return t.get(n)||{INVALIDATE_NAME_PATH:Mh(e)}}))})),P(this,"getFieldsValue",(function(e,t){var r,a,o;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,a=t):e&&"object"===O(e)&&(o=e.strict,a=e.filter),!0===r&&!a)return n.store;var i=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return i.forEach((function(e){var t,n,i,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(o){if(null!==(i=(l=e).isList)&&void 0!==i&&i.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(a){var u="getMeta"in e?e.getMeta():null;a(u)&&s.push(c)}else s.push(c)})),Lh(n.store,s.map(Mh))})),P(this,"getFieldValue",(function(e){n.warningUnhooked();var t=Mh(e);return Xr(n.store,t)})),P(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Mh(e[n]),errors:[],warnings:[]}}))})),P(this,"getFieldError",(function(e){n.warningUnhooked();var t=Mh(e);return n.getFieldsError([t])[0].errors})),P(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=Mh(e);return n.getFieldsError([t])[0].warnings})),P(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,o=t[0],i=t[1],s=!1;0===t.length?a=null:1===t.length?Array.isArray(o)?(a=o.map(Mh),s=!1):(a=null,s=o):(a=o.map(Mh),s=i);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!a)return s?l.every((function(e){return c(e)||e.isList()})):l.some(c);var u=new Jh;a.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();a.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(d(t),[e])}))}))}));var f=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return s?h.every(f):h.some(f)})),P(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),P(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Mh);return t.some((function(e){var t=e.getNamePath();return Fh(r,t)&&e.isFieldValidating()}))})),P(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),P(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Jh,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}}));var a;e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=a).push.apply(n,d(d(r).map((function(e){return e.entity}))))}))):a=r,a.forEach((function(r){if(void 0!==r.props.initialValue){var a=r.getNamePath();if(void 0!==n.getInitialValue(a))at(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var o=t.get(a);if(o&&o.size>1)at(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var i=n.getFieldValue(a);r.isListField()||e.skipExist&&void 0!==i||n.updateStore(Gr(n.store,a,d(o)[0].value))}}}}))})),P(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Qr(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Mh);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Gr(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),P(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var a=e.name,o=$(e,Yh),i=Mh(a);r.push(i),"value"in o&&n.updateStore(Gr(n.store,i,o.value)),n.notifyObservers(t,[i],{type:"setField",data:e})})),n.notifyWatch(r)})),P(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Le(Le({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),P(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Xr(n.store,r)&&n.updateStore(Gr(n.store,r,t))}})),P(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),P(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(a)&&(!r||o.length>1)){var i=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==i&&n.fieldEntities.every((function(e){return!zh(e.getNamePath(),t)}))){var s=n.store;n.updateStore(Gr(s,t,i,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}})),P(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,o=e.triggerName;n.validateFields([a],{triggerName:o})}})),P(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var a=Le(Le({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,a)}))}else n.forceRootUpdate()})),P(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(d(r))}),r})),P(this,"updateValue",(function(e,t){var r=Mh(e),a=n.store;n.updateStore(Gr(n.store,r,t)),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(a,r),i=n.callbacks.onValuesChange;i&&i(Lh(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(d(o)))})),P(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=Qr(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),P(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),P(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],a=new Jh;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Mh(t);a.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(a.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}}))}(e),r})),P(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var o=new Jh;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),a.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var i=a.filter((function(t){var n=t.name;return Fh(e,n)}));i.length&&r(i,a)}})),P(this,"validateFields",(function(e,t){var r,a;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,a=t):a=e;var o=!!r,i=o?r.map(Mh):[],s=[],l=String(Date.now()),c=new Set,u=a||{},f=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach((function(e){if(o||i.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!h||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!o||Fh(i,t,f)){var r=e.validateRules(Le({validateMessages:Le(Le({},Ch),n.validateMessages)},a));s.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],a=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?a.push.apply(a,d(n)):r.push.apply(r,d(n))})),r.length?Promise.reject({name:t,errors:r,warnings:a}):{name:t,errors:r,warnings:a}})))}}}));var p=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(a,o){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[i]=e,n>0||(t&&o(r),a(r))}))}))})):Promise.resolve([])}(s);n.lastValidatePromise=p,p.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var m=p.then((function(){return n.lastValidatePromise===p?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==p})}));m.catch((function(e){return e}));var g=i.filter((function(e){return c.has(e.join(l))}));return n.triggerOnFieldsChange(g),m})),P(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const ep=function(e){var t=o.useRef(),n=k(o.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new Qh((function(){n({})}));t.current=r.getForm()}return[t.current]};var tp=o.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const np=tp;var rp=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const ap=function(e,t){var n=e.name,r=e.initialValues,a=e.fields,i=e.form,s=e.preserve,l=e.children,c=e.component,u=void 0===c?"form":c,f=e.validateMessages,h=e.validateTrigger,p=void 0===h?"onChange":h,m=e.onValuesChange,g=e.onFieldsChange,v=e.onFinish,y=e.onFinishFailed,b=$(e,rp),w=o.useContext(np),x=k(ep(i),1)[0],E=x.getInternalHooks(Zf),S=E.useSubscribe,C=E.setInitialValues,P=E.setCallbacks,I=E.setValidateMessages,R=E.setPreserve,T=E.destroyForm;o.useImperativeHandle(t,(function(){return x})),o.useEffect((function(){return w.registerForm(n,x),function(){w.unregisterForm(n)}}),[w,x,n]),I(Le(Le({},w.validateMessages),f)),P({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(n,e),g){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];g.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:y}),R(s);var A,N=o.useRef(null);C(r,!N.current),N.current||(N.current=!0),o.useEffect((function(){return T}),[]);var j="function"===typeof l;j?A=l(x.getFieldsValue(!0),x):A=l;S(!j);var M=o.useRef();o.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==O(e)||"object"!==O(t))return!1;var n=Object.keys(e),r=Object.keys(t);return d(new Set([].concat(n,r))).every((function(n){var r=e[n],a=t[n];return"function"===typeof r&&"function"===typeof a||r===a}))})(M.current||[],a||[])||x.setFields(a||[]),M.current=a}),[a,x]);var L=o.useMemo((function(){return Le(Le({},x),{},{validateTrigger:p})}),[x,p]),F=o.createElement(Yf.Provider,{value:null},o.createElement(Jf.Provider,{value:L},A));return!1===u?F:o.createElement(u,_({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),F)};function op(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var ip=function(){};const sp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=void 0===a?{}:a,s=function(e){return e&&!!e._init}(i)?{form:i}:i,l=s.form,c=k((0,o.useState)(),2),u=c[0],d=c[1],f=(0,o.useMemo)((function(){return op(u)}),[u]),h=(0,o.useRef)(f);h.current=f;var p=(0,o.useContext)(Jf),m=l||p,g=m&&m._init,v=Mh(r),y=(0,o.useRef)(v);return y.current=v,ip(v),(0,o.useEffect)((function(){if(g){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(Zf).registerWatch,n=function(e,t){var n=s.preserve?t:e;return"function"===typeof r?r(n):Xr(n,y.current)},a=t((function(e,t){var r=n(e,t),a=op(r);h.current!==a&&(h.current=a,d(r))})),o=n(e(),e(!0));return u!==o&&d(o),a}}),[g]),u};var lp=o.forwardRef(ap);lp.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,i=o.useContext(tp),s=o.useRef({});return o.createElement(tp.Provider,{value:Le(Le({},i),{},{validateMessages:Le(Le({},i.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Le(Le({},s.current),{},P({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=Le({},s.current);delete t[e],s.current=t,i.unregisterForm(e)}})},a)},lp.Field=qh,lp.List=Kh,lp.useForm=ep,lp.useWatch=sp;const cp=o.createContext({});const up=e=>{let{children:t,status:n,override:r}=e;const a=(0,o.useContext)(cp),i=(0,o.useMemo)((()=>{const e=Object.assign({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return o.createElement(cp.Provider,{value:i},t)},dp=(0,o.createContext)(void 0),fp=["outlined","borderless","filled"],hp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=(0,o.useContext)(dp);let r;r="undefined"!==typeof e?e:!1===t?"borderless":null!==n&&void 0!==n?n:"outlined";return[r,fp.includes(r)]};const pp=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},mp=e=>({animationDuration:e,animationFillMode:"both"}),gp=e=>({animationDuration:e,animationFillMode:"both"}),vp=function(e,t,n,r){const a=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${a}${e}-enter,\n      ${a}${e}-appear\n    `]:Object.assign(Object.assign({},mp(r)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},gp(r)),{animationPlayState:"paused"}),[`\n      ${a}${e}-enter${e}-enter-active,\n      ${a}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},yp=new Mr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),bp=new Mr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),wp=new Mr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),_p=new Mr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),xp=new Mr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Ep=new Mr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Sp=new Mr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),kp=new Mr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Op={"slide-up":{inKeyframes:yp,outKeyframes:bp},"slide-down":{inKeyframes:wp,outKeyframes:_p},"slide-left":{inKeyframes:xp,outKeyframes:Ep},"slide-right":{inKeyframes:Sp,outKeyframes:kp}},Cp=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=Op[t];return[vp(r,a,o,e.motionDurationMid),{[`\n      ${r}-enter,\n      ${r}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},Pp=new Mr("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$p=new Mr("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Ip=new Mr("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Rp=new Mr("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Tp=new Mr("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ap=new Mr("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Np={"move-up":{inKeyframes:new Mr("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Mr("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:Pp,outKeyframes:$p},"move-left":{inKeyframes:Ip,outKeyframes:Rp},"move-right":{inKeyframes:Tp,outKeyframes:Ap}},jp=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=Np[t];return[vp(r,a,o,e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Mp=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:a}=e;return{position:"relative",display:"block",minHeight:t,padding:a,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Lp=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,a=`&${t}-slide-up-enter${t}-slide-up-enter-active`,o=`&${t}-slide-up-appear${t}-slide-up-appear-active`,i=`&${t}-slide-up-leave${t}-slide-up-leave-active`,s=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},ta(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${a}${s}bottomLeft,\n          ${o}${s}bottomLeft\n        `]:{animationName:yp},[`\n          ${a}${s}topLeft,\n          ${o}${s}topLeft,\n          ${a}${s}topRight,\n          ${o}${s}topRight\n        `]:{animationName:wp},[`${i}${s}bottomLeft`]:{animationName:bp},[`\n          ${i}${s}topLeft,\n          ${i}${s}topRight\n        `]:{animationName:_p},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},Mp(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},ea),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Mp(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Cp(e,"slide-up"),Cp(e,"slide-down"),jp(e,"move-up"),jp(e,"move-down")]},Fp=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:a,paddingXS:o,multipleItemColorDisabled:i,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=e,d=`${t}-selection-overflow`;return{[d]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${a}, line-height ${a}, height ${a}`,marginInlineEnd:e.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:e.calc(o).div(2).equal(),[`${t}-disabled&`]:{color:i,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},zp=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,a=`${n}-selection-overflow`,o=e.multipleSelectItemHeight,i=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()})(e),s=t?`${n}-${t}`:"",l=(e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:a}=e,o=e.max(e.calc(n).sub(r).equal(),0);return{basePadding:o,containerPadding:e.max(e.calc(o).sub(a).equal(),0),itemHeight:ln(t),itemLineHeight:ln(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}})(e);return{[`${n}-multiple${s}`]:Object.assign(Object.assign({},Fp(e)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${ln(r)} 0`,lineHeight:ln(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:ln(l.itemLineHeight)},[`${a}-item + ${a}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${a}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(i).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:e.fontFamily,lineHeight:ln(o),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Dp(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",a={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[zp(e,t),a]}const Bp=e=>{const{componentCls:t}=e,n=Ka(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=Ka(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Dp(e),Dp(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Dp(r,"lg")]};function Hp(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:a}=e,o=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),i=t?`${n}-${t}`:"";return{[`${n}-single${i}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},ta(e,!0)),{display:"flex",borderRadius:a,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{padding:0,lineHeight:ln(o),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${ln(r)}`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:ln(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${ln(r)}`,"&:after":{display:"none"}}}}}}}function Up(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Hp(e),Hp(Ka(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${ln(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Hp(Ka(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const Wp=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:a}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${ln(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${ln(a)} ${t.activeShadowColor}`,outline:0}}}},Vp=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Wp(e,t))}),qp=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},Wp(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),Vp(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),Vp(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${ln(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),Kp=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${ln(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Xp=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Kp(e,t))}),Zp=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Kp(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),Xp(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Xp(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${ln(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),Gp=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${ln(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}),Jp=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},qp(e)),Zp(e)),Gp(e))}),Yp=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Qp=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},em=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:a}=e;return{[n]:Object.assign(Object.assign({},ta(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Yp(e)),Qp(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},ea),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},ea),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[a]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-arrow:not(:last-child)`]:{opacity:0}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}},tm=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},em(e),Up(e),Bp(e),Lp(e),{[`${t}-rtl`]:{direction:"rtl"}},Zs(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},nm=to("Select",((e,t)=>{let{rootPrefixCls:n}=t;const r=Ka(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[tm(r),Jp(r)]}),(e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:a,controlHeightSM:o,controlHeightLG:i,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:h,colorBgContainer:p,colorFillSecondary:m,colorBgContainerDisabled:g,colorTextDisabled:v}=e,y=2*s,b=2*r,w=Math.min(a-y,a-b),_=Math.min(o-y,o-b),x=Math.min(i-y,i-b);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:h,optionPadding:`${(a-t*n)/2}px ${l}px`,optionFontSize:t,optionLineHeight:n,optionHeight:a,selectorBg:p,clearBg:p,singleItemHeightLG:i,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:w,multipleItemHeightSM:_,multipleItemHeightLG:x,multipleSelectorBgDisabled:g,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize)}}),{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const rm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var am=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:rm}))};const om=o.forwardRef(am);const im={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var sm=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:im}))};const lm=o.forwardRef(sm);const cm={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var um=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:cm}))};const dm=o.forwardRef(um);const fm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var hm=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:fm}))};const pm=o.forwardRef(hm);const mm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var gm=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:mm}))};const vm=o.forwardRef(gm);var ym=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const bm="SECRET_COMBOBOX_MODE_DO_NOT_USE",wm=(e,t)=>{var n;const{prefixCls:r,bordered:a,className:i,rootClassName:s,getPopupContainer:l,popupClassName:c,dropdownClassName:u,listHeight:d=256,placement:f,listItemHeight:m,size:v,disabled:y,notFoundContent:b,status:w,builtinPlacements:_,dropdownMatchSelectWidth:x,popupMatchSelectWidth:E,direction:S,style:k,allowClear:O,variant:C,dropdownStyle:P,transitionName:$,tagRender:I,maxCount:R}=e,T=ym(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:A,getPrefixCls:N,renderEmpty:j,direction:M,virtual:L,popupMatchSelectWidth:F,popupOverflow:z,select:D}=o.useContext(g),[,B]=Ia(),H=null!==m&&void 0!==m?m:null===B||void 0===B?void 0:B.controlHeight,U=N("select",r),W=N(),V=null!==S&&void 0!==S?S:M,{compactSize:q,compactItemClassnames:K}=ns(U,V),[X,Z]=hp(C,a),G=Xf(U),[J,Y,Q]=nm(U,G),ee=o.useMemo((()=>{const{mode:t}=e;if("combobox"!==t)return t===bm?"combobox":t}),[e.mode]),te="multiple"===ee||"tags"===ee,ne=function(e,t){return void 0!==t?t:null!==e}(e.suffixIcon,e.showArrow),re=null!==(n=null!==E&&void 0!==E?E:x)&&void 0!==n?n:F,{status:ae,hasFeedback:oe,isFormItemInput:ie,feedbackIcon:se}=o.useContext(cp),le=Mf(ae,w);let ce;ce=void 0!==b?b:"combobox"===ee?null:(null===j||void 0===j?void 0:j("Select"))||o.createElement(Kf,{componentName:"Select"});const{suffixIcon:ue,itemIcon:de,removeIcon:fe,clearIcon:he}=function(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:a,loading:i,multiple:s,hasFeedback:l,prefixCls:c,showSuffixIcon:u,feedbackIcon:d,showArrow:f,componentName:h}=e;const p=null!==n&&void 0!==n?n:o.createElement(lm,null),m=e=>null!==t||l||f?o.createElement(o.Fragment,null,!1!==u&&e,l&&d):null;let g=null;if(void 0!==t)g=m(t);else if(i)g=m(o.createElement(vs,{spin:!0}));else{const e=`${c}-suffix`;g=t=>{let{open:n,showSearch:r}=t;return m(n&&r?o.createElement(vm,{className:e}):o.createElement(pm,{className:e}))}}let v=null;v=void 0!==r?r:s?o.createElement(om,null):null;let y=null;return y=void 0!==a?a:o.createElement(dm,null),{clearIcon:p,suffixIcon:g,itemIcon:v,removeIcon:y}}(Object.assign(Object.assign({},T),{multiple:te,hasFeedback:oe,feedbackIcon:se,showSuffixIcon:ne,prefixCls:U,componentName:"Select"})),pe=!0===O?{clearIcon:he}:O,me=p(T,["suffixIcon","itemIcon"]),ge=h()(c||u,{[`${U}-dropdown-${V}`]:"rtl"===V},s,Q,G,Y),ve=es((e=>{var t;return null!==(t=null!==v&&void 0!==v?v:q)&&void 0!==t?t:e})),ye=o.useContext(Gi),be=null!==y&&void 0!==y?y:ye,we=h()({[`${U}-lg`]:"large"===ve,[`${U}-sm`]:"small"===ve,[`${U}-rtl`]:"rtl"===V,[`${U}-${X}`]:Z,[`${U}-in-form-item`]:ie},jf(U,le,oe),K,null===D||void 0===D?void 0:D.className,i,s,Q,G,Y),_e=o.useMemo((()=>void 0!==f?f:"rtl"===V?"bottomRight":"bottomLeft"),[f,V]);const[xe]=Yd("SelectLike",null===P||void 0===P?void 0:P.zIndex);return J(o.createElement(Kd,Object.assign({ref:t,virtual:L,showSearch:null===D||void 0===D?void 0:D.showSearch},me,{style:Object.assign(Object.assign({},null===D||void 0===D?void 0:D.style),k),dropdownMatchSelectWidth:re,transitionName:Qd(W,"slide-up",$),builtinPlacements:pp(_,z),listHeight:d,listItemHeight:H,mode:ee,prefixCls:U,placement:_e,direction:V,suffixIcon:ue,menuItemSelectedIcon:de,removeIcon:fe,allowClear:pe,notFoundContent:ce,className:we,getPopupContainer:l||A,dropdownClassName:ge,disabled:be,dropdownStyle:Object.assign(Object.assign({},P),{zIndex:xe}),maxCount:te?R:void 0,tagRender:te?I:void 0})))};const _m=o.forwardRef(wm),xm=Nf(_m);_m.SECRET_COMBOBOX_MODE_DO_NOT_USE=bm,_m.Option=sd,_m.OptGroup=od,_m._InternalPanelDoNotUseOrYouWillBeFired=xm;const Em=_m;function Sm(e){return Ka(e,{inputAffixPadding:e.paddingXXS})}const km=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:i,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,colorPrimary:p,controlOutlineWidth:m,controlOutline:g,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-a,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-a,0),paddingBlockLG:Math.ceil((i-s*l)/2*10)/10-a,paddingInline:c-a,paddingInlineSM:u-a,paddingInlineLG:d-a,addonBg:f,activeBorderColor:p,hoverBorderColor:h,activeShadow:`0 0 0 ${m}px ${g}`,errorActiveShadow:`0 0 0 ${m}px ${v}`,warningActiveShadow:`0 0 0 ${m}px ${y}`,hoverBg:b,activeBg:b,inputFontSize:n,inputFontSizeLG:s,inputFontSizeSM:n}},Om=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),Cm=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Om(Ka(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Pm=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),$m=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Pm(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Im=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pm(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Cm(e))}),$m(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),$m(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),Rm=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),Tm=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Rm(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),Rm(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},Cm(e))}})}),Am=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled}},t)}),Nm=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),jm=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Nm(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Mm=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nm(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Cm(e))}),jm(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),jm(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),Lm=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),Fm=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${ln(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${ln(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},Lm(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),Lm(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${ln(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),zm=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:a}=e;return{padding:`${ln(t)} ${ln(a)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},Dm=e=>({padding:`${ln(e.paddingBlockSM)} ${ln(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),Bm=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${ln(e.paddingBlock)} ${ln(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},(e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}))(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},zm(e)),"&-sm":Object.assign({},Dm(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),Hm=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},zm(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},Dm(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${ln(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${ln(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${ln(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${ln(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px ${ln(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[`${t}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},Um=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:a}=e,o=a(n).sub(a(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ta(e)),Bm(e)),Im(e)),Mm(e)),Am(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Wm=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${ln(e.inputAffixPadding)}`}}}},Vm=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:i,iconCls:s}=e,l=`${t}-affix-wrapper`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},Bm(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Wm(e)),{[`${s}${t}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:i}}})}},qm=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},ta(e)),Hm(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},Tm(e)),Fm(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},Km=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},Xm=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${r}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},Zm=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},Gm=to("Input",(e=>{const t=Ka(e,Sm(e));return[Um(t),Xm(t),Vm(t),qm(t),Km(t),Zm(t),Zs(t)]}),km,{resetFont:!1}),Jm=e=>{const{getPrefixCls:t,direction:n}=(0,o.useContext)(g),{prefixCls:r,className:a}=e,i=t("input-group",r),s=t("input"),[l,c]=Gm(s),u=h()(i,{[`${i}-lg`]:"large"===e.size,[`${i}-sm`]:"small"===e.size,[`${i}-compact`]:e.compact,[`${i}-rtl`]:"rtl"===n},c,a),d=(0,o.useContext)(cp),f=(0,o.useMemo)((()=>Object.assign(Object.assign({},d),{isFormItemInput:!1})),[d]);return l(o.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(cp.Provider,{value:f},e.children)))};function Ym(e,t,n){var r=t.cloneNode(!0),a=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),a}function Qm(e,t,n,r){if(n){var a=t;"click"!==t.type?"file"===e.type||void 0===r?n(a):n(a=Ym(t,e,r)):n(a=Ym(t,e,""))}}const eg=function(e){var t,n,r=e.inputElement,a=e.children,i=e.prefixCls,s=e.prefix,l=e.suffix,c=e.addonBefore,u=e.addonAfter,d=e.className,f=e.style,p=e.disabled,m=e.readOnly,g=e.focused,v=e.triggerFocus,y=e.allowClear,b=e.value,w=e.handleReset,x=e.hidden,E=e.classes,S=e.classNames,k=e.dataAttrs,C=e.styles,$=e.components,I=null!==a&&void 0!==a?a:r,R=(null===$||void 0===$?void 0:$.affixWrapper)||"span",T=(null===$||void 0===$?void 0:$.groupWrapper)||"span",A=(null===$||void 0===$?void 0:$.wrapper)||"span",N=(null===$||void 0===$?void 0:$.groupAddon)||"span",j=(0,o.useRef)(null),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),L=(0,o.cloneElement)(I,{value:b,className:h()(I.props.className,!M&&(null===S||void 0===S?void 0:S.variant))||null});if(M){var F,z=null;if(y){var D,B=!p&&!m&&b,H="".concat(i,"-clear-icon"),U="object"===O(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";z=o.createElement("span",{onClick:w,onMouseDown:function(e){return e.preventDefault()},className:h()(H,(D={},P(D,"".concat(H,"-hidden"),!B),P(D,"".concat(H,"-has-suffix"),!!l),D)),role:"button",tabIndex:-1},U)}var W="".concat(i,"-affix-wrapper"),V=h()(W,(P(F={},"".concat(i,"-disabled"),p),P(F,"".concat(W,"-disabled"),p),P(F,"".concat(W,"-focused"),g),P(F,"".concat(W,"-readonly"),m),P(F,"".concat(W,"-input-with-clear-btn"),l&&y&&b),F),null===E||void 0===E?void 0:E.affixWrapper,null===S||void 0===S?void 0:S.affixWrapper,null===S||void 0===S?void 0:S.variant),q=(l||y)&&o.createElement("span",{className:h()("".concat(i,"-suffix"),null===S||void 0===S?void 0:S.suffix),style:null===C||void 0===C?void 0:C.suffix},z,l);L=o.createElement(R,_({className:V,style:null===C||void 0===C?void 0:C.affixWrapper,onClick:function(e){var t;null!==(t=j.current)&&void 0!==t&&t.contains(e.target)&&(null===v||void 0===v||v())}},null===k||void 0===k?void 0:k.affixWrapper,{ref:j}),s&&o.createElement("span",{className:h()("".concat(i,"-prefix"),null===S||void 0===S?void 0:S.prefix),style:null===C||void 0===C?void 0:C.prefix},s),L,q)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var K="".concat(i,"-group"),X="".concat(K,"-addon"),Z="".concat(K,"-wrapper"),G=h()("".concat(i,"-wrapper"),K,null===E||void 0===E?void 0:E.wrapper,null===S||void 0===S?void 0:S.wrapper),J=h()(Z,P({},"".concat(Z,"-disabled"),p),null===E||void 0===E?void 0:E.group,null===S||void 0===S?void 0:S.groupWrapper);L=o.createElement(T,{className:J},o.createElement(A,{className:G},c&&o.createElement(N,{className:X},c),L,u&&o.createElement(N,{className:X},u)))}return o.cloneElement(L,{className:h()(null===(t=L.props)||void 0===t?void 0:t.className,d)||null,style:Le(Le({},null===(n=L.props)||void 0===n?void 0:n.style),f),hidden:x})};var tg=["show"];function ng(e,t){return o.useMemo((function(){var n={};t&&(n.show="object"===O(t)&&t.formatter?t.formatter:!!t);var r=n=Le(Le({},n),e),a=r.show,o=$(r,tg);return Le(Le({},o),{},{show:!!a,showFormatter:"function"===typeof a?a:void 0,strategy:o.strategy||function(e){return e.length}})}),[e,t])}var rg=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],ag=(0,o.forwardRef)((function(e,t){var n=e.autoComplete,r=e.onChange,a=e.onFocus,i=e.onBlur,s=e.onPressEnter,l=e.onKeyDown,c=e.prefixCls,u=void 0===c?"rc-input":c,f=e.disabled,m=e.htmlSize,g=e.className,v=e.maxLength,y=e.suffix,b=e.showCount,w=e.count,x=e.type,E=void 0===x?"text":x,S=e.classes,O=e.classNames,C=e.styles,I=e.onCompositionStart,R=e.onCompositionEnd,T=$(e,rg),A=k((0,o.useState)(!1),2),N=A[0],j=A[1],M=(0,o.useRef)(!1),L=(0,o.useRef)(null),F=function(e){L.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(L.current,e)},z=k(Br(e.defaultValue,{value:e.value}),2),D=z[0],B=z[1],H=void 0===D||null===D?"":String(D),U=k((0,o.useState)(null),2),W=U[0],V=U[1],q=ng(w,b),K=q.max||v,X=q.strategy(H),Z=!!K&&X>K;(0,o.useImperativeHandle)(t,(function(){return{focus:F,blur:function(){var e;null===(e=L.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=L.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=L.current)||void 0===e||e.select()},input:L.current}})),(0,o.useEffect)((function(){j((function(e){return(!e||!f)&&e}))}),[f]);var G=function(e,t,n){var a,o,i=t;if(!M.current&&q.exceedFormatter&&q.max&&q.strategy(t)>q.max)t!==(i=q.exceedFormatter(t,{max:q.max}))&&V([(null===(a=L.current)||void 0===a?void 0:a.selectionStart)||0,(null===(o=L.current)||void 0===o?void 0:o.selectionEnd)||0]);else if("compositionEnd"===n.source)return;B(i),L.current&&Qm(L.current,e,r,i)};(0,o.useEffect)((function(){var e;W&&(null===(e=L.current)||void 0===e||e.setSelectionRange.apply(e,d(W)))}),[W]);var J=function(e){G(e,e.target.value,{source:"change"})},Y=function(e){M.current=!1,G(e,e.currentTarget.value,{source:"compositionEnd"}),null===R||void 0===R||R(e)},Q=function(e){s&&"Enter"===e.key&&s(e),null===l||void 0===l||l(e)},ee=function(e){j(!0),null===a||void 0===a||a(e)},te=function(e){j(!1),null===i||void 0===i||i(e)},ne=Z&&"".concat(u,"-out-of-range");return o.createElement(eg,_({},T,{prefixCls:u,className:h()(g,ne),handleReset:function(e){B(""),F(),L.current&&Qm(L.current,e,r)},value:H,focused:N,triggerFocus:F,suffix:function(){var e=Number(K)>0;if(y||q.show){var t=q.showFormatter?q.showFormatter({value:H,count:X,maxLength:K}):"".concat(X).concat(e?" / ".concat(K):"");return o.createElement(o.Fragment,null,q.show&&o.createElement("span",{className:h()("".concat(u,"-show-count-suffix"),P({},"".concat(u,"-show-count-has-suffix"),!!y),null===O||void 0===O?void 0:O.count),style:Le({},null===C||void 0===C?void 0:C.count)},t),y)}return null}(),disabled:f,classes:S,classNames:O,styles:C}),function(){var t=p(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return o.createElement("input",_({autoComplete:n},t,{onChange:J,onFocus:ee,onBlur:te,onKeyDown:Q,className:h()(u,P({},"".concat(u,"-disabled"),f),null===O||void 0===O?void 0:O.input),style:null===C||void 0===C?void 0:C.input,ref:L,size:m,type:E,onCompositionStart:function(e){M.current=!0,null===I||void 0===I||I(e)},onCompositionEnd:Y}))}())}));const og=ag,ig=e=>{let t;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?t=e:e&&(t={clearIcon:o.createElement(lm,null)}),t};function sg(e,t){const n=(0,o.useRef)([]),r=()=>{n.current.push(setTimeout((()=>{var t,n,r,a;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(a=e.current)||void 0===a||a.input.removeAttribute("value"))})))};return(0,o.useEffect)((()=>(t&&r(),()=>n.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}var lg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const cg=(0,o.forwardRef)(((e,t)=>{var n;const{prefixCls:r,bordered:a=!0,status:i,size:s,disabled:l,onBlur:c,onFocus:u,suffix:d,allowClear:f,addonAfter:p,addonBefore:m,className:v,style:y,styles:b,rootClassName:w,onChange:_,classNames:x,variant:E}=e,S=lg(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:k,direction:O,input:C}=o.useContext(g),P=k("input",r),$=(0,o.useRef)(null),I=Xf(P),[R,T,A]=Gm(P,I),{compactSize:N,compactItemClassnames:j}=ns(P,O),M=es((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:N)&&void 0!==t?t:e})),L=o.useContext(Gi),F=null!==l&&void 0!==l?l:L,{status:z,hasFeedback:D,feedbackIcon:B}=(0,o.useContext)(cp),H=Mf(z,i),U=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!D;(0,o.useRef)(U);const W=sg($,!0),V=(D||d)&&o.createElement(o.Fragment,null,d,D&&B),q=ig(null!==f&&void 0!==f?f:null===C||void 0===C?void 0:C.allowClear),[K,X]=hp(E,a);return R(o.createElement(og,Object.assign({ref:Ur(t,$),prefixCls:P,autoComplete:null===C||void 0===C?void 0:C.autoComplete},S,{disabled:F,onBlur:e=>{W(),null===c||void 0===c||c(e)},onFocus:e=>{W(),null===u||void 0===u||u(e)},style:Object.assign(Object.assign({},null===C||void 0===C?void 0:C.style),y),styles:Object.assign(Object.assign({},null===C||void 0===C?void 0:C.styles),b),suffix:V,allowClear:q,className:h()(v,w,A,I,j,null===C||void 0===C?void 0:C.className),onChange:e=>{W(),null===_||void 0===_||_(e)},addonAfter:p&&o.createElement(rs,null,o.createElement(up,{override:!0,status:!0},p)),addonBefore:m&&o.createElement(rs,null,o.createElement(up,{override:!0,status:!0},m)),classNames:Object.assign(Object.assign(Object.assign({},x),null===C||void 0===C?void 0:C.classNames),{input:h()({[`${P}-sm`]:"small"===M,[`${P}-lg`]:"large"===M,[`${P}-rtl`]:"rtl"===O},null===x||void 0===x?void 0:x.input,null===(n=null===C||void 0===C?void 0:C.classNames)||void 0===n?void 0:n.input,T),variant:h()({[`${P}-${K}`]:X},jf(P,H)),affixWrapper:h()({[`${P}-affix-wrapper-sm`]:"small"===M,[`${P}-affix-wrapper-lg`]:"large"===M,[`${P}-affix-wrapper-rtl`]:"rtl"===O},T),wrapper:h()({[`${P}-group-rtl`]:"rtl"===O},T),groupWrapper:h()({[`${P}-group-wrapper-sm`]:"small"===M,[`${P}-group-wrapper-lg`]:"large"===M,[`${P}-group-wrapper-rtl`]:"rtl"===O,[`${P}-group-wrapper-${K}`]:X},jf(`${P}-group-wrapper`,H,D),T)})})))}));const ug=cg,dg=e=>{const{componentCls:t,paddingXS:n}=e;return{[`${t}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},fg=to(["Input","OTP"],(e=>{const t=Ka(e,Sm(e));return[dg(t)]}),km);var hg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const pg=o.forwardRef(((e,t)=>{const{value:n,onChange:r,onActiveChange:a,index:i}=e,s=hg(e,["value","onChange","onActiveChange","index"]),l=o.useRef(null);o.useImperativeHandle(t,(()=>l.current));const c=()=>{Po((()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return o.createElement(ug,Object.assign({},s,{ref:l,value:n,onInput:e=>{r(i,e.target.value)},onFocus:c,onKeyDown:e=>{let{key:t}=e;"ArrowLeft"===t?a(i-1):"ArrowRight"===t&&a(i+1),c()},onKeyUp:e=>{"Backspace"!==e.key||n||a(i-1),c()},onMouseDown:c,onMouseUp:c}))})),mg=pg;var gg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function vg(e){return(e||"").split("")}const yg=o.forwardRef(((e,t)=>{const{prefixCls:n,length:r=6,size:a,defaultValue:i,value:s,onChange:l,formatter:c,variant:u,disabled:f,status:p,autoFocus:m}=e,v=gg(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus"]),{getPrefixCls:y,direction:b}=o.useContext(g),w=y("otp",n),_=Gl(v,{aria:!0,data:!0,attr:!0}),x=Xf(w),[E,S,k]=fg(w,x),O=es((e=>null!==a&&void 0!==a?a:e)),C=o.useContext(cp),P=Mf(C.status,p),$=o.useMemo((()=>Object.assign(Object.assign({},C),{status:P,hasFeedback:!1,feedbackIcon:null})),[C,P]),I=o.useRef(null),R=o.useRef({});o.useImperativeHandle(t,(()=>({focus:()=>{var e;null===(e=R.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<r;t+=1)null===(e=R.current[t])||void 0===e||e.blur()},nativeElement:I.current})));const T=e=>c?c(e):e,[A,N]=o.useState(vg(T(i||"")));o.useEffect((()=>{void 0!==s&&N(vg(s))}),[s]);const j=Fr((e=>{N(e),l&&e.length===r&&e.every((e=>e))&&e.some(((e,t)=>A[t]!==e))&&l(e.join(""))})),M=Fr(((e,t)=>{let n=d(A);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(vg(t)),n=n.slice(0,r);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const a=T(n.map((e=>e||" ")).join(""));return n=vg(a).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),L=(e,t)=>{var n;const a=M(e,t),o=Math.min(e+t.length,r-1);o!==e&&(null===(n=R.current[o])||void 0===n||n.focus()),j(a)},F=e=>{var t;null===(t=R.current[e])||void 0===t||t.focus()},z={variant:u,disabled:f,status:P};return E(o.createElement("div",Object.assign({},_,{ref:I,className:h()(w,{[`${w}-sm`]:"small"===O,[`${w}-lg`]:"large"===O,[`${w}-rtl`]:"rtl"===b},k,S)}),o.createElement(cp.Provider,{value:$},new Array(r).fill(0).map(((e,t)=>{const n=`otp-${t}`,r=A[t]||"";return o.createElement(mg,Object.assign({ref:e=>{R.current[t]=e},key:n,index:t,size:O,htmlSize:1,className:`${w}-input`,onChange:L,value:r,onActiveChange:F,autoFocus:0===t&&m},z))})))))})),bg=yg;const wg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var _g=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:wg}))};const xg=o.forwardRef(_g);const Eg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Sg=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Eg}))};const kg=o.forwardRef(Sg);var Og=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Cg=e=>e?o.createElement(kg,null):o.createElement(xg,null),Pg={click:"onClick",hover:"onMouseOver"},$g=o.forwardRef(((e,t)=>{const{visibilityToggle:n=!0}=e,r="object"===typeof n&&void 0!==n.visible,[a,i]=(0,o.useState)((()=>!!r&&n.visible)),s=(0,o.useRef)(null);o.useEffect((()=>{r&&i(n.visible)}),[r,n]);const l=sg(s),c=()=>{const{disabled:t}=e;t||(a&&l(),i((e=>{var t;const r=!e;return"object"===typeof n&&(null===(t=n.onVisibleChange)||void 0===t||t.call(n,r)),r})))},{className:u,prefixCls:d,inputPrefixCls:f,size:m}=e,v=Og(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:y}=o.useContext(g),b=y("input",f),w=y("input-password",d),_=n&&(t=>{const{action:n="click",iconRender:r=Cg}=e,i=Pg[n]||"",s=r(a),l={[i]:c,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return o.cloneElement(o.isValidElement(s)?s:o.createElement("span",null,s),l)})(w),x=h()(w,u,{[`${w}-${m}`]:!!m}),E=Object.assign(Object.assign({},p(v,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:x,prefixCls:b,suffix:_});return m&&(E.size=m),o.createElement(ug,Object.assign({ref:Ur(t,s)},E))}));const Ig=$g;var Rg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Tg=o.forwardRef(((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:a,size:i,suffix:s,enterButton:l=!1,addonAfter:c,loading:u,disabled:d,onSearch:f,onChange:p,onCompositionStart:m,onCompositionEnd:v}=e,y=Rg(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:w}=o.useContext(g),_=o.useRef(!1),x=b("input-search",n),E=b("input",r),{compactSize:S}=ns(x,w),k=es((e=>{var t;return null!==(t=null!==i&&void 0!==i?i:S)&&void 0!==t?t:e})),O=o.useRef(null),C=e=>{var t;document.activeElement===(null===(t=O.current)||void 0===t?void 0:t.input)&&e.preventDefault()},P=e=>{var t,n;f&&f(null===(n=null===(t=O.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},$="boolean"===typeof l?o.createElement(vm,null):null,I=`${x}-button`;let R;const T=l||{},A=T.type&&!0===T.type.__ANT_BUTTON;R=A||"button"===T.type?bo(T,Object.assign({onMouseDown:C,onClick:e=>{var t,n;null===(n=null===(t=null===T||void 0===T?void 0:T.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),P(e)},key:"enterButton"},A?{className:I,size:k}:{})):o.createElement(rl,{className:I,type:l?"primary":void 0,size:k,disabled:d,key:"enterButton",onMouseDown:C,onClick:P,loading:u,icon:$},l),c&&(R=[R,bo(c,{key:"addonAfter"})]);const N=h()(x,{[`${x}-rtl`]:"rtl"===w,[`${x}-${k}`]:!!k,[`${x}-with-button`]:!!l},a);return o.createElement(ug,Object.assign({ref:Ur(O,t),onPressEnter:e=>{_.current||u||P(e)}},y,{size:k,onCompositionStart:e=>{_.current=!0,null===m||void 0===m||m(e)},onCompositionEnd:e=>{_.current=!1,null===v||void 0===v||v(e)},prefixCls:E,addonAfter:R,suffix:s,onChange:e=>{e&&e.target&&"click"===e.type&&f&&f(e.target.value,e,{source:"clear"}),p&&p(e)},className:N,disabled:d}))}));const Ag=Tg;var Ng,jg=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Mg={};function Lg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ng||((Ng=document.createElement("textarea")).setAttribute("tab-index","-1"),Ng.setAttribute("aria-hidden","true"),document.body.appendChild(Ng)),e.getAttribute("wrap")?Ng.setAttribute("wrap",e.getAttribute("wrap")):Ng.removeAttribute("wrap");var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Mg[n])return Mg[n];var r=window.getComputedStyle(e),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),i=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:jg.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),paddingSize:o,borderSize:i,boxSizing:a};return t&&n&&(Mg[n]=s),s}(e,t),o=a.paddingSize,i=a.borderSize,s=a.boxSizing,l=a.sizingStyle;Ng.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),Ng.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,f=Ng.scrollHeight;if("border-box"===s?f+=i:"content-box"===s&&(f-=o),null!==n||null!==r){Ng.value=" ";var h=Ng.scrollHeight-o;null!==n&&(u=h*n,"border-box"===s&&(u=u+o+i),f=Math.max(u,f)),null!==r&&(d=h*r,"border-box"===s&&(d=d+o+i),c=f>d?"":"hidden",f=Math.min(d,f))}var p={height:f,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var Fg=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],zg=o.forwardRef((function(e,t){var n=e,r=n.prefixCls,a=(n.onPressEnter,n.defaultValue),i=n.value,s=n.autoSize,l=n.onResize,c=n.className,u=n.style,d=n.disabled,f=n.onChange,p=(n.onInternalAutoSize,$(n,Fg)),m=k(Br(a,{value:i,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),g=m[0],v=m[1],y=o.useRef();o.useImperativeHandle(t,(function(){return{textArea:y.current}}));var b=k(o.useMemo((function(){return s&&"object"===O(s)?[s.minRows,s.maxRows]:[]}),[s]),2),w=b[0],x=b[1],E=!!s,S=k(o.useState(2),2),C=S[0],I=S[1],R=k(o.useState(),2),T=R[0],A=R[1],N=function(){I(0)};gn((function(){E&&N()}),[i,w,x,E]),gn((function(){if(0===C)I(1);else if(1===C){var e=Lg(y.current,!1,w,x);I(2),A(e)}else!function(){try{if(document.activeElement===y.current){var e=y.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;y.current.setSelectionRange(t,n),y.current.scrollTop=r}}catch(KM){}}()}),[C]);var j=o.useRef(),M=function(){Po.cancel(j.current)};o.useEffect((function(){return M}),[]);var L=E?T:null,F=Le(Le({},u),L);return 0!==C&&1!==C||(F.overflowY="hidden",F.overflowX="hidden"),o.createElement(Cc,{onResize:function(e){2===C&&(null===l||void 0===l||l(e),s&&(M(),j.current=Po((function(){N()}))))},disabled:!(s||l)},o.createElement("textarea",_({},p,{ref:y,style:F,className:h()(r,c,P({},"".concat(r,"-disabled"),d)),disabled:d,value:g,onChange:function(e){v(e.target.value),null===f||void 0===f||f(e)}})))}));const Dg=zg;var Bg=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],Hg=o.forwardRef((function(e,t){var n,r,a=e.defaultValue,i=e.value,s=e.onFocus,l=e.onBlur,c=e.onChange,u=e.allowClear,f=e.maxLength,p=e.onCompositionStart,m=e.onCompositionEnd,g=e.suffix,v=e.prefixCls,y=void 0===v?"rc-textarea":v,b=e.showCount,w=e.count,x=e.className,E=e.style,S=e.disabled,O=e.hidden,C=e.classNames,I=e.styles,R=e.onResize,T=$(e,Bg),A=k(Br(a,{value:i,defaultValue:a}),2),N=A[0],j=A[1],M=void 0===N||null===N?"":String(N),L=k(o.useState(!1),2),F=L[0],z=L[1],D=o.useRef(!1),B=k(o.useState(null),2),H=B[0],U=B[1],W=(0,o.useRef)(null),V=function(){var e;return null===(e=W.current)||void 0===e?void 0:e.textArea},q=function(){V().focus()};(0,o.useImperativeHandle)(t,(function(){return{resizableTextArea:W.current,focus:q,blur:function(){V().blur()}}})),(0,o.useEffect)((function(){z((function(e){return!S&&e}))}),[S]);var K=k(o.useState(null),2),X=K[0],Z=K[1];o.useEffect((function(){var e;X&&(e=V()).setSelectionRange.apply(e,d(X))}),[X]);var G,J=ng(w,b),Y=null!==(n=J.max)&&void 0!==n?n:f,Q=Number(Y)>0,ee=J.strategy(M),te=!!Y&&ee>Y,ne=function(e,t){var n=t;!D.current&&J.exceedFormatter&&J.max&&J.strategy(t)>J.max&&t!==(n=J.exceedFormatter(t,{max:J.max}))&&Z([V().selectionStart||0,V().selectionEnd||0]),j(n),Qm(e.currentTarget,e,c,n)},re=g;J.show&&(G=J.showFormatter?J.showFormatter({value:M,count:ee,maxLength:Y}):"".concat(ee).concat(Q?" / ".concat(Y):""),re=o.createElement(o.Fragment,null,re,o.createElement("span",{className:h()("".concat(y,"-data-count"),null===C||void 0===C?void 0:C.count),style:null===I||void 0===I?void 0:I.count},G)));var ae=!T.autoSize&&!b&&!u;return o.createElement(eg,{value:M,allowClear:u,handleReset:function(e){j(""),q(),Qm(V(),e,c)},suffix:re,prefixCls:y,classNames:Le(Le({},C),{},{affixWrapper:h()(null===C||void 0===C?void 0:C.affixWrapper,(r={},P(r,"".concat(y,"-show-count"),b),P(r,"".concat(y,"-textarea-allow-clear"),u),r))}),disabled:S,focused:F,className:h()(x,te&&"".concat(y,"-out-of-range")),style:Le(Le({},E),H&&!ae?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof G?G:void 0}},hidden:O},o.createElement(Dg,_({},T,{maxLength:f,onKeyDown:function(e){var t=T.onPressEnter,n=T.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){ne(e,e.target.value)},onFocus:function(e){z(!0),null===s||void 0===s||s(e)},onBlur:function(e){z(!1),null===l||void 0===l||l(e)},onCompositionStart:function(e){D.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:function(e){D.current=!1,ne(e,e.currentTarget.value),null===m||void 0===m||m(e)},className:h()(null===C||void 0===C?void 0:C.textarea),style:Le(Le({},null===I||void 0===I?void 0:I.textarea),{},{resize:null===E||void 0===E?void 0:E.resize}),disabled:S,prefixCls:y,onResize:function(e){var t;null===R||void 0===R||R(e),null!==(t=V())&&void 0!==t&&t.style.height&&U(!0)},ref:W})))}));const Ug=Hg;var Wg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Vg=(0,o.forwardRef)(((e,t)=>{var n,r;const{prefixCls:a,bordered:i=!0,size:s,disabled:l,status:c,allowClear:u,classNames:d,rootClassName:f,className:p,style:m,styles:v,variant:y}=e,b=Wg(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:w,direction:_,textArea:x}=o.useContext(g),E=es(s),S=o.useContext(Gi),k=null!==l&&void 0!==l?l:S,{status:O,hasFeedback:C,feedbackIcon:P}=o.useContext(cp),$=Mf(O,c),I=o.useRef(null);o.useImperativeHandle(t,(()=>{var e;return{resizableTextArea:null===(e=I.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;!function(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}(null===(n=null===(t=I.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.blur()}}}));const R=w("input",a),T=Xf(R),[A,N,j]=Gm(R,T),[M,L]=hp(y,i),F=ig(null!==u&&void 0!==u?u:null===x||void 0===x?void 0:x.allowClear);return A(o.createElement(Ug,Object.assign({autoComplete:null===x||void 0===x?void 0:x.autoComplete},b,{style:Object.assign(Object.assign({},null===x||void 0===x?void 0:x.style),m),styles:Object.assign(Object.assign({},null===x||void 0===x?void 0:x.styles),v),disabled:k,allowClear:F,className:h()(j,T,p,f,null===x||void 0===x?void 0:x.className),classNames:Object.assign(Object.assign(Object.assign({},d),null===x||void 0===x?void 0:x.classNames),{textarea:h()({[`${R}-sm`]:"small"===E,[`${R}-lg`]:"large"===E},N,null===d||void 0===d?void 0:d.textarea,null===(n=null===x||void 0===x?void 0:x.classNames)||void 0===n?void 0:n.textarea),variant:h()({[`${R}-${M}`]:L},jf(R,$)),affixWrapper:h()(`${R}-textarea-affix-wrapper`,{[`${R}-affix-wrapper-rtl`]:"rtl"===_,[`${R}-affix-wrapper-sm`]:"small"===E,[`${R}-affix-wrapper-lg`]:"large"===E,[`${R}-textarea-show-count`]:e.showCount||(null===(r=e.count)||void 0===r?void 0:r.show)},N)}),prefixCls:R,suffix:C&&o.createElement("span",{className:`${R}-textarea-suffix`},P),ref:I})))})),qg=Vg,Kg=ug;Kg.Group=Jm,Kg.Search=Ag,Kg.TextArea=qg,Kg.Password=Ig,Kg.OTP=bg;const Xg=Kg;var Zg=n(579);const{Option:Gg}=Em,Jg=e=>{let{onChange:t,disabled:n}=e,r=[];for(const a in zl)isNaN(Number(a))||r.push((0,Zg.jsx)(Gg,{value:a,children:zl[a]},a));return(0,Zg.jsx)(Em,{disabled:n,className:"search-filter",placeholder:"Filter by file type",mode:"multiple",onChange:(e,n)=>t(n.map((e=>e.value))),children:r})},Yg=e=>{let{onChange:t,disabled:n}=e;const[r,a]=o.useState([]),[i,s]=o.useState("");return(0,Zg.jsx)(Xg,{disabled:n,placeholder:"Filter by file name (only files, not directories)",addonAfter:(0,Zg.jsx)(Jg,{onChange:e=>{a(e),t({value:i,options:e})},disabled:n}),onChange:e=>{return n=e.target.value,s(n),void t({value:n,options:r});var n}})};const Qg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var ev=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Qg}))};const tv=o.forwardRef(ev);const nv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"};var rv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:nv}))};const av=o.forwardRef(rv);const ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M551.5 490.5H521c-4.6 0-8.4 3.7-8.4 8.4V720c0 4.6 3.7 8.4 8.4 8.4h30.5c4.6 0 8.4-3.7 8.4-8.4V498.9c-.1-4.6-3.8-8.4-8.4-8.4zM477.3 600h-88.1c-4.6 0-8.4 3.7-8.4 8.4v23.8c0 4.6 3.7 8.4 8.4 8.4h47.6v.7c-.6 29.9-23 49.8-56.5 49.8-39.2 0-63.6-30.7-63.6-81.4 0-50.1 23.9-80.6 62.3-80.6 28.1 0 47.5 13.5 55.4 38.3l.9 2.8h49.2l-.7-4.6C475.9 515.9 434.7 484 379 484c-68.8 0-113 49.4-113 125.9 0 77.5 43.7 126.1 113.6 126.1 64.4 0 106-40.3 106-102.9v-24.8c0-4.6-3.7-8.3-8.3-8.3z"}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z"}},{tag:"path",attrs:{d:"M608.2 727.8h32.3c4.6 0 8.4-3.7 8.4-8.4v-84.8h87.8c4.6 0 8.4-3.7 8.4-8.4v-25.5c0-4.6-3.7-8.4-8.4-8.4h-87.8v-58.9h96.8c4.6 0 8.4-3.7 8.4-8.4v-26.8c0-4.6-3.7-8.4-8.4-8.4H608.2c-4.6 0-8.4 3.7-8.4 8.4v221.1c0 4.8 3.8 8.5 8.4 8.5z"}}]},name:"file-gif",theme:"outlined"};var iv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:ov}))};const sv=o.forwardRef(iv);const lv={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M874.6 301.8L596.8 21.3c-4.5-4.5-9.4-8.3-14.7-11.5-1.4-.8-2.8-1.6-4.3-2.3-.9-.5-1.9-.9-2.8-1.3-9-4-18.9-6.2-29-6.2H201c-39.8 0-73 32.2-73 72v880c0 39.8 33.2 72 73 72h623c39.8 0 71-32.2 71-72V352.5c0-19-7-37.2-20.4-50.7zM583 110.4L783.8 312H583V110.4zM823 952H200V72h311v240c0 39.8 33.2 72 73 72h239v568zM350 696.5c0 24.2-7.5 31.4-21.9 31.4-9 0-18.4-5.8-24.8-18.5L272.9 732c13.4 22.9 32.3 34.2 61.3 34.2 41.6 0 60.8-29.9 60.8-66.2V577h-45v119.5zM501.3 577H437v186h44v-62h21.6c39.1 0 73.1-19.6 73.1-63.6 0-45.8-33.5-60.4-74.4-60.4zm-.8 89H481v-53h18.2c21.5 0 33.4 6.2 33.4 24.9 0 18.1-10.5 28.1-32.1 28.1zm182.5-9v36h30v30.1c-4 2.9-11 4.7-17.7 4.7-34.3 0-50.7-21.4-50.7-58.2 0-36.1 19.7-57.4 47.1-57.4 15.3 0 25 6.2 34 14.4l23.7-28.3c-12.7-12.8-32.1-24.2-59.2-24.2-49.6 0-91.1 35.3-91.1 97 0 62.7 40 95.1 91.5 95.1 25.9 0 49.2-10.2 61.5-22.6V657H683z"}}]},name:"file-jpg",theme:"outlined"};var cv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:lv}))};const uv=o.forwardRef(cv);const dv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};var fv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:dv}))};const hv=o.forwardRef(fv);const pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]},name:"file-word",theme:"outlined"};var mv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:pv}))};const gv=o.forwardRef(mv);const vv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM429 481.2c-1.9-4.4-6.2-7.2-11-7.2h-35c-6.6 0-12 5.4-12 12v272c0 6.6 5.4 12 12 12h27.1c6.6 0 12-5.4 12-12V582.1l66.8 150.2a12 12 0 0011 7.1H524c4.7 0 9-2.8 11-7.1l66.8-150.6V758c0 6.6 5.4 12 12 12H641c6.6 0 12-5.4 12-12V486c0-6.6-5.4-12-12-12h-34.7c-4.8 0-9.1 2.8-11 7.2l-83.1 191-83.2-191z"}}]},name:"file-markdown",theme:"outlined"};var yv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:vv}))};const bv=o.forwardRef(yv);const wv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-ppt",theme:"outlined"};var _v=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:wv}))};const xv=o.forwardRef(_v);const Ev={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"};var Sv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Ev}))};const kv=o.forwardRef(Sv);const Ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"};var Cv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Ov}))};const Pv=o.forwardRef(Cv),$v={[zl.TXT]:(0,Zg.jsx)(tv,{style:{padding:"0 10px"}}),[zl.PDF]:(0,Zg.jsx)(av,{style:{padding:"0 10px"}}),[zl.GIF]:(0,Zg.jsx)(sv,{style:{padding:"0 10px"}}),[zl.JPG]:(0,Zg.jsx)(uv,{style:{padding:"0 10px"}}),[zl.XLSX]:(0,Zg.jsx)(hv,{style:{padding:"0 10px"}}),[zl.DOCX]:(0,Zg.jsx)(gv,{style:{padding:"0 10px"}}),[zl.MD]:(0,Zg.jsx)(bv,{style:{padding:"0 10px"}}),[zl.PPT]:(0,Zg.jsx)(xv,{style:{padding:"0 10px"}}),[zl.ZIP]:(0,Zg.jsx)(kv,{style:{padding:"0 10px"}}),[zl.UNKNOWN]:(0,Zg.jsx)(Pv,{style:{padding:"0 10px"}})},Iv={[zl.TXT]:"blue",[zl.PDF]:"red",[zl.GIF]:"orange",[zl.JPG]:"green",[zl.XLSX]:"purple",[zl.DOCX]:"cyan",[zl.MD]:"magenta",[zl.PPT]:"gold",[zl.ZIP]:"lime",[zl.UNKNOWN]:"gray"},Rv=e=>{let{type:t}=e;return $v[t]},Tv=e=>{let{file:t}=e;return(0,Zg.jsxs)("span",{style:{color:Iv[t.type]},children:[(0,Zg.jsx)(Rv,{type:t.type}),t.name]})},Av=e=>{let{folders:t,filterFn:n,className:r,toggleAllState:a=null,onToggleReset:i}=e;const[s,l]=(0,o.useState)(t.map((()=>!1)));(0,o.useEffect)((()=>{l(t.map((()=>!1)))}),[t]),(0,o.useEffect)((()=>{null!==a&&l((e=>[...e.map((()=>a))]))}),[a]);return(0,Zg.jsx)(Zg.Fragment,{children:(0,Zg.jsx)("ul",{className:r,children:t.map(((e,t)=>(0,Zg.jsxs)("li",{children:[(0,Zg.jsx)(rl,{onClick:()=>(e=>{i(),l((t=>{const n=[...t];return n[e]=!t[e],n}))})(t),icon:s[t]?(0,Zg.jsx)(jl,{}):(0,Zg.jsx)(Fl,{})}),e.name,s[t]&&e.folders.length>0&&(0,Zg.jsx)(Av,{folders:e.folders,filterFn:n,toggleAllState:a,onToggleReset:i}),s[t]&&e.files.length>0&&(0,Zg.jsx)("ul",{children:e.files.filter(n).map((e=>(0,Zg.jsx)("li",{children:(0,Zg.jsx)(Tv,{file:e})},e.id)))})]},e.id)))})})},Nv=(e,t)=>{let n=!1;for(const r of t)if(r.id===e.folderId?(r.folders.push({...e,folders:[],files:[]}),n=!0):r.folders.length>0&&(n=Nv(e,r.folders)),n)break;return n},jv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[],r=e.length;for(;e.length>0;){const r=e.shift();if(r&&!r.folderId&&t.push({...r,folders:[],files:[]}),r&&r.folderId){Nv(r,t)||n.push(r)}}return t=r!=n.length?jv(n,t):t.concat(n.map((e=>({...e,folders:[],files:[]})))),t},Mv=(e,t)=>{for(const n of e)n.files=t.filter((e=>e.folderId===n.id)),n.folders.length>0&&Mv(n.folders,t)};const Lv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var Fv=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:Lv}))};const zv=o.forwardRef(Fv),Dv=e=>e?"function"===typeof e?e():e:null;function Bv(e){var t=e.children,n=e.prefixCls,r=e.id,a=e.overlayInnerStyle,i=e.className,s=e.style;return o.createElement("div",{className:h()("".concat(n,"-content"),i),style:s},o.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:a},"function"===typeof t?t():t))}var Hv={shiftX:64,adjustY:1},Uv={adjustX:1,shiftY:!0},Wv=[0,0],Vv={left:{points:["cr","cl"],overflow:Uv,offset:[-4,0],targetOffset:Wv},right:{points:["cl","cr"],overflow:Uv,offset:[4,0],targetOffset:Wv},top:{points:["bc","tc"],overflow:Hv,offset:[0,-4],targetOffset:Wv},bottom:{points:["tc","bc"],overflow:Hv,offset:[0,4],targetOffset:Wv},topLeft:{points:["bl","tl"],overflow:Hv,offset:[0,-4],targetOffset:Wv},leftTop:{points:["tr","tl"],overflow:Uv,offset:[-4,0],targetOffset:Wv},topRight:{points:["br","tr"],overflow:Hv,offset:[0,-4],targetOffset:Wv},rightTop:{points:["tl","tr"],overflow:Uv,offset:[4,0],targetOffset:Wv},bottomRight:{points:["tr","br"],overflow:Hv,offset:[0,4],targetOffset:Wv},rightBottom:{points:["bl","br"],overflow:Uv,offset:[4,0],targetOffset:Wv},bottomLeft:{points:["tl","bl"],overflow:Hv,offset:[0,4],targetOffset:Wv},leftBottom:{points:["br","bl"],overflow:Uv,offset:[-4,0],targetOffset:Wv}};var qv=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Kv=function(e,t){var n=e.overlayClassName,r=e.trigger,a=void 0===r?["hover"]:r,i=e.mouseEnterDelay,s=void 0===i?0:i,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,f=void 0===d?"rc-tooltip":d,h=e.children,p=e.onVisibleChange,m=e.afterVisibleChange,g=e.transitionName,v=e.animation,y=e.motion,b=e.placement,w=void 0===b?"right":b,x=e.align,E=void 0===x?{}:x,S=e.destroyTooltipOnHide,k=void 0!==S&&S,O=e.defaultVisible,C=e.getTooltipContainer,P=e.overlayInnerStyle,I=(e.arrowContent,e.overlay),R=e.id,T=e.showArrow,A=void 0===T||T,N=$(e,qv),j=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return j.current}));var M=Le({},N);"visible"in e&&(M.popupVisible=e.visible);return o.createElement(Uu,_({popupClassName:n,prefixCls:f,popup:function(){return o.createElement(Bv,{key:"content",prefixCls:f,id:R,overlayInnerStyle:P},I)},action:a,builtinPlacements:Vv,popupPlacement:w,ref:j,popupAlign:E,getPopupContainer:C,onPopupVisibleChange:p,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:O,autoDestroy:k,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s,arrow:A},M),h)};const Xv=(0,o.forwardRef)(Kv);function Zv(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,a=t/2,o=a,i=1*r/Math.sqrt(2),s=a-r*(1-1/Math.sqrt(2)),l=a-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*a-l,d=c,f=2*a-i,h=s,p=2*a-0,m=o,g=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:g,arrowPath:`path('M 0 ${o} A ${r} ${r} 0 0 0 ${i} ${s} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${f} ${h} A ${r} ${r} 0 0 0 ${p} ${m} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*a-v}px 100%, ${v}px 100%)`}}const Gv=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:i,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:i,height:i,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${ln(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Jv=8;function Yv(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?Jv:r}}function Qv(e,t){return e?t:{}}function ey(e,t,n){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:i}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Gv(e,t,a)),{"&:before":{background:t}})]},Qv(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:i}},[`&-placement-topRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:i}}})),Qv(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:i}},[`&-placement-bottomRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:i}}})),Qv(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),Qv(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}const ty={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ny={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ry=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function ay(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:a,borderRadius:o,visibleFirst:i}=e,s=t/2,l={};return Object.keys(ty).forEach((e=>{const c=r&&ny[e]||ty[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,ry.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-s-a;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+a;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-a;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+a}const d=Yv({contentRadius:o,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=-d.arrowOffsetHorizontal-s;break;case"leftBottom":case"rightBottom":u.offset[1]=d.arrowOffsetHorizontal+s}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const a=r&&"object"===typeof r?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=2*t.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*t.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const i=Object.assign(Object.assign({},o),a);return i.shiftX||(i.adjustX=!0),i.shiftY||(i.adjustY=!0),i}(e,d,t,n),i&&(u.htmlRegion="visibleFirst")})),l}const oy=new Mr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),iy=new Mr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),sy=new Mr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ly=new Mr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),cy=new Mr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),uy=new Mr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),dy={zoom:{inKeyframes:oy,outKeyframes:iy},"zoom-big":{inKeyframes:sy,outKeyframes:ly},"zoom-big-fast":{inKeyframes:sy,outKeyframes:ly},"zoom-left":{inKeyframes:new Mr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Mr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Mr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Mr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:cy,outKeyframes:uy},"zoom-down":{inKeyframes:new Mr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Mr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},fy=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=dy[t];return[vp(r,a,o,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},hy=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function py(e,t){return hy.reduce(((n,r)=>{const a=e[`${r}1`],o=e[`${r}3`],i=e[`${r}6`],s=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:a,lightBorderColor:o,darkColor:i,textColor:s}))}),{})}const my=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:a,tooltipBorderRadius:o,zIndexPopup:i,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ta(e)),{position:"absolute",zIndex:i,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":a,[`${t}-inner`]:{minWidth:s,minHeight:s,padding:`${ln(e.calc(c).div(2).equal())} ${ln(u)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(o,Jv)}},[`${t}-content`]:{position:"relative"}}),py(e,((e,n)=>{let{darkColor:r}=n;return{[`&${t}-${e}`]:{[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},ey(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},gy=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Yv({contentRadius:e.borderRadius,limitVerticalRadius:!0})),Zv(Ka(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),vy=function(e){const t=to("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,a=Ka(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[my(a),fy(e,"zoom-big-fast")]}),gy,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},yy=hy.map((e=>`${e}-inverse`));function by(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?hy.includes(e):[].concat(d(yy),d(hy)).includes(e)}(t),r=h()({[`${e}-${t}`]:t&&n}),a={},o={};return t&&!n&&(a.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:a,arrowStyle:o}}const wy=e=>{const{prefixCls:t,className:n,placement:r="top",title:a,color:i,overlayInnerStyle:s}=e,{getPrefixCls:l}=o.useContext(g),c=l("tooltip",t),[u,d,f]=vy(c),p=by(c,i),m=p.arrowStyle,v=Object.assign(Object.assign({},s),p.overlayStyle),y=h()(d,f,c,`${c}-pure`,`${c}-placement-${r}`,n,p.className);return u(o.createElement("div",{className:y,style:m},o.createElement("div",{className:`${c}-arrow`}),o.createElement(Bv,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:v}),a)))};var _y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const xy=o.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,openClassName:i,getTooltipContainer:s,overlayClassName:l,color:c,overlayInnerStyle:u,children:d,afterOpenChange:f,afterVisibleChange:p,destroyTooltipOnHide:m,arrow:v=!0,title:y,overlay:b,builtinPlacements:w,arrowPointAtCenter:_=!1,autoAdjustOverflow:x=!0}=e,E=!!v,[,S]=Ia(),{getPopupContainer:k,getPrefixCls:O,direction:C}=o.useContext(g),P=nf("Tooltip"),$=o.useRef(null),I=()=>{var e;null===(e=$.current)||void 0===e||e.forceAlign()};o.useImperativeHandle(t,(()=>({forceAlign:I,forcePopupAlign:()=>{P.deprecated(!1,"forcePopupAlign","forceAlign"),I()}})));const[R,T]=Br(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),A=!y&&!b&&0!==y,N=o.useMemo((()=>{var e,t;let n=_;return"object"===typeof v&&(n=null!==(t=null!==(e=v.pointAtCenter)&&void 0!==e?e:v.arrowPointAtCenter)&&void 0!==t?t:_),w||ay({arrowPointAtCenter:n,autoAdjustOverflow:x,arrowWidth:E?S.sizePopupArrow:0,borderRadius:S.borderRadius,offset:S.marginXXS,visibleFirst:!0})}),[_,v,w,S]),j=o.useMemo((()=>0===y?y:b||y||""),[b,y]),M=o.createElement(rs,null,"function"===typeof j?j():j),{getPopupContainer:L,placement:F="top",mouseEnterDelay:z=.1,mouseLeaveDelay:D=.1,overlayStyle:B,rootClassName:H}=e,U=_y(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),W=O("tooltip",a),V=O(),q=e["data-popover-inject"];let K=R;"open"in e||"visible"in e||!A||(K=!1);const X=o.isValidElement(d)&&!vo(d)?d:o.createElement("span",null,d),Z=X.props,G=Z.className&&"string"!==typeof Z.className?Z.className:h()(Z.className,i||`${W}-open`),[J,Y,Q]=vy(W,!q),ee=by(W,c),te=ee.arrowStyle,ne=Object.assign(Object.assign({},u),ee.overlayStyle),re=h()(l,{[`${W}-rtl`]:"rtl"===C},ee.className,H,Y,Q),[ae,oe]=Yd("Tooltip",U.zIndex),ie=o.createElement(Xv,Object.assign({},U,{zIndex:ae,showArrow:E,placement:F,mouseEnterDelay:z,mouseLeaveDelay:D,prefixCls:W,overlayClassName:re,overlayStyle:Object.assign(Object.assign({},te),B),getTooltipContainer:L||s||k,ref:$,builtinPlacements:N,overlay:M,visible:K,onVisibleChange:t=>{var n,r;T(!A&&t),A||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==f&&void 0!==f?f:p,overlayInnerStyle:ne,arrowContent:o.createElement("span",{className:`${W}-arrow-content`}),motion:{motionName:Qd(V,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),K?bo(X,{className:G}):X);return J(o.createElement(Xd.Provider,{value:oe},ie))})),Ey=xy;Ey._InternalPanelDoNotUseOrYouWillBeFired=wy;const Sy=Ey,ky=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:o,boxShadowSecondary:i,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:f,titleBorderBottom:h,innerContentPadding:p,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},ta(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":d,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:l,boxShadow:i,padding:o},[`${t}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:a,borderBottom:h,padding:m},[`${t}-inner-content`]:{color:n,padding:p}})},ey(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Oy=e=>{const{componentCls:t}=e;return{[t]:hy.map((n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}}))}},Cy=to("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=Ka(e,{popoverBg:t,popoverColor:n});return[ky(r),Oy(r),fy(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:o,zIndexPopupBase:i,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:u,paddingSM:d}=e,f=n-r,h=f/2,p=f/2-t,m=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:i+30},Zv(e)),Yv({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:l,titlePadding:o?`${h}px ${m}px ${p}px`:0,titleBorderBottom:o?`${t}px ${c} ${u}`:"none",innerContentPadding:o?`${d}px ${m}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Py=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const $y=e=>{const{hashId:t,prefixCls:n,className:r,style:a,placement:i="top",title:s,content:l,children:c}=e;return o.createElement("div",{className:h()(t,n,`${n}-pure`,`${n}-placement-${i}`,r),style:a},o.createElement("div",{className:`${n}-arrow`}),o.createElement(Bv,Object.assign({},e,{className:t,prefixCls:n}),c||((e,t,n)=>t||n?o.createElement(o.Fragment,null,t&&o.createElement("div",{className:`${e}-title`},Dv(t)),o.createElement("div",{className:`${e}-inner-content`},Dv(n))):null)(n,s,l)))},Iy=e=>{const{prefixCls:t,className:n}=e,r=Py(e,["prefixCls","className"]),{getPrefixCls:a}=o.useContext(g),i=a("popover",t),[s,l,c]=Cy(i);return s(o.createElement($y,Object.assign({},r,{prefixCls:i,hashId:l,className:h()(n,c)})))};var Ry=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Ty=e=>{let{title:t,content:n,prefixCls:r}=e;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:`${r}-title`},Dv(t)),o.createElement("div",{className:`${r}-inner-content`},Dv(n)))},Ay=o.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,title:i,content:s,overlayClassName:l,placement:c="top",trigger:u="hover",children:d,mouseEnterDelay:f=.1,mouseLeaveDelay:p=.1,onOpenChange:m,overlayStyle:v={}}=e,y=Ry(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:b}=o.useContext(g),w=b("popover",a),[_,x,E]=Cy(w),S=b(),k=h()(l,x,E),[O,C]=Br(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),P=(e,t)=>{C(e,!0),null===m||void 0===m||m(e,t)};return _(o.createElement(Sy,Object.assign({placement:c,trigger:u,mouseEnterDelay:f,mouseLeaveDelay:p,overlayStyle:v},y,{prefixCls:w,overlayClassName:k,ref:t,open:O,onOpenChange:e=>{P(e)},overlay:i||s?o.createElement(Ty,{prefixCls:w,title:i,content:s}):null,transitionName:Qd(S,"zoom-big",y.transitionName),"data-popover-inject":!0}),bo(d,{onKeyDown:e=>{var t,n;o.isValidElement(d)&&(null===(n=null===d||void 0===d?void 0:(t=d.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===Wl.ESC&&P(!1,e)})(e)}})))})),Ny=Ay;Ny._InternalPanelDoNotUseOrYouWillBeFired=Iy;const jy=Ny;function My(e){return!(!e||!e.then)}const Ly=e=>{const{type:t,children:n,prefixCls:r,buttonProps:a,close:i,autoFocus:s,emitEvent:l,isSilent:c,quitOnNullishReturnValue:u,actionFn:d}=e,f=o.useRef(!1),h=o.useRef(null),[p,m]=zr(!1),g=function(){null===i||void 0===i||i.apply(void 0,arguments)};o.useEffect((()=>{let e=null;return s&&(e=setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return o.createElement(rl,Object.assign({},cs(t),{onClick:e=>{if(f.current)return;if(f.current=!0,!d)return void g();let t;if(l){if(t=d(e),u&&!My(t))return f.current=!1,void g(e)}else if(d.length)t=d(i),f.current=!1;else if(t=d(),!t)return void g();(e=>{My(e)&&(m(!0),e.then((function(){m(!1,!0),g.apply(void 0,arguments),f.current=!1}),(e=>{if(m(!1,!0),f.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)})))})(t)},loading:p,prefixCls:r},a,{ref:h}),n)},Fy=to("Popconfirm",(e=>(e=>{const{componentCls:t,iconCls:n,antCls:r,zIndexPopup:a,colorText:o,colorWarning:i,marginXXS:s,marginXS:l,fontSize:c,fontWeightStrong:u,colorTextHeading:d}=e;return{[t]:{zIndex:a,[`&${r}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:l,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:i,fontSize:c,lineHeight:1,marginInlineEnd:l},[`${t}-title`]:{fontWeight:u,color:d,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:s,color:o}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:l}}}}})(e)),(e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}}),{resetStyle:!1});var zy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Dy=e=>{const{prefixCls:t,okButtonProps:n,cancelButtonProps:r,title:a,description:i,cancelText:s,okText:l,okType:c="primary",icon:u=o.createElement(zv,null),showCancel:d=!0,close:f,onConfirm:p,onCancel:m,onPopupClick:v}=e,{getPrefixCls:y}=o.useContext(g),[b]=Lf("Popconfirm",uf.Popconfirm),w=Dv(a),_=Dv(i);return o.createElement("div",{className:`${t}-inner-content`,onClick:v},o.createElement("div",{className:`${t}-message`},u&&o.createElement("span",{className:`${t}-message-icon`},u),o.createElement("div",{className:`${t}-message-text`},w&&o.createElement("div",{className:h()(`${t}-title`)},w),_&&o.createElement("div",{className:`${t}-description`},_))),o.createElement("div",{className:`${t}-buttons`},d&&o.createElement(rl,Object.assign({onClick:m,size:"small"},r),s||(null===b||void 0===b?void 0:b.cancelText)),o.createElement(Ly,{buttonProps:Object.assign(Object.assign({size:"small"},cs(c)),n),actionFn:p,close:f,prefixCls:y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l||(null===b||void 0===b?void 0:b.okText))))},By=e=>{const{prefixCls:t,placement:n,className:r,style:a}=e,i=zy(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=o.useContext(g),l=s("popconfirm",t),[c]=Fy(l);return c(o.createElement(Iy,{placement:n,className:h()(l,r),style:a,content:o.createElement(Dy,Object.assign({prefixCls:l},i))}))};var Hy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Uy=o.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,placement:i="top",trigger:s="click",okType:l="primary",icon:c=o.createElement(zv,null),children:u,overlayClassName:d,onOpenChange:f,onVisibleChange:m}=e,v=Hy(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:y}=o.useContext(g),[b,w]=Br(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),_=(e,t)=>{w(e,!0),null===m||void 0===m||m(e),null===f||void 0===f||f(e,t)},x=y("popconfirm",a),E=h()(x,d),[S]=Fy(x);return S(o.createElement(jy,Object.assign({},p(v,["title"]),{trigger:s,placement:i,onOpenChange:(t,n)=>{const{disabled:r=!1}=e;r||_(t,n)},open:b,ref:t,overlayClassName:E,content:o.createElement(Dy,Object.assign({okType:l,icon:c},e,{prefixCls:x,close:e=>{_(!1,e)},onConfirm:t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:t=>{var n;_(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}})),"data-popover-inject":!0}),u))})),Wy=Uy;Wy._InternalPanelDoNotUseOrYouWillBeFired=By;const Vy=Wy;const qy={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:t}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:t}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"};var Ky=function(e,t){return o.createElement(vt,_({},e,{ref:t,icon:qy}))};const Xy=o.forwardRef(Ky);n(446);var Zy="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;function Gy(e,t,n,r){const a=(0,o.useRef)(t);Zy((()=>{a.current=t}),[t]),(0,o.useEffect)((()=>{const t=(null==n?void 0:n.current)??window;if(!t||!t.addEventListener)return;const o=e=>{a.current(e)};return t.addEventListener(e,o,r),()=>{t.removeEventListener(e,o,r)}}),[e,n,r])}function Jy(e){const t=(0,o.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Zy((()=>{t.current=e}),[e]),(0,o.useCallback)((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null==(e=t.current)?void 0:e.call(t,...r)}),[t])}var Yy="undefined"===typeof window;function Qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{initializeWithValue:r=!0}=n,a=(0,o.useCallback)((e=>n.serializer?n.serializer(e):JSON.stringify(e)),[n]),i=(0,o.useCallback)((e=>{if(n.deserializer)return n.deserializer(e);if("undefined"===e)return;const r=t instanceof Function?t():t;let a;try{a=JSON.parse(e)}catch(o){return console.error("Error parsing JSON:",o),r}return a}),[n,t]),s=(0,o.useCallback)((()=>{const n=t instanceof Function?t():t;if(Yy)return n;try{const t=window.localStorage.getItem(e);return t?i(t):n}catch(r){return console.warn(`Error reading localStorage key \u201c${e}\u201d:`,r),n}}),[t,e,i]),[l,c]=(0,o.useState)((()=>r?s():t instanceof Function?t():t)),u=Jy((t=>{Yy&&console.warn(`Tried setting localStorage key \u201c${e}\u201d even though environment is not a client`);try{const n=t instanceof Function?t(s()):t;window.localStorage.setItem(e,a(n)),c(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(n){console.warn(`Error setting localStorage key \u201c${e}\u201d:`,n)}})),d=Jy((()=>{Yy&&console.warn(`Tried removing localStorage key \u201c${e}\u201d even though environment is not a client`);const n=t instanceof Function?t():t;window.localStorage.removeItem(e),c(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}));(0,o.useEffect)((()=>{c(s())}),[e]);const f=(0,o.useCallback)((t=>{t.key&&t.key!==e||c(s())}),[e,s]);return Gy("storage",f),Gy("local-storage",f),[l,u,d]}const eb=Symbol("Let zodToJsonSchema decide on which parser to use"),tb={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},nb=e=>{const t=(e=>"string"===typeof e?{...tb,name:e}:{...tb,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))}};var rb,ab;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(rb||(rb={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ab||(ab={}));const ob=rb.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ib=e=>{switch(typeof e){case"undefined":return ob.undefined;case"string":return ob.string;case"number":return isNaN(e)?ob.nan:ob.number;case"boolean":return ob.boolean;case"function":return ob.function;case"bigint":return ob.bigint;case"symbol":return ob.symbol;case"object":return Array.isArray(e)?ob.array:null===e?ob.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?ob.promise:"undefined"!==typeof Map&&e instanceof Map?ob.map:"undefined"!==typeof Set&&e instanceof Set?ob.set:"undefined"!==typeof Date&&e instanceof Date?ob.date:ob.object;default:return ob.unknown}},sb=rb.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class lb extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof lb))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rb.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}lb.create=e=>new lb(e);const cb=(e,t)=>{let n;switch(e.code){case sb.invalid_type:n=e.received===ob.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case sb.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rb.jsonStringifyReplacer)}`;break;case sb.unrecognized_keys:n=`Unrecognized key(s) in object: ${rb.joinValues(e.keys,", ")}`;break;case sb.invalid_union:n="Invalid input";break;case sb.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rb.joinValues(e.options)}`;break;case sb.invalid_enum_value:n=`Invalid enum value. Expected ${rb.joinValues(e.options)}, received '${e.received}'`;break;case sb.invalid_arguments:n="Invalid function arguments";break;case sb.invalid_return_type:n="Invalid function return type";break;case sb.invalid_date:n="Invalid date";break;case sb.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rb.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case sb.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case sb.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case sb.custom:n="Invalid input";break;case sb.invalid_intersection_types:n="Intersection results could not be merged";break;case sb.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case sb.not_finite:n="Number must be finite";break;default:n=t.defaultError,rb.assertNever(e)}return{message:n}};let ub=cb;function db(){return ub}const fb=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i={...a,path:o};if(void 0!==a.message)return{...a,path:o,message:a.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(i,{data:t,defaultError:s}).message;return{...a,path:o,message:s}};function hb(e,t){const n=db(),r=fb({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===cb?void 0:cb].filter((e=>!!e))});e.common.issues.push(r)}class pb{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return mb;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return pb.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return mb;if("aborted"===a.status)return mb;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const mb=Object.freeze({status:"aborted"}),gb=e=>({status:"dirty",value:e}),vb=e=>({status:"valid",value:e}),yb=e=>"aborted"===e.status,bb=e=>"dirty"===e.status,wb=e=>"valid"===e.status,_b=e=>"undefined"!==typeof Promise&&e instanceof Promise;function xb(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Eb(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}var Sb,kb,Ob;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Sb||(Sb={}));class Cb{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pb=(e,t)=>{if(wb(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new lb(e.common.issues);return this._error=t,this._error}}};function $b(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var o,i;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:a.defaultError}:"undefined"===typeof a.data?{message:null!==(o=null!==s&&void 0!==s?s:r)&&void 0!==o?o:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(i=null!==s&&void 0!==s?s:n)&&void 0!==i?i:a.defaultError}},description:a}}class Ib{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ib(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ib(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pb,ctx:{common:e.parent.common,data:e.data,parsedType:ib(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(_b(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ib(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Pb(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ib(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(_b(r)?r:Promise.resolve(r));return Pb(n,a)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),o=()=>r.addIssue({code:sb.custom,...n(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(o(),!1))):!!a||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new kw({schema:this,typeName:Lw.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ow.create(this,this._def)}nullable(){return Cw.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return iw.create(this,this._def)}promise(){return Sw.create(this,this._def)}or(e){return cw.create([this,e],this._def)}and(e){return hw.create(this,e,this._def)}transform(e){return new kw({...$b(this._def),schema:this,typeName:Lw.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Pw({...$b(this._def),innerType:this,defaultValue:t,typeName:Lw.ZodDefault})}brand(){return new Tw({typeName:Lw.ZodBranded,type:this,...$b(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new $w({...$b(this._def),innerType:this,catchValue:t,typeName:Lw.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Aw.create(this,e)}readonly(){return Nw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rb=/^c[^\s-]{8,}$/i,Tb=/^[0-9a-z]+$/,Ab=/^[0-9A-HJKMNP-TV-Z]{26}$/,Nb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jb=/^[a-z0-9_-]{21}$/i,Mb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Lb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Fb;const zb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Db=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Bb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Hb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ub=new RegExp(`^${Hb}$`);function Wb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Vb(e){let t=`${Hb}T${Wb(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function qb(e,t){return!("v4"!==t&&t||!zb.test(e))||!("v6"!==t&&t||!Db.test(e))}class Kb extends Ib{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ob.string){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.string,received:t.parsedType}),mb}const t=new pb;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(n=this._getOrReturnCtx(e,n),a?hb(n,{code:sb.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&hb(n,{code:sb.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Lb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"email",code:sb.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Fb||(Fb=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"emoji",code:sb.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)Nb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"uuid",code:sb.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)jb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"nanoid",code:sb.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Rb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"cuid",code:sb.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)Tb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"cuid2",code:sb.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Ab.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"ulid",code:sb.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(jC){n=this._getOrReturnCtx(e,n),hb(n,{validation:"url",code:sb.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"regex",code:sb.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){Vb(r).test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){Ub.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){new RegExp(`^${Wb(r)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?Mb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"duration",code:sb.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?qb(e.data,r.version)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"ip",code:sb.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Bb.test(e.data)||(n=this._getOrReturnCtx(e,n),hb(n,{validation:"base64",code:sb.invalid_string,message:r.message}),t.dirty()):rb.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:sb.invalid_string,...Sb.errToObj(n)})}_addCheck(e){return new Kb({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Sb.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Sb.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Sb.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Sb.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Sb.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Sb.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Sb.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Sb.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Sb.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Sb.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...Sb.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...Sb.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Sb.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Sb.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...Sb.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Sb.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Sb.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Sb.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Sb.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Sb.errToObj(t)})}nonempty(e){return this.min(1,Sb.errToObj(e))}trim(){return new Kb({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kb({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kb({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Xb(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Kb.create=e=>{var t;return new Kb({checks:[],typeName:Lw.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...$b(e)})};class Zb extends Ib{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ob.number){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.number,received:t.parsedType}),mb}let t;const n=new pb;for(const r of this._def.checks)if("int"===r.kind)rb.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Xb(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.not_finite,message:r.message}),n.dirty()):rb.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Sb.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Sb.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Sb.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Sb.toString(t))}setLimit(e,t,n,r){return new Zb({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Sb.toString(r)}]})}_addCheck(e){return new Zb({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Sb.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Sb.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Sb.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Sb.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Sb.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Sb.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Sb.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Sb.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Sb.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&rb.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Zb.create=e=>new Zb({checks:[],typeName:Lw.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...$b(e)});class Gb extends Ib{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==ob.bigint){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.bigint,received:t.parsedType}),mb}let t;const n=new pb;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),hb(t,{code:sb.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):rb.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Sb.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Sb.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Sb.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Sb.toString(t))}setLimit(e,t,n,r){return new Gb({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Sb.toString(r)}]})}_addCheck(e){return new Gb({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Sb.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Sb.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Sb.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Sb.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Sb.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Gb.create=e=>{var t;return new Gb({checks:[],typeName:Lw.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...$b(e)})};class Jb extends Ib{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ob.boolean){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.boolean,received:t.parsedType}),mb}return vb(e.data)}}Jb.create=e=>new Jb({typeName:Lw.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...$b(e)});class Yb extends Ib{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ob.date){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.date,received:t.parsedType}),mb}if(isNaN(e.data.getTime())){return hb(this._getOrReturnCtx(e),{code:sb.invalid_date}),mb}const t=new pb;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),hb(n,{code:sb.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):rb.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yb({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Sb.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Sb.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Yb.create=e=>new Yb({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Lw.ZodDate,...$b(e)});class Qb extends Ib{_parse(e){if(this._getType(e)!==ob.symbol){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.symbol,received:t.parsedType}),mb}return vb(e.data)}}Qb.create=e=>new Qb({typeName:Lw.ZodSymbol,...$b(e)});class ew extends Ib{_parse(e){if(this._getType(e)!==ob.undefined){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.undefined,received:t.parsedType}),mb}return vb(e.data)}}ew.create=e=>new ew({typeName:Lw.ZodUndefined,...$b(e)});class tw extends Ib{_parse(e){if(this._getType(e)!==ob.null){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.null,received:t.parsedType}),mb}return vb(e.data)}}tw.create=e=>new tw({typeName:Lw.ZodNull,...$b(e)});class nw extends Ib{constructor(){super(...arguments),this._any=!0}_parse(e){return vb(e.data)}}nw.create=e=>new nw({typeName:Lw.ZodAny,...$b(e)});class rw extends Ib{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vb(e.data)}}rw.create=e=>new rw({typeName:Lw.ZodUnknown,...$b(e)});class aw extends Ib{_parse(e){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.never,received:t.parsedType}),mb}}aw.create=e=>new aw({typeName:Lw.ZodNever,...$b(e)});class ow extends Ib{_parse(e){if(this._getType(e)!==ob.undefined){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.void,received:t.parsedType}),mb}return vb(e.data)}}ow.create=e=>new ow({typeName:Lw.ZodVoid,...$b(e)});class iw extends Ib{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ob.array)return hb(t,{code:sb.invalid_type,expected:ob.array,received:t.parsedType}),mb;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(hb(t,{code:e?sb.too_big:sb.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(hb(t,{code:sb.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(hb(t,{code:sb.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Cb(t,e,t.path,n))))).then((e=>pb.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new Cb(t,e,t.path,n))));return pb.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new iw({...this._def,minLength:{value:e,message:Sb.toString(t)}})}max(e,t){return new iw({...this._def,maxLength:{value:e,message:Sb.toString(t)}})}length(e,t){return new iw({...this._def,exactLength:{value:e,message:Sb.toString(t)}})}nonempty(e){return this.min(1,e)}}function sw(e){if(e instanceof lw){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ow.create(sw(r))}return new lw({...e._def,shape:()=>t})}return e instanceof iw?new iw({...e._def,type:sw(e.element)}):e instanceof Ow?Ow.create(sw(e.unwrap())):e instanceof Cw?Cw.create(sw(e.unwrap())):e instanceof pw?pw.create(e.items.map((e=>sw(e)))):e}iw.create=(e,t)=>new iw({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Lw.ZodArray,...$b(t)});class lw extends Ib{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=rb.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ob.object){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.object,received:t.parsedType}),mb}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof aw&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||o.push(s);const i=[];for(const s of a){const e=r[s],t=n.data[s];i.push({key:{status:"valid",value:s},value:e._parse(new Cb(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof aw){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(hb(n,{code:sb.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Cb(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>pb.mergeObjectSync(t,e))):pb.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Sb.errToObj,new lw({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,o,i;const s=null!==(o=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=Sb.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}})}strip(){return new lw({...this._def,unknownKeys:"strip"})}passthrough(){return new lw({...this._def,unknownKeys:"passthrough"})}extend(e){return new lw({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lw({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Lw.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new lw({...this._def,catchall:e})}pick(e){const t={};return rb.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new lw({...this._def,shape:()=>t})}omit(e){const t={};return rb.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new lw({...this._def,shape:()=>t})}deepPartial(){return sw(this)}partial(e){const t={};return rb.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new lw({...this._def,shape:()=>t})}required(e){const t={};return rb.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ow;)e=e._def.innerType;t[n]=e}})),new lw({...this._def,shape:()=>t})}keyof(){return _w(rb.objectKeys(this.shape))}}lw.create=(e,t)=>new lw({shape:()=>e,unknownKeys:"strip",catchall:aw.create(),typeName:Lw.ZodObject,...$b(t)}),lw.strictCreate=(e,t)=>new lw({shape:()=>e,unknownKeys:"strict",catchall:aw.create(),typeName:Lw.ZodObject,...$b(t)}),lw.lazycreate=(e,t)=>new lw({shape:e,unknownKeys:"strip",catchall:aw.create(),typeName:Lw.ZodObject,...$b(t)});class cw extends Ib{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new lb(e.ctx.common.issues)));return hb(t,{code:sb.invalid_union,unionErrors:n}),mb}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new lb(e)));return hb(t,{code:sb.invalid_union,unionErrors:a}),mb}}get options(){return this._def.options}}cw.create=(e,t)=>new cw({options:e,typeName:Lw.ZodUnion,...$b(t)});const uw=e=>e instanceof bw?uw(e.schema):e instanceof kw?uw(e.innerType()):e instanceof ww?[e.value]:e instanceof xw?e.options:e instanceof Ew?rb.objectValues(e.enum):e instanceof Pw?uw(e._def.innerType):e instanceof ew?[void 0]:e instanceof tw?[null]:e instanceof Ow?[void 0,...uw(e.unwrap())]:e instanceof Cw?[null,...uw(e.unwrap())]:e instanceof Tw||e instanceof Nw?uw(e.unwrap()):e instanceof $w?uw(e._def.innerType):[];class dw extends Ib{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ob.object)return hb(t,{code:sb.invalid_type,expected:ob.object,received:t.parsedType}),mb;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(hb(t,{code:sb.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),mb)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=uw(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new dw({typeName:Lw.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...$b(n)})}}function fw(e,t){const n=ib(e),r=ib(t);if(e===t)return{valid:!0,data:e};if(n===ob.object&&r===ob.object){const n=rb.objectKeys(t),r=rb.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const o of r){const n=fw(e[o],t[o]);if(!n.valid)return{valid:!1};a[o]=n.data}return{valid:!0,data:a}}if(n===ob.array&&r===ob.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=fw(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===ob.date&&r===ob.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class hw extends Ib{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(yb(e)||yb(r))return mb;const a=fw(e.value,r.value);return a.valid?((bb(e)||bb(r))&&t.dirty(),{status:t.value,value:a.data}):(hb(n,{code:sb.invalid_intersection_types}),mb)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hw.create=(e,t,n)=>new hw({left:e,right:t,typeName:Lw.ZodIntersection,...$b(n)});class pw extends Ib{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ob.array)return hb(n,{code:sb.invalid_type,expected:ob.array,received:n.parsedType}),mb;if(n.data.length<this._def.items.length)return hb(n,{code:sb.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mb;!this._def.rest&&n.data.length>this._def.items.length&&(hb(n,{code:sb.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Cb(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>pb.mergeArray(t,e))):pb.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new pw({...this._def,rest:e})}}pw.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pw({items:e,typeName:Lw.ZodTuple,rest:null,...$b(t)})};class mw extends Ib{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ob.object)return hb(n,{code:sb.invalid_type,expected:ob.object,received:n.parsedType}),mb;const r=[],a=this._def.keyType,o=this._def.valueType;for(const i in n.data)r.push({key:a._parse(new Cb(n,i,n.path,i)),value:o._parse(new Cb(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?pb.mergeObjectAsync(t,r):pb.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new mw(t instanceof Ib?{keyType:e,valueType:t,typeName:Lw.ZodRecord,...$b(n)}:{keyType:Kb.create(),valueType:e,typeName:Lw.ZodRecord,...$b(t)})}}class gw extends Ib{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ob.map)return hb(n,{code:sb.invalid_type,expected:ob.map,received:n.parsedType}),mb;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(((e,t)=>{let[o,i]=e;return{key:r._parse(new Cb(n,o,n.path,[t,"key"])),value:a._parse(new Cb(n,i,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return mb;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return mb;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}gw.create=(e,t,n)=>new gw({valueType:t,keyType:e,typeName:Lw.ZodMap,...$b(n)});class vw extends Ib{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ob.set)return hb(n,{code:sb.invalid_type,expected:ob.set,received:n.parsedType}),mb;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(hb(n,{code:sb.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(hb(n,{code:sb.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return mb;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new Cb(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>o(e))):o(i)}min(e,t){return new vw({...this._def,minSize:{value:e,message:Sb.toString(t)}})}max(e,t){return new vw({...this._def,maxSize:{value:e,message:Sb.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}vw.create=(e,t)=>new vw({valueType:e,minSize:null,maxSize:null,typeName:Lw.ZodSet,...$b(t)});class yw extends Ib{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ob.function)return hb(t,{code:sb.invalid_type,expected:ob.function,received:t.parsedType}),mb;function n(e,n){return fb({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,db(),cb].filter((e=>!!e)),issueData:{code:sb.invalid_arguments,argumentsError:n}})}function r(e,n){return fb({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,db(),cb].filter((e=>!!e)),issueData:{code:sb.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Sw){const e=this;return vb((async function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const l=new lb([]),c=await e._def.args.parseAsync(i,a).catch((e=>{throw l.addIssue(n(i,e)),l})),u=await Reflect.apply(o,this,c);return await e._def.returns._def.type.parseAsync(u,a).catch((e=>{throw l.addIssue(r(u,e)),l}))}))}{const e=this;return vb((function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const l=e._def.args.safeParse(i,a);if(!l.success)throw new lb([n(i,l.error)]);const c=Reflect.apply(o,this,l.data),u=e._def.returns.safeParse(c,a);if(!u.success)throw new lb([r(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yw({...this._def,args:pw.create(t).rest(rw.create())})}returns(e){return new yw({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new yw({args:e||pw.create([]).rest(rw.create()),returns:t||rw.create(),typeName:Lw.ZodFunction,...$b(n)})}}class bw extends Ib{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}bw.create=(e,t)=>new bw({getter:e,typeName:Lw.ZodLazy,...$b(t)});class ww extends Ib{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return hb(t,{received:t.data,code:sb.invalid_literal,expected:this._def.value}),mb}return{status:"valid",value:e.data}}get value(){return this._def.value}}function _w(e,t){return new xw({values:e,typeName:Lw.ZodEnum,...$b(t)})}ww.create=(e,t)=>new ww({value:e,typeName:Lw.ZodLiteral,...$b(t)});class xw extends Ib{constructor(){super(...arguments),kb.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return hb(t,{expected:rb.joinValues(n),received:t.parsedType,code:sb.invalid_type}),mb}if(xb(this,kb,"f")||Eb(this,kb,new Set(this._def.values),"f"),!xb(this,kb,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return hb(t,{received:t.data,code:sb.invalid_enum_value,options:n}),mb}return vb(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return xw.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return xw.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}kb=new WeakMap,xw.create=_w;class Ew extends Ib{constructor(){super(...arguments),Ob.set(this,void 0)}_parse(e){const t=rb.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ob.string&&n.parsedType!==ob.number){const e=rb.objectValues(t);return hb(n,{expected:rb.joinValues(e),received:n.parsedType,code:sb.invalid_type}),mb}if(xb(this,Ob,"f")||Eb(this,Ob,new Set(rb.getValidEnumValues(this._def.values)),"f"),!xb(this,Ob,"f").has(e.data)){const e=rb.objectValues(t);return hb(n,{received:n.data,code:sb.invalid_enum_value,options:e}),mb}return vb(e.data)}get enum(){return this._def.values}}Ob=new WeakMap,Ew.create=(e,t)=>new Ew({values:e,typeName:Lw.ZodNativeEnum,...$b(t)});class Sw extends Ib{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ob.promise&&!1===t.common.async)return hb(t,{code:sb.invalid_type,expected:ob.promise,received:t.parsedType}),mb;const n=t.parsedType===ob.promise?t.data:Promise.resolve(t.data);return vb(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Sw.create=(e,t)=>new Sw({type:e,typeName:Lw.ZodPromise,...$b(t)});class kw extends Ib{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lw.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{hb(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return mb;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?mb:"dirty"===r.status||"dirty"===t.value?gb(r.value):r}));{if("aborted"===t.value)return mb;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?mb:"dirty"===r.status||"dirty"===t.value?gb(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?mb:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?mb:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wb(e))return e;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>wb(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}rb.assertNever(r)}}kw.create=(e,t,n)=>new kw({schema:e,typeName:Lw.ZodEffects,effect:t,...$b(n)}),kw.createWithPreprocess=(e,t,n)=>new kw({schema:t,effect:{type:"preprocess",transform:e},typeName:Lw.ZodEffects,...$b(n)});class Ow extends Ib{_parse(e){return this._getType(e)===ob.undefined?vb(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ow.create=(e,t)=>new Ow({innerType:e,typeName:Lw.ZodOptional,...$b(t)});class Cw extends Ib{_parse(e){return this._getType(e)===ob.null?vb(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cw.create=(e,t)=>new Cw({innerType:e,typeName:Lw.ZodNullable,...$b(t)});class Pw extends Ib{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ob.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pw.create=(e,t)=>new Pw({innerType:e,typeName:Lw.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...$b(t)});class $w extends Ib{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _b(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new lb(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new lb(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$w.create=(e,t)=>new $w({innerType:e,typeName:Lw.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...$b(t)});class Iw extends Ib{_parse(e){if(this._getType(e)!==ob.nan){const t=this._getOrReturnCtx(e);return hb(t,{code:sb.invalid_type,expected:ob.nan,received:t.parsedType}),mb}return{status:"valid",value:e.data}}}Iw.create=e=>new Iw({typeName:Lw.ZodNaN,...$b(e)});const Rw=Symbol("zod_brand");class Tw extends Ib{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Aw extends Ib{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?mb:"dirty"===e.status?(t.dirty(),gb(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?mb:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Aw({in:e,out:t,typeName:Lw.ZodPipeline})}}class Nw extends Ib{_parse(e){const t=this._def.innerType._parse(e),n=e=>(wb(e)&&(e.value=Object.freeze(e.value)),e);return _b(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function jw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?nw.create().superRefine(((r,a)=>{var o,i;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,s=null===(i=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===i||i,l="string"===typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:s})}})):nw.create()}Nw.create=(e,t)=>new Nw({innerType:e,typeName:Lw.ZodReadonly,...$b(t)});const Mw={object:lw.lazycreate};var Lw;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Lw||(Lw={}));const Fw=Kb.create,zw=Zb.create,Dw=Iw.create,Bw=Gb.create,Hw=Jb.create,Uw=Yb.create,Ww=Qb.create,Vw=ew.create,qw=tw.create,Kw=nw.create,Xw=rw.create,Zw=aw.create,Gw=ow.create,Jw=iw.create,Yw=lw.create,Qw=lw.strictCreate,e_=cw.create,t_=dw.create,n_=hw.create,r_=pw.create,a_=mw.create,o_=gw.create,i_=vw.create,s_=yw.create,l_=bw.create,c_=ww.create,u_=xw.create,d_=Ew.create,f_=Sw.create,h_=kw.create,p_=Ow.create,m_=Cw.create,g_=kw.createWithPreprocess,v_=Aw.create,y_={string:e=>Kb.create({...e,coerce:!0}),number:e=>Zb.create({...e,coerce:!0}),boolean:e=>Jb.create({...e,coerce:!0}),bigint:e=>Gb.create({...e,coerce:!0}),date:e=>Yb.create({...e,coerce:!0})},b_=mb;var w_=Object.freeze({__proto__:null,defaultErrorMap:cb,setErrorMap:function(e){ub=e},getErrorMap:db,makeIssue:fb,EMPTY_PATH:[],addIssueToContext:hb,ParseStatus:pb,INVALID:mb,DIRTY:gb,OK:vb,isAborted:yb,isDirty:bb,isValid:wb,isAsync:_b,get util(){return rb},get objectUtil(){return ab},ZodParsedType:ob,getParsedType:ib,ZodType:Ib,datetimeRegex:Vb,ZodString:Kb,ZodNumber:Zb,ZodBigInt:Gb,ZodBoolean:Jb,ZodDate:Yb,ZodSymbol:Qb,ZodUndefined:ew,ZodNull:tw,ZodAny:nw,ZodUnknown:rw,ZodNever:aw,ZodVoid:ow,ZodArray:iw,ZodObject:lw,ZodUnion:cw,ZodDiscriminatedUnion:dw,ZodIntersection:hw,ZodTuple:pw,ZodRecord:mw,ZodMap:gw,ZodSet:vw,ZodFunction:yw,ZodLazy:bw,ZodLiteral:ww,ZodEnum:xw,ZodNativeEnum:Ew,ZodPromise:Sw,ZodEffects:kw,ZodTransformer:kw,ZodOptional:Ow,ZodNullable:Cw,ZodDefault:Pw,ZodCatch:$w,ZodNaN:Iw,BRAND:Rw,ZodBranded:Tw,ZodPipeline:Aw,ZodReadonly:Nw,custom:jw,Schema:Ib,ZodSchema:Ib,late:Mw,get ZodFirstPartyTypeKind(){return Lw},coerce:y_,any:Kw,array:Jw,bigint:Bw,boolean:Hw,date:Uw,discriminatedUnion:t_,effect:h_,enum:u_,function:s_,instanceof:function(e){return jw((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:n_,lazy:l_,literal:c_,map:o_,nan:Dw,nativeEnum:d_,never:Zw,null:qw,nullable:m_,number:zw,object:Yw,oboolean:()=>Hw().optional(),onumber:()=>zw().optional(),optional:p_,ostring:()=>Fw().optional(),pipeline:v_,preprocess:g_,promise:f_,record:a_,set:i_,strictObject:Qw,string:Fw,symbol:Ww,transformer:h_,tuple:r_,undefined:Vw,union:e_,unknown:Xw,void:Gw,NEVER:b_,ZodIssueCode:sb,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:lb});function __(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function x_(e,t,n,r,a){e[t]=n,__(e,t,r,a)}function E_(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>E_(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return S_(e,t)}}const S_=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":x_(n,"minimum",r.value,r.message,t);break;case"max":x_(n,"maximum",r.value,r.message,t)}return n};let k_;const O_={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===k_&&(k_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),k_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function C_(e,t){const n={type:"string"};function r(e){return"escape"===t.patternStrategy?P_(e):e}if(e.checks)for(const a of e.checks)switch(a.kind){case"min":x_(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t);break;case"max":x_(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"email":switch(t.emailStrategy){case"format:email":$_(n,"email",a.message,t);break;case"format:idn-email":$_(n,"idn-email",a.message,t);break;case"pattern:zod":I_(n,O_.email,a.message,t)}break;case"url":$_(n,"uri",a.message,t);break;case"uuid":$_(n,"uuid",a.message,t);break;case"regex":I_(n,a.regex,a.message,t);break;case"cuid":I_(n,O_.cuid,a.message,t);break;case"cuid2":I_(n,O_.cuid2,a.message,t);break;case"startsWith":I_(n,RegExp(`^${r(a.value)}`),a.message,t);break;case"endsWith":I_(n,RegExp(`${r(a.value)}$`),a.message,t);break;case"datetime":$_(n,"date-time",a.message,t);break;case"date":$_(n,"date",a.message,t);break;case"time":$_(n,"time",a.message,t);break;case"duration":$_(n,"duration",a.message,t);break;case"length":x_(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t),x_(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"includes":I_(n,RegExp(r(a.value)),a.message,t);break;case"ip":"v6"!==a.version&&$_(n,"ipv4",a.message,t),"v4"!==a.version&&$_(n,"ipv6",a.message,t);break;case"emoji":I_(n,O_.emoji,a.message,t);break;case"ulid":I_(n,O_.ulid,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":$_(n,"binary",a.message,t);break;case"contentEncoding:base64":x_(n,"contentEncoding","base64",a.message,t);break;case"pattern:zod":I_(n,O_.base64,a.message,t)}break;case"nanoid":I_(n,O_.nanoid,a.message,t)}return n}const P_=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),$_=(e,t,n,r)=>{e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):x_(e,"format",t,n,r)},I_=(e,t,n,r)=>{e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:R_(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):x_(e,"pattern",R_(t,r),n,r)},R_=(e,t)=>{const n="function"===typeof e?e():e;if(!t.applyRegexFlags||!n.flags)return n.source;const r=n.flags.includes("i"),a=n.flags.includes("m"),o=n.flags.includes("s"),i=r?n.source.toLowerCase():n.source;let s="",l=!1,c=!1,u=!1;for(let d=0;d<i.length;d++)if(l)s+=i[d],l=!1;else{if(r)if(c){if(i[d].match(/[a-z]/)){u?(s+=i[d],s+=`${i[d-2]}-${i[d]}`.toUpperCase(),u=!1):"-"===i[d+1]&&i[d+2]?.match(/[a-z]/)?(s+=i[d],u=!0):s+=`${i[d]}${i[d].toUpperCase()}`;continue}}else if(i[d].match(/[a-z]/)){s+=`[${i[d]}${i[d].toUpperCase()}]`;continue}if(a){if("^"===i[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[d]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[d]?s+=c?`${i[d]}\r\n`:`[${i[d]}\r\n]`:(s+=i[d],"\\"===i[d]?l=!0:c&&"]"===i[d]?c=!1:c||"["!==i[d]||(c=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function T_(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===Lw.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((n,r)=>({...n,[r]:M_(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const n={type:"object",additionalProperties:M_(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===Lw.ZodString&&e.keyType._def.checks?.length){const r=Object.entries(C_(e.keyType._def,t)).reduce(((e,t)=>{let[n,r]=t;return"type"===n?e:{...e,[n]:r}}),{});return{...n,propertyNames:r}}return e.keyType?._def.typeName===Lw.ZodEnum?{...n,propertyNames:{enum:e.keyType._def.values}}:n}const A_={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};const N_=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>M_(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function j_(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:M_(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:M_(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function M_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.seen.get(e);if(t.override){const a=t.override?.(e,t,r,n);if(a!==eb)return a}if(r&&!n){const e=L_(r,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const o=z_(e,e.typeName,t);return o&&D_(e,t,o),a.jsonSchema=o,o}const L_=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:F_(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},F_=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},z_=(e,t,n)=>{switch(t){case Lw.ZodString:return C_(e,n);case Lw.ZodNumber:return function(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",__(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?x_(n,"minimum",r.value,r.message,t):x_(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),x_(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?x_(n,"maximum",r.value,r.message,t):x_(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),x_(n,"maximum",r.value,r.message,t));break;case"multipleOf":x_(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Lw.ZodObject:return function(e,t){const n={type:"object",...Object.entries(e.shape()).reduce(((e,n)=>{let[r,a]=n;if(void 0===a||void 0===a._def)return e;const o=M_(a._def,{...t,currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]});return void 0===o?e:{properties:{...e.properties,[r]:o},required:a.isOptional()?e.required:[...e.required,r]}}),{properties:{},required:[]}),additionalProperties:j_(e,t)};return n.required.length||delete n.required,n}(e,n);case Lw.ZodBigInt:return function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?x_(n,"minimum",r.value,r.message,t):x_(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),x_(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?x_(n,"maximum",r.value,r.message,t):x_(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),x_(n,"maximum",r.value,r.message,t));break;case"multipleOf":x_(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Lw.ZodBoolean:return{type:"boolean"};case Lw.ZodDate:return E_(e,n);case Lw.ZodUndefined:return{not:{}};case Lw.ZodNull:return function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(n);case Lw.ZodArray:return function(e,t){const n={type:"array"};return e.type?._def?.typeName!==Lw.ZodAny&&(n.items=M_(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&x_(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&x_(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(x_(n,"minItems",e.exactLength.value,e.exactLength.message,t),x_(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case Lw.ZodUnion:case Lw.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return N_(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in A_&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=A_[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return N_(e,t)}(e,n);case Lw.ZodIntersection:return function(e,t){const n=[M_(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),M_(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach((e=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;a.push(t)}})),a.length?{allOf:a,...r}:void 0}(e,n);case Lw.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>M_(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:M_(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>M_(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case Lw.ZodRecord:return T_(e,n);case Lw.ZodLiteral:return function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case Lw.ZodEnum:return function(e){return{type:"string",enum:e.values}}(e);case Lw.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case Lw.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:A_[e.innerType._def.typeName],nullable:!0}:{type:[A_[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=M_(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=M_(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case Lw.ZodOptional:return((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return M_(e.innerType._def,t);const n=M_(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}})(e,n);case Lw.ZodMap:return function(e,t){return"record"===t.mapStrategy?T_(e,t):{type:"array",maxItems:125,items:{type:"array",items:[M_(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},M_(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case Lw.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:M_(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&x_(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&x_(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case Lw.ZodLazy:return M_(e.getter()._def,n);case Lw.ZodPromise:return function(e,t){return M_(e.type._def,t)}(e,n);case Lw.ZodNaN:case Lw.ZodNever:return{not:{}};case Lw.ZodEffects:return function(e,t){return"input"===t.effectStrategy?M_(e.schema._def,t):{}}(e,n);case Lw.ZodAny:case Lw.ZodUnknown:return{};case Lw.ZodDefault:return function(e,t){return{...M_(e.innerType._def,t),default:e.defaultValue()}}(e,n);case Lw.ZodBranded:return function(e,t){return M_(e.type._def,t)}(e,n);case Lw.ZodReadonly:case Lw.ZodCatch:return((e,t)=>M_(e.innerType._def,t))(e,n);case Lw.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return M_(e.in._def,t);if("output"===t.pipeStrategy)return M_(e.out._def,t);const n=M_(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,M_(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}})(e,n);case Lw.ZodFunction:case Lw.ZodVoid:case Lw.ZodSymbol:default:return}},D_=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),B_=(e,t)=>{const n=nb(t),r="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[r,a]=t;return{...e,[r]:M_(a._def,{...n,currentPath:[...n.basePath,n.definitionPath,r]},!0)??{}}}),{}):void 0,a="string"===typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,o=M_(e._def,void 0===a?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??{},i="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==i&&(o.title=i);const s=void 0===a?r?{...o,[n.definitionPath]:r}:o:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:o}};return"jsonSchema7"===n.target?s.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),s};function H_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U_;e=e.trim();const n=/```(json)?(.*)```/s.exec(e);return t(n?n[2]:e)}function U_(e){if("undefined"===typeof e)return null;try{return JSON.parse(e)}catch(o){}let t="";const n=[];let r=!1,a=!1;for(let i of e){if(r)'"'!==i||a?"\n"!==i||a?a="\\"===i&&!a:i="\\n":r=!1;else if('"'===i)r=!0,a=!1;else if("{"===i)n.push("}");else if("["===i)n.push("]");else if("}"===i||"]"===i){if(!n||n[n.length-1]!==i)return null;n.pop()}t+=i}r&&(t+='"');for(let i=n.length-1;i>=0;i-=1)t+=n[i];try{return JSON.parse(t)}catch(o){return null}}var W_=n(3047);n(9894);function V_(e,t){return t?.[e]||W_(e)}function q_(e,t,n){const r={};for(const a in e)Object.hasOwn(e,a)&&(r[t(a,n)]=e[a]);return r}function K_(e){return Array.isArray(e)?[...e]:{...e}}function X_(e,t){const n=K_(e);for(const[r,a]of Object.entries(t)){const[e,...t]=r.split(".").reverse();let o=n;for(const n of t.reverse()){if(void 0===o[n])break;o[n]=K_(o[n]),o=o[n]}void 0!==o[e]&&(o[e]={lc:1,type:"secret",id:[a]})}return n}function Z_(e){const t=Object.getPrototypeOf(e);return"function"===typeof e.lc_name&&("function"!==typeof t.lc_name||e.lc_name()!==t.lc_name())?e.lc_name():e.name}class G_{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Z_(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof G_||"object"!==typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce(((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e)),{});for(let r=Object.getPrototypeOf(this);r;r=Object.getPrototypeOf(r))Object.assign(e,Reflect.get(r,"lc_aliases",this)),Object.assign(t,Reflect.get(r,"lc_secrets",this)),Object.assign(n,Reflect.get(r,"lc_attributes",this));return Object.keys(t).forEach((e=>{let t=this,r=n;const[a,...o]=e.split(".").reverse();for(const n of o.reverse()){if(!(n in t)||void 0===t[n])return;n in r&&void 0!==r[n]||("object"===typeof t[n]&&null!=t[n]?r[n]={}:Array.isArray(t[n])&&(r[n]=[])),t=t[n],r=r[n]}a in t&&void 0!==t[a]&&(r[a]=r[a]||t[a])})),{lc:1,type:"constructor",id:this.lc_id,kwargs:q_(Object.keys(t).length?X_(n,t):n,V_,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function J_(e,t){return"string"===typeof e?"string"===typeof t?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?ex(e,t)??[...e,...t]:[...e,{type:"text",text:t}]}class Y_ extends G_{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return"string"===typeof this.content?this.content:""}constructor(e,t){"string"===typeof e&&(e={content:e,additional_kwargs:t,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(null===e)return this;const t=(n=this._printableFields,r=Math.max(4,e),JSON.stringify(function e(t,n){if("object"!==typeof t||null===t||void 0===t)return t;if(n>=r)return Array.isArray(t)?"[Array]":"[Object]";if(Array.isArray(t))return t.map((t=>e(t,n+1)));const a={};for(const r of Object.keys(t))a[r]=e(t[r],n+1);return a}(n,0),null,2));var n,r;return`${this.constructor.lc_name()} ${t}`}}function Q_(e,t){const n={...e};for(const[r,a]of Object.entries(t))if(null==n[r])n[r]=a;else{if(null==a)continue;if(typeof n[r]!==typeof a||Array.isArray(n[r])!==Array.isArray(a))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if("string"===typeof n[r]){if("type"===r)continue;n[r]+=a}else if("object"!==typeof n[r]||Array.isArray(n[r]))if(Array.isArray(n[r]))n[r]=ex(n[r],a);else{if(n[r]===a)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}else n[r]=Q_(n[r],a)}return n}function ex(e,t){if(void 0!==e||void 0!==t){if(void 0===e||void 0===t)return e||t;{const n=[...e];for(const e of t)if("object"===typeof e&&"index"in e&&"number"===typeof e.index){const t=n.findIndex((t=>t.index===e.index));-1!==t?n[t]=Q_(n[t],e):n.push(e)}else{if("object"===typeof e&&"text"in e&&""===e.text)continue;n.push(e)}return n}}}function tx(e,t){if(!e&&!t)throw new Error("Cannot merge two undefined objects.");if(e&&t){if(typeof e!==typeof t)throw new Error(`Cannot merge objects of different types.\nLeft ${typeof e}\nRight ${typeof t}`);if("string"===typeof e&&"string"===typeof t)return e+t;if(Array.isArray(e)&&Array.isArray(t))return ex(e,t);if("object"===typeof e&&"object"===typeof t)return Q_(e,t);if(e===t)return e;throw new Error(`Can not merge objects of different types.\nLeft ${e}\nRight ${t}`)}return e||t}class nx extends Y_{}function rx(e){return"function"===typeof e?._getType}class ax extends Y_{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,t,n){"string"===typeof e&&(e={content:e,name:n,tool_call_id:t}),super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return"tool"===e._getType()}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class ox extends nx{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new ox({content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),artifact:tx(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:(t=this.status,n=e.status,"error"===t||"error"===n?"error":"success")});var t,n}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class ix extends Y_{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,t){let n;if("string"===typeof e)n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:t??{}};else{n=e;const t=n.additional_kwargs?.tool_calls,r=n.tool_calls;null!=t&&t.length>0&&(void 0===r||0===r.length)&&console.warn(["New LangChain packages are available that more efficiently handle","tool calling.\n\nPlease upgrade your packages to versions that set","message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(null!=t&&void 0===r){const[e,r]=function(e){const t=[],n=[];for(const a of e)if(a.function){const e=a.function.name;try{const n={name:e||"",args:JSON.parse(a.function.arguments)||{},id:a.id};t.push(n)}catch(r){n.push({name:e,args:a.function.arguments,id:a.id,error:"Malformed args."})}}return[t,n]}(t);n.tool_calls=e??[],n.invalid_tool_calls=r??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch(KM){n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"!==typeof n&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function sx(e){return"ai"===e._getType()}class lx extends nx{constructor(e){let t;if("string"===typeof e)t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(void 0===e.tool_call_chunks)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[]};else{const n=[],r=[];for(const t of e.tool_call_chunks){let e={};try{if(e=U_(t.args||"{}"),null===e||"object"!==typeof e||Array.isArray(e))throw new Error("Malformed tool call chunk args.");n.push({name:t.name??"",args:e,id:t.id,type:"tool_call"})}catch(KM){r.push({name:t.name,args:t.args,id:t.id,error:"Malformed args.",type:"invalid_tool_call"})}}t={...e,tool_calls:n,invalid_tool_calls:r}}super(t),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const t={content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(void 0!==this.tool_call_chunks||void 0!==e.tool_call_chunks){const n=ex(this.tool_call_chunks,e.tool_call_chunks);void 0!==n&&n.length>0&&(t.tool_call_chunks=n)}if(void 0!==this.usage_metadata||void 0!==e.usage_metadata){const n=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},r=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},a={input_tokens:n.input_tokens+r.input_tokens,output_tokens:n.output_tokens+r.output_tokens,total_tokens:n.total_tokens+r.total_tokens};t.usage_metadata=a}return new lx(t)}}class cx extends Y_{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return cx}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return"generic"===e._getType()}get _printableFields(){return{...super._printableFields,role:this.role}}}class ux extends nx{static lc_name(){return"ChatMessageChunk"}constructor(e,t){"string"===typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new ux({content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class dx extends nx{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new dx({content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class fx extends Y_{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class hx extends nx{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new hx({content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class px extends Y_{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class mx extends nx{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new mx({content:J_(this.content,e.content),additional_kwargs:Q_(this.additional_kwargs,e.additional_kwargs),response_metadata:Q_(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function gx(e){return!(!e||"object"!==typeof e||!("type"in e)||"tool_call"!==e.type)}class vx extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}function yx(e){return gx(e)?e:"string"===typeof e.id&&"function"===e.type&&"object"===typeof e.function&&null!==e.function&&"arguments"in e.function&&"string"===typeof e.function.arguments&&"name"in e.function&&"string"===typeof e.function.name?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function bx(e){const{type:t,...n}=e;if("human"===t||"user"===t)return new fx(n);if("ai"===t||"assistant"===t){const{tool_calls:e,...t}=n;if(!Array.isArray(e))return new ix(n);const r=e.map(yx);return new ix({...t,tool_calls:r})}if("system"===t)return new px(n);if("tool"===t&&"tool_call_id"in n)return new ax({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function wx(e){if("string"===typeof e)return new fx(e);if(rx(e))return e;if(Array.isArray(e)){const[t,n]=e;return bx({type:t,content:n})}if("string"===typeof e.role){const{role:t,...n}=e;return bx({...n,type:t})}return bx(e)}function _x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Human",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AI";const r=[];for(const a of e){let e;if("human"===a._getType())e=t;else if("ai"===a._getType())e=n;else if("system"===a._getType())e="System";else if("function"===a._getType())e="Function";else if("tool"===a._getType())e="Tool";else{if("generic"!==a._getType())throw new Error(`Got unsupported message type: ${a._getType()}`);e=a.role}const o=a.name?`${a.name}, `:"",i="string"===typeof a.content?a.content:JSON.stringify(a.content,null,2);r.push(`${e}: ${o}${i}`)}return r.join("\n")}function xx(e){const t=e._getType();if("human"===t)return new hx({...e});if("ai"===t){let t={...e};return"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map((e=>({...e,type:"tool_call_chunk",index:void 0,args:JSON.stringify(e.args)})))}),new lx({...t})}if("system"===t)return new mx({...e});if("function"===t)return new dx({...e});if(cx.isInstance(e))return new ux({...e});throw new Error("Unknown message type.")}var Ex=n(6659);const Sx={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var kx,Ox=new Uint8Array(16);function Cx(){if(!kx&&!(kx="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kx(Ox)}for(var Px=[],$x=0;$x<256;++$x)Px.push(($x+256).toString(16).slice(1));function Ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Px[e[t+0]]+Px[e[t+1]]+Px[e[t+2]]+Px[e[t+3]]+"-"+Px[e[t+4]]+Px[e[t+5]]+"-"+Px[e[t+6]]+Px[e[t+7]]+"-"+Px[e[t+8]]+Px[e[t+9]]+"-"+Px[e[t+10]]+Px[e[t+11]]+Px[e[t+12]]+Px[e[t+13]]+Px[e[t+14]]+Px[e[t+15]]).toLowerCase()}const Rx=function(e,t,n){if(Sx.randomUUID&&!t&&!e)return Sx.randomUUID();var r=(e=e||{}).random||(e.rng||Cx)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Ix(r)};const Tx=Symbol.for("ls:tracing_async_local_storage"),Ax=new class{getStore(){}run(e,t){return t()}};const Nx=new class{getInstance(){return globalThis[Tx]??Ax}initializeGlobalInstance(e){void 0===globalThis[Tx]&&(globalThis[Tx]=e)}};Symbol.for("langsmith:traceable:root");function jx(e){return"function"===typeof e&&"langsmith:traceable"in e}const Mx=Object.prototype.hasOwnProperty;function Lx(e,t){return Mx.call(e,t)}function Fx(e){if(Array.isArray(e)){const t=new Array(e.length);for(let e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(e);let t=[];for(let n in e)Lx(e,n)&&t.push(n);return t}function zx(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Dx(e){let t=0;const n=e.length;let r;for(;t<n;){if(r=e.charCodeAt(t),!(r>=48&&r<=57))return!1;t++}return!0}function Bx(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Hx(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ux(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ux(e[n]))return!0}else if("object"===typeof e){const n=Fx(e),r=n.length;for(var t=0;t<r;t++)if(Ux(e[n[t]]))return!0}return!1}function Wx(e,t){const n=[e];for(const r in t){const e="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof e&&n.push(`${r}: ${e}`)}return n.join("\n")}class Vx extends Error{constructor(e,t,n,r,a){super(Wx(e,{name:t,index:n,operation:r,tree:a})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.setPrototypeOf(this,new.target.prototype),this.message=Wx(e,{name:t,index:n,operation:r,tree:a})}}const qx=Vx,Kx=zx,Xx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){let r=Gx(n,this.path);r&&(r=zx(r));const a=Jx(n,{op:"remove",path:this.from}).removed;return Jx(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(e,t,n){const r=Gx(n,this.from);return Jx(n,{op:"add",path:this.path,value:zx(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:nE(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}};var Zx={add:function(e,t,n){return Dx(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Xx.move,copy:Xx.copy,test:Xx.test,_get:Xx._get};function Gx(e,t){if(""==t)return e;var n={op:"_get",path:t};return Jx(e,n),n.value}function Jx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(n&&("function"==typeof n?n(t,0,e,t.path):eE(t,0)),""===t.path){let r={newDocument:e};if("add"===t.op)return r.newDocument=t.value,r;if("replace"===t.op)return r.newDocument=t.value,r.removed=e,r;if("move"===t.op||"copy"===t.op)return r.newDocument=Gx(e,t.from),"move"===t.op&&(r.removed=e),r;if("test"===t.op){if(r.test=nE(e,t.value),!1===r.test)throw new qx("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return r.newDocument=e,r}if("remove"===t.op)return r.removed=e,r.newDocument=null,r;if("_get"===t.op)return t.value=e,r;if(n)throw new qx("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return r}{r||(e=zx(e));const i=(t.path||"").split("/");let s,l,c,u=e,d=1,f=i.length;for(c="function"==typeof n?n:eE;;){if(l=i[d],l&&-1!=l.indexOf("~")&&(l=Hx(l)),a&&("__proto__"==l||"prototype"==l&&d>0&&"constructor"==i[d-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===s&&(void 0===u[l]?s=i.slice(0,d).join("/"):d==f-1&&(s=t.path),void 0!==s&&c(t,0,e,s)),d++,Array.isArray(u)){if("-"===l)l=u.length;else{if(n&&!Dx(l))throw new qx("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Dx(l)&&(l=~~l)}if(d>=f){if(n&&"add"===t.op&&l>u.length)throw new qx("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);const r=Zx[t.op].call(t,u,l,e);if(!1===r.test)throw new qx("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return r}}else if(d>=f){const n=Xx[t.op].call(t,u,l,e);if(!1===n.test)throw new qx("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return n}if(u=u[l],n&&d<f&&(!u||"object"!==typeof u))throw new qx("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function Yx(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(n&&!Array.isArray(t))throw new qx("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=zx(e));const o=new Array(t.length);for(let i=0,s=t.length;i<s;i++)o[i]=Jx(e,t[i],n,!0,a,i),e=o[i].newDocument;return o.newDocument=e,o}function Qx(e,t,n){const r=Jx(e,t);if(!1===r.test)throw new qx("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function eE(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new qx("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!Xx[e.op])throw new qx("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new qx("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new qx('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new qx("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new qx("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Ux(e.value))throw new qx("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var a=e.path.split("/").length,o=r.split("/").length;if(a!==o+1&&a!==o)throw new qx("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new qx("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var i=tE([{op:"_get",path:e.from,value:void 0}],n);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new qx("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function tE(e,t,n){try{if(!Array.isArray(e))throw new qx("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Yx(zx(t),zx(e),n||!0);else{n=n||eE;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(KM){if(KM instanceof qx)return KM;throw KM}}function nE(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,a,o=Array.isArray(e),i=Array.isArray(t);if(o&&i){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!nE(e[n],t[n]))return!1;return!0}if(o!=i)return!1;var s=Object.keys(e);if((r=s.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=r;0!==n--;)if(!nE(e[a=s[n]],t[a]))return!1;return!0}return e!==e&&t!==t}new WeakMap;function rE(e,t,n,r,a){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var o=Fx(t),i=Fx(e),s=!1,l=i.length-1;l>=0;l--){var c=e[d=i[l]];if(!Lx(t,d)||void 0===t[d]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&n.push({op:"test",path:r+"/"+Bx(d),value:zx(c)}),n.push({op:"remove",path:r+"/"+Bx(d)}),s=!0):(a&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var u=t[d];"object"==typeof c&&null!=c&&"object"==typeof u&&null!=u&&Array.isArray(c)===Array.isArray(u)?rE(c,u,n,r+"/"+Bx(d),a):c!==u&&(a&&n.push({op:"test",path:r+"/"+Bx(d),value:zx(c)}),n.push({op:"replace",path:r+"/"+Bx(d),value:zx(u)}))}}if(s||o.length!=i.length)for(l=0;l<o.length;l++){var d;Lx(e,d=o[l])||void 0===t[d]||n.push({op:"add",path:r+"/"+Bx(d),value:zx(t[d])})}}}function aE(e,t){var n=[];return rE(e,t,n,"",arguments.length>2&&void 0!==arguments[2]&&arguments[2]),n}const oE=()=>"undefined"!==typeof Deno,iE=()=>{let e;return e="undefined"!==typeof window&&"undefined"!==typeof window.document?"browser":"undefined"===typeof process||"undefined"===typeof process.versions||"undefined"===typeof process.versions.node||oE()?"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":oE()?"deno":"other":"node",e};let sE;async function lE(){if(void 0===sE){const e=iE();sE={library:"langchain-js",runtime:e}}return sE}function cE(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]:void 0}catch(KM){return}}class uE{}class dE extends uE{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Z_(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:"false"===cE("LANGCHAIN_CALLBACKS_BACKGROUND")}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return G_.prototype.toJSON.call(this)}toJSONNotImplemented(){return G_.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends dE{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Rx()}),Object.assign(this,e)}}}}function fE(e,t){return e&&!Array.isArray(e)&&"object"===typeof e?e:{[t]:e}}function hE(e){return"function"===typeof e._addRunToRunMap}class pE extends dE{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`\n\n${e.stack}`:""):"string"===typeof e?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){const t=function(e,t,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return function(e){return e.replace(/[-:.]/g,"")}(`${new Date(e).toISOString().slice(0,-1)}${r}Z`)+t}(e.start_time,e.id,e.execution_order),n={...e};if(void 0!==n.parent_run_id){const e=this.runMap.get(n.parent_run_id);e&&(this._addChildRun(e,n),e.child_execution_order=Math.max(e.child_execution_order,n.child_execution_order),n.trace_id=e.trace_id,void 0!==e.dotted_order&&(n.dotted_order=[e.dotted_order,t].join(".")))}else n.trace_id=n.id,n.dotted_order=t;return this.runMap.set(n.id,n),n}async _endTrace(e){const t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await(this.onRunUpdate?.(e))}_getExecutionOrder(e){const t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,n,r,a,o,i,s){const l=this._getExecutionOrder(r),c=Date.now(),u=i?{...a,metadata:i}:a,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:u??{},tags:o||[]};return this._addRunToRunMap(d)}async handleLLMStart(e,t,n,r,a,o,i,s){const l=this.runMap.get(n)??this._createRunForLLMStart(e,t,n,r,a,o,i,s);return await(this.onRunCreate?.(l)),await(this.onLLMStart?.(l)),l}_createRunForChatModelStart(e,t,n,r,a,o,i,s){const l=this._getExecutionOrder(r),c=Date.now(),u=i?{...a,metadata:i}:a,d={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:u??{},tags:o||[]};return this._addRunToRunMap(d)}async handleChatModelStart(e,t,n,r,a,o,i,s){const l=this.runMap.get(n)??this._createRunForChatModelStart(e,t,n,r,a,o,i,s);return await(this.onRunCreate?.(l)),await(this.onLLMStart?.(l)),l}async handleLLMEnd(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onLLMEnd?.(n)),await this._endTrace(n),n}async handleLLMError(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onLLMError?.(n)),await this._endTrace(n),n}_createRunForChainStart(e,t,n,r,a,o,i,s){const l=this._getExecutionOrder(r),c=Date.now(),u={id:n,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:l,child_execution_order:l,run_type:i??"chain",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return this._addRunToRunMap(u)}async handleChainStart(e,t,n,r,a,o,i,s){const l=this.runMap.get(n)??this._createRunForChainStart(e,t,n,r,a,o,i,s);return await(this.onRunCreate?.(l)),await(this.onChainStart?.(l)),l}async handleChainEnd(e,t,n,r,a){const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=fE(e,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),void 0!==a?.inputs&&(o.inputs=fE(a.inputs,"input")),await(this.onChainEnd?.(o)),await this._endTrace(o),o}async handleChainError(e,t,n,r,a){const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),void 0!==a?.inputs&&(o.inputs=fE(a.inputs,"input")),await(this.onChainError?.(o)),await this._endTrace(o),o}_createRunForToolStart(e,t,n,r,a,o,i){const s=this._getExecutionOrder(r),l=Date.now(),c={id:n,name:i??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:t},execution_order:s,child_execution_order:s,run_type:"tool",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleToolStart(e,t,n,r,a,o,i){const s=this.runMap.get(n)??this._createRunForToolStart(e,t,n,r,a,o,i);return await(this.onRunCreate?.(s)),await(this.onToolStart?.(s)),s}async handleToolEnd(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onToolEnd?.(n)),await this._endTrace(n),n}async handleToolError(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onToolError?.(n)),await this._endTrace(n),n}async handleAgentAction(e,t){const n=this.runMap.get(t);if(!n||"chain"!==n?.run_type)return;const r=n;r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentAction?.(n))}async handleAgentEnd(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"agent_end",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentEnd?.(n)))}_createRunForRetrieverStart(e,t,n,r,a,o,i){const s=this._getExecutionOrder(r),l=Date.now(),c={id:n,name:i??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:t},execution_order:s,child_execution_order:s,run_type:"retriever",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,t,n,r,a,o,i){const s=this.runMap.get(n)??this._createRunForRetrieverStart(e,t,n,r,a,o,i);return await(this.onRunCreate?.(s)),await(this.onRetrieverStart?.(s)),s}async handleRetrieverEnd(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverEnd?.(n)),await this._endTrace(n),n}async handleRetrieverError(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverError?.(n)),await this._endTrace(n),n}async handleText(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"text",time:(new Date).toISOString(),kwargs:{text:e}}),await(this.onText?.(n)))}async handleLLMNewToken(e,t,n,r,a,o){const i=this.runMap.get(n);if(!i||"llm"!==i?.run_type)throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return i.events.push({name:"new_token",time:(new Date).toISOString(),kwargs:{token:e,idx:t,chunk:o?.chunk}}),await(this.onLLMNewToken?.(i,e,{chunk:o?.chunk})),i}}const mE={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var gE,vE=new Uint8Array(16);function yE(){if(!gE&&!(gE="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gE(vE)}for(var bE=[],wE=0;wE<256;++wE)bE.push((wE+256).toString(16).slice(1));function _E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(bE[e[t+0]]+bE[e[t+1]]+bE[e[t+2]]+bE[e[t+3]]+"-"+bE[e[t+4]]+bE[e[t+5]]+"-"+bE[e[t+6]]+bE[e[t+7]]+"-"+bE[e[t+8]]+bE[e[t+9]]+"-"+bE[e[t+10]]+bE[e[t+11]]+bE[e[t+12]]+bE[e[t+13]]+bE[e[t+14]]+bE[e[t+15]]).toLowerCase()}const xE=function(e,t,n){if(mE.randomUUID&&!t&&!e)return mE.randomUUID();var r=(e=e||{}).random||(e.rng||yE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return _E(r)};var EE=n(5623);const SE=function(){return fetch(...arguments)},kE=Symbol.for("ls:fetch_implementation"),OE=()=>globalThis[kE]??SE,CE=[400,401,403,404,405,406,407,408],PE=[409];class $E{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.queue=new EE.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=this.onFailedResponseHook;return this.queue.add((()=>Ex((()=>e(...n).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{async onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response,n=t?.status;if(n){if(CE.includes(+n))throw e;if(PE.includes(+n))return;a&&await a(t)}},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.signal?Promise.race([this.call(t,...r),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...r)}fetch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call((()=>OE()(...t).then((e=>e.ok?e:Promise.reject(e)))))}}function IE(e){return"function"===typeof e?._getType}function RE(e){const t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}let TE;const AE=()=>"undefined"!==typeof Deno,NE=()=>TE||(TE="undefined"!==typeof window&&"undefined"!==typeof window.document?"browser":"undefined"===typeof process||"undefined"===typeof process.versions||"undefined"===typeof process.versions.node||AE()?"object"===typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!==typeof window&&"nodejs"===window.name||"undefined"!==typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":AE()?"deno":"other":"node",TE);let jE,ME;async function LE(){if(void 0===jE){const e=NE(),t=function(){if(void 0!==ME)return ME;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const n of e){const e=zE(n);void 0!==e&&(t[n]=e)}return ME=t,t}();jE={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:pS,...t}}return jE}function FE(){try{return"undefined"!==typeof process?Object.entries({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).reduce(((e,t)=>{let[n,r]=t;return e[n]=String(r),e}),{}):void 0}catch(KM){return}}function zE(e){try{return"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]:void 0}catch(KM){return}}function DE(e){return zE(`LANGSMITH_${e}`)||zE(`LANGCHAIN_${e}`)}const BE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const HE=function(e){return"string"===typeof e&&BE.test(e)};function UE(e){if(!HE(e))throw new Error(`Invalid UUID: ${e}`)}const WE={};function VE(e){WE[e]||(console.warn(e),WE[e]=!0)}var qE=n(500);function KE(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[t,n]=e.split(":"),r=n||"latest";if(t.includes("/")){const[n,a]=t.split("/",2);if(!n||!a)throw new Error(`Invalid identifier format: ${e}`);return[n,a,r]}if(!t)throw new Error(`Invalid identifier format: ${e}`);return["-",t,r]}class XE extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}}async function ZE(e,t,n){let r;if(e.ok)return void(n&&(r=await e.text()));r=await e.text();const a=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Server response: ${r}`;if(409===e.status)throw new XE(a);throw new Error(a)}var GE="[...]",JE={result:"[Circular]"},YE=[],QE=[];function eS(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function tS(e,t,n,r){var a;"undefined"===typeof r&&(r=eS()),rS(e,"",0,[],void 0,0,r);try{a=0===QE.length?JSON.stringify(e,t,n):JSON.stringify(e,aS(t),n)}catch(i){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==YE.length;){var o=YE.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return a}function nS(e,t,n,r){var a=Object.getOwnPropertyDescriptor(r,n);void 0!==a.get?a.configurable?(Object.defineProperty(r,n,{value:e}),YE.push([r,n,t,a])):QE.push([t,n,e]):(r[n]=e,YE.push([r,n,t]))}function rS(e,t,n,r,a,o,i){var s;if(o+=1,"object"===typeof e&&null!==e){for(s=0;s<r.length;s++)if(r[s]===e)return void nS(JE,e,t,a);if("undefined"!==typeof i.depthLimit&&o>i.depthLimit)return void nS(GE,e,t,a);if("undefined"!==typeof i.edgesLimit&&n+1>i.edgesLimit)return void nS(GE,e,t,a);if(r.push(e),Array.isArray(e))for(s=0;s<e.length;s++)rS(e[s],s,s,r,e,o,i);else{var l=Object.keys(e);for(s=0;s<l.length;s++){var c=l[s];rS(e[c],c,s,r,e,o,i)}}r.pop()}}function aS(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,n){if(QE.length>0)for(var r=0;r<QE.length;r++){var a=QE[r];if(a[1]===t&&a[0]===n){n=a[2],QE.splice(r,1);break}}return e.call(this,t,n)}}async function oS(e){const t=await LE(),n=function(){const e=FE()||{},t={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,a]of Object.entries(e))!r.startsWith("LANGCHAIN_")||"string"!==typeof a||n.includes(r)||r.toLowerCase().includes("key")||r.toLowerCase().includes("secret")||r.toLowerCase().includes("token")||("LANGCHAIN_REVISION_ID"===r?t.revision_id=a:t[r]=a);return t}();return e.map((e=>{const r=e.extra??{},a=r.metadata;return e.extra={...r,runtime:{...t,...r?.runtime},metadata:{...n,...n.revision_id||e.revision_id?{revision_id:e.revision_id??n.revision_id}:{},...a}},e}))}function iS(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const sS=async e=>{if(429===e?.status){const t=1e3*parseInt(e.headers.get("retry-after")??"30",10);if(t>0)return await new Promise((e=>setTimeout(e,t))),!0}return!1};class lS{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise((t=>{this.items.push([e,t])}))}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const t=[];for(;t.length<e&&this.items.length;){const e=this.items.shift();if(!e)break;t.push(e)}return[t.map((e=>e[0])),()=>t.forEach((e=>e[1]()))]}}class cS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new lS}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=cS.getDefaultClientConfig();this.tracingSampleRate=(()=>{const e=DE("TRACING_SAMPLING_RATE");if(void 0===e)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t})(),this.apiUrl=iS(e.apiUrl??t.apiUrl)??"",this.apiKey=iS(e.apiKey??t.apiKey),this.webUrl=iS(e.webUrl??t.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new $E(e.callerOptions??{}),this.batchIngestCaller=new $E({...e.callerOptions??{},onFailedResponseHook:sS}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=DE("API_KEY");return{apiUrl:DE("ENDPOINT")??"https://api.smith.langchain.com",apiKey:e,webUrl:void 0,hideInputs:"true"===DE("HIDE_INPUTS"),hideOutputs:"true"===DE("HIDE_OUTPUTS")}}getHostUrl(){return this.webUrl?this.webUrl:(e=>{const t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return"localhost"===t||"127.0.0.1"===t||"::1"===t})(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${pS}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return!1===this.hideInputs?e:!0===this.hideInputs?{}:"function"===typeof this.hideInputs?this.hideInputs(e):e}processOutputs(e){return!1===this.hideOutputs?e:!0===this.hideOutputs?{}:"function"===typeof this.hideOutputs?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const t={...e};return void 0!==t.inputs&&(t.inputs=this.processInputs(t.inputs)),void 0!==t.outputs&&(t.outputs=this.processOutputs(t.outputs)),t}async _getResponse(e,t){const n=t?.toString()??"",r=`${this.apiUrl}${e}?${n}`,a=await this.caller.call(OE(),r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(a,`Failed to fetch ${e}`),a}async _get(e,t){return(await this._getResponse(e,t)).json()}_getPaginated(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams,r=arguments.length>2?arguments[2]:void 0;return async function*(){let a=Number(n.get("offset"))||0;const o=Number(n.get("limit"))||100;for(;;){n.set("offset",String(a)),n.set("limit",String(o));const i=`${t.apiUrl}${e}?${n}`,s=await t.caller.call(OE(),i,{method:"GET",headers:t.headers,signal:AbortSignal.timeout(t.timeout_ms),...t.fetchOptions});await ZE(s,`Failed to fetch ${e}`);const l=r?r(await s.json()):await s.json();if(0===l.length)break;if(yield l,l.length<o)break;a+=l.length}}()}catch(KM){return Promise.reject(KM)}}_getCursorPaginatedList(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"runs";return async function*(){const o=n?{...n}:{};for(;;){const n=await t.caller.call(OE(),`${t.apiUrl}${e}`,{method:r,headers:{...t.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(t.timeout_ms),...t.fetchOptions,body:JSON.stringify(o)}),i=await n.json();if(!i)break;if(!i[a])break;yield i[a];const s=i.cursors;if(!s)break;if(!s.next)break;o.cursor=s.next}}()}catch(KM){return Promise.reject(KM)}}_filterForSampling(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===this.tracingSampleRate)return e;if(t){const t=[];for(const n of e)this.filteredPostUuids.has(n.id)?this.filteredPostUuids.delete(n.id):t.push(n);return t}{const t=[];for(const n of e)n.id!==n.trace_id&&!this.filteredPostUuids.has(n.trace_id)||Math.random()<this.tracingSampleRate?t.push(n):this.filteredPostUuids.add(n.id);return t}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,t]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length)return void t();try{await this.batchIngestRuns({runCreates:e.filter((e=>"create"===e.action)).map((e=>e.item)),runUpdates:e.filter((e=>"update"===e.action)).map((e=>e.item))})}finally{t()}}}async processRunOperation(e,t){const n=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const r=this.autoBatchQueue.push(e);return(t||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout((()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)}),n?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),r}async _getServerInfo(){const e=await OE()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(e,"get server info"),e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch(KM){return!1}return!0}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async createRun(e){if(!this._filterForSampling([e]).length)return;const t={...this.headers,"Content-Type":"application/json"},n=e.project_name;delete e.project_name;const r=this.prepareRunCreateOrUpdateInputs({session_name:n,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&void 0!==r.trace_id&&void 0!==r.dotted_order)return void this.processRunOperation({action:"create",item:r}).catch(console.error);const a=await oS([r]),o=await this.caller.call(OE(),`${this.apiUrl}/runs`,{method:"POST",headers:t,body:tS(a[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(o,"create run",!0)}async batchIngestRuns(e){let{runCreates:t,runUpdates:n}=e;if(void 0===t&&void 0===n)return;let r=t?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[],a=n?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[];if(r.length>0&&a.length>0){const e=r.reduce(((e,t)=>t.id?(e[t.id]=t,e):e),{}),t=[];for(const n of a)void 0!==n.id&&e[n.id]?e[n.id]={...e[n.id],...n}:t.push(n);r=Object.values(e),a=t}const o={post:this._filterForSampling(r),patch:this._filterForSampling(a,!0)};if(!o.post.length&&!o.patch.length)return;if(r=await oS(r),void 0===this.batchEndpointSupported&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const e of o.post)await this.createRun(e);for(const e of o.patch)void 0!==e.id&&await this.updateRun(e.id,e);return}const i=this.serverInfo?.batch_ingest_config?.size_limit_bytes??20971520,s={post:[],patch:[]};let l=0;for(const c of["post","patch"]){const e=c,t=o[e].reverse();let n=t.pop();for(;void 0!==n;){const r=tS(n);l>0&&l+r.length>i&&(await this._postBatchIngestRuns(tS(s)),l=0,s.post=[],s.patch=[]),l+=r.length,s[e].push(n),n=t.pop()}}(s.post.length>0||s.patch.length>0)&&await this._postBatchIngestRuns(tS(s))}async _postBatchIngestRuns(e){const t={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(OE(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:t,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(n,"batch create run",!0)}async updateRun(e,t){UE(e),t.inputs&&(t.inputs=this.processInputs(t.inputs)),t.outputs&&(t.outputs=this.processOutputs(t.outputs));const n={...t,id:e};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&void 0!==n.trace_id&&void 0!==n.dotted_order)return void 0!==t.end_time&&void 0===n.parent_run_id?void await this.processRunOperation({action:"update",item:n},!0):void this.processRunOperation({action:"update",item:n}).catch(console.error);const r={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(OE(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:tS(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(a,"update run",!0)}async readRun(e){let{loadChildRuns:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loadChildRuns:!1};UE(e);let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl(e){let{runId:t,run:n,projectOpts:r}=e;if(void 0!==n){let e;if(n.session_id)e=n.session_id;else if(r?.projectName)e=(await this.readProject({projectName:r?.projectName})).id;else if(r?.projectId)e=r?.projectId;else{e=(await this.readProject({projectName:DE("PROJECT")||"default"})).id}const t=await this._getTenantId();return`${this.getHostUrl()}/o/${t}/projects/p/${e}/r/${n.id}?poll=true`}if(void 0!==t){const e=await this.readRun(t);if(!e.app_path)throw new Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${e.app_path}`}throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await async function(e){const t=[];for await(const n of e)t.push(n);return t}(this.listRuns({id:e.child_run_ids})),n={},r={};t.sort(((e,t)=>(e?.dotted_order??"").localeCompare(t?.dotted_order??"")));for(const a of t){if(null===a.parent_run_id||void 0===a.parent_run_id)throw new Error(`Child run ${a.id} has no parent`);a.parent_run_id in n||(n[a.parent_run_id]=[]),n[a.parent_run_id].push(a),r[a.id]=a}e.child_runs=n[e.id]||[];for(const a in n)a!==e.id&&(r[a].child_runs=n[a]);return e}async*listRuns(e){const{projectId:t,projectName:n,parentRunId:r,traceId:a,referenceExampleId:o,startTime:i,executionOrder:s,isRoot:l,runType:c,error:u,id:d,query:f,filter:h,traceFilter:p,treeFilter:m,limit:g,select:v}=e;let y=[];if(t&&(y=Array.isArray(t)?t:[t]),n){const e=Array.isArray(n)?n:[n],t=await Promise.all(e.map((e=>this.readProject({projectName:e}).then((e=>e.id)))));y.push(...t)}const b={session:y.length?y:null,run_type:c,reference_example:o,query:f,filter:h,trace_filter:p,tree_filter:m,execution_order:s,parent_run:r,start_time:i?i.toISOString():null,error:u,id:d,limit:g,trace:a,select:v||["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],is_root:l};let w=0;for await(const _ of this._getCursorPaginatedList("/runs/query",b))if(g){if(w>=g)break;if(_.length+w>g){const e=_.slice(0,g-w);yield*e;break}w+=_.length,yield*_}else yield*_}async getRunStats(e){let{id:t,trace:n,parentRun:r,runType:a,projectNames:o,projectIds:i,referenceExampleIds:s,startTime:l,endTime:c,error:u,query:d,filter:f,traceFilter:h,treeFilter:p,isRoot:m,dataSourceType:g}=e,v=i||[];o&&(v=[...i||[],...await Promise.all(o.map((e=>this.readProject({projectName:e}).then((e=>e.id)))))]);const y={id:t,trace:n,parent_run:r,run_type:a,session:v,reference_example:s,start_time:l,end_time:c,error:u,query:d,filter:f,trace_filter:h,tree_filter:p,is_root:m,data_source_type:g},b=Object.fromEntries(Object.entries(y).filter((e=>{let[t,n]=e;return void 0!==n}))),w=await this.caller.call(OE(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(b),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await w.json()}async shareRun(e){let{shareId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={run_id:e,share_token:t||xE()};UE(e);const r=await this.caller.call(OE(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await r.json();if(null===a||!("share_token"in a))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${a.share_token}/r`}async unshareRun(e){UE(e);const t=await this.caller.call(OE(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(t,"unshare run",!0)}async readRunSharedLink(e){UE(e);const t=await this.caller.call(OE(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await t.json();if(null!==n&&"share_token"in n)return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e){let{runIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams({share_token:e});if(void 0!==t)for(const a of t)n.append("id",a);UE(e);const r=await this.caller.call(OE(),`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await r.json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}UE(e);const n=await this.caller.call(OE(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");if(!e){e=(await this.readDataset({datasetName:t})).id}const n={dataset_id:e};UE(e);const r=await this.caller.call(OE(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await r.json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async unshareDataset(e){UE(e);const t=await this.caller.call(OE(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(t,"unshare dataset",!0)}async readSharedDataset(e){UE(e);const t=await this.caller.call(OE(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await t.json()}async listSharedExamples(e,t){const n={};t?.exampleIds&&(n.id=t.exampleIds);const r=new URLSearchParams;Object.entries(n).forEach((e=>{let[t,n]=e;Array.isArray(n)?n.forEach((e=>r.append(t,e))):r.append(t,n)}));const a=await this.caller.call(OE(),`${this.apiUrl}/public/${e}/examples?${r.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),o=await a.json();if(!a.ok){if("detail"in o)throw new Error(`Failed to list shared examples.\nStatus: ${a.status}\nMessage: ${o.detail.join("\n")}`);throw new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`)}return o.map((e=>({...e,_hostUrl:this.getHostUrl()})))}async createProject(e){let{projectName:t,description:n=null,metadata:r=null,upsert:a=!1,projectExtra:o=null,referenceDatasetId:i=null}=e;const s=a?"?upsert=true":"",l=`${this.apiUrl}/sessions${s}`,c=o||{};r&&(c.metadata=r);const u={name:t,extra:c,description:n};null!==i&&(u.reference_dataset_id=i);const d=await this.caller.call(OE(),l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(d,"create project");return await d.json()}async updateProject(e,t){let{name:n=null,description:r=null,metadata:a=null,projectExtra:o=null,endTime:i=null}=t;const s=`${this.apiUrl}/sessions/${e}`;let l=o;a&&(l={...l||{},metadata:a});const c={name:n,extra:l,description:r,end_time:i?new Date(i).toISOString():null},u=await this.caller.call(OE(),s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(u,"update project");return await u.json()}async hasProject(e){let{projectId:t,projectName:n}=e,r="/sessions";const a=new URLSearchParams;if(void 0!==t&&void 0!==n)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==t)UE(t),r+=`/${t}`;else{if(void 0===n)throw new Error("Must provide projectName or projectId");a.append("name",n)}const o=await this.caller.call(OE(),`${this.apiUrl}${r}?${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const e=await o.json();return!!o.ok&&(!Array.isArray(e)||e.length>0)}catch(KM){return!1}}async readProject(e){let{projectId:t,projectName:n,includeStats:r}=e,a="/sessions";const o=new URLSearchParams;if(void 0!==t&&void 0!==n)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==t)UE(t),a+=`/${t}`;else{if(void 0===n)throw new Error("Must provide projectName or projectId");o.append("name",n)}void 0!==r&&o.append("include_stats",r.toString());const i=await this._get(a,o);let s;if(Array.isArray(i)){if(0===i.length)throw new Error(`Project[id=${t}, name=${n}] not found`);s=i[0]}else s=i;return s}async getProjectUrl(e){let{projectId:t,projectName:n}=e;if(void 0===t&&void 0===n)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:t,projectName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${r.id}`}async getDatasetUrl(e){let{datasetId:t,datasetName:n}=e;if(void 0===t&&void 0===n)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:t,datasetName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/datasets/${r.id}`}async _getTenantId(){if(null!==this._tenantId)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}listProjects(){try{var e=this;let{projectIds:t,name:n,nameContains:r,referenceDatasetId:a,referenceDatasetName:o,referenceFree:i,metadata:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const l=new URLSearchParams;if(void 0!==t)for(const e of t)l.append("id",e);if(void 0!==n&&l.append("name",n),void 0!==r&&l.append("name_contains",r),void 0!==a)l.append("reference_dataset",a);else if(void 0!==o){const t=await e.readDataset({datasetName:o});l.append("reference_dataset",t.id)}void 0!==i&&l.append("reference_free",i.toString()),void 0!==s&&l.append("metadata",JSON.stringify(s));for await(const t of e._getPaginated("/sessions",l))yield*t}()}catch(KM){return Promise.reject(KM)}}async deleteProject(e){let t,{projectId:n,projectName:r}=e;if(void 0===n&&void 0===r)throw new Error("Must provide projectName or projectId");if(void 0!==n&&void 0!==r)throw new Error("Must provide either projectName or projectId, not both");t=void 0===n?(await this.readProject({projectName:r})).id:n,UE(t);const a=await this.caller.call(OE(),`${this.apiUrl}/sessions/${t}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(a,`delete session ${t} (${r})`,!0)}async uploadCsv(e){let{csvFile:t,fileName:n,inputKeys:r,outputKeys:a,description:o,dataType:i,name:s}=e;const l=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",t,n),r.forEach((e=>{c.append("input_keys",e)})),a.forEach((e=>{c.append("output_keys",e)})),o&&c.append("description",o),i&&c.append("data_type",i),s&&c.append("name",s);const u=await this.caller.call(OE(),l,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(u,"upload CSV");return await u.json()}async createDataset(e){let{description:t,dataType:n,inputsSchema:r,outputsSchema:a,metadata:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={name:e,description:t,extra:o?{metadata:o}:void 0};n&&(i.data_type=n),r&&(i.inputs_schema_definition=r),a&&(i.outputs_schema_definition=a);const s=await this.caller.call(OE(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(s,"create dataset");return await s.json()}async readDataset(e){let{datasetId:t,datasetName:n}=e,r="/datasets";const a=new URLSearchParams({limit:"1"});if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t)UE(t),r+=`/${t}`;else{if(void 0===n)throw new Error("Must provide datasetName or datasetId");a.append("name",n)}const o=await this._get(r,a);let i;if(Array.isArray(o)){if(0===o.length)throw new Error(`Dataset[id=${t}, name=${n}] not found`);i=o[0]}else i=o;return i}async hasDataset(e){let{datasetId:t,datasetName:n}=e;try{return await this.readDataset({datasetId:t,datasetName:n}),!0}catch(KM){if(KM instanceof Error&&KM.message.toLocaleLowerCase().includes("not found"))return!1;throw KM}}async diffDatasetVersions(e){let{datasetId:t,datasetName:n,fromVersion:r,toVersion:a}=e,o=t;if(void 0===o&&void 0===n)throw new Error("Must provide either datasetName or datasetId");if(void 0!==o&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===o){o=(await this.readDataset({datasetName:n})).id}const i=new URLSearchParams({from_version:"string"===typeof r?r:r.toISOString(),to_version:"string"===typeof a?a:a.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,i)}async readDatasetOpenaiFinetuning(e){let{datasetId:t,datasetName:n}=e;if(void 0!==t);else{if(void 0===n)throw new Error("Must provide datasetName or datasetId");t=(await this.readDataset({datasetName:n})).id}const r=await this._getResponse(`/datasets/${t}/openai_ft`),a=(await r.text()).trim().split("\n").map((e=>JSON.parse(e)));return a}listDatasets(){try{var e=this;let{limit:t=100,offset:n=0,datasetIds:r,datasetName:a,datasetNameContains:o,metadata:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const s=new URLSearchParams({limit:t.toString(),offset:n.toString()});if(void 0!==r)for(const e of r)s.append("id",e);void 0!==a&&s.append("name",a),void 0!==o&&s.append("name_contains",o),void 0!==i&&s.append("metadata",JSON.stringify(i));for await(const t of e._getPaginated("/datasets",s))yield*t}()}catch(KM){return Promise.reject(KM)}}async updateDataset(e){const{datasetId:t,datasetName:n,...r}=e;if(!t&&!n)throw new Error("Must provide either datasetName or datasetId");const a=t??(await this.readDataset({datasetName:n})).id;UE(a);const o=await this.caller.call(OE(),`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(o,"update dataset"),await o.json()}async deleteDataset(e){let{datasetId:t,datasetName:n}=e,r="/datasets",a=t;if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==n){a=(await this.readDataset({datasetName:n})).id}if(void 0===a)throw new Error("Must provide datasetName or datasetId");UE(a),r+=`/${a}`;const o=await this.caller.call(OE(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(o,`delete ${r}`),await o.json()}async indexDataset(e){let{datasetId:t,datasetName:n,tag:r}=e,a=t;if(!a&&!n)throw new Error("Must provide either datasetName or datasetId");if(a&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(!a){a=(await this.readDataset({datasetName:n})).id}UE(a);const o={tag:r},i=await this.caller.call(OE(),`${this.apiUrl}/datasets/${a}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(i,"index dataset"),await i.json()}async similarExamples(e,t,n){let{filter:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a={limit:n,inputs:e};void 0!==r&&(a.filter=r),UE(t);const o=await this.caller.call(OE(),`${this.apiUrl}/datasets/${t}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(o,"fetch similar examples");return(await o.json()).examples}async createExample(e,t,n){let{datasetId:r,datasetName:a,createdAt:o,exampleId:i,metadata:s,split:l,sourceRunId:c}=n,u=r;if(void 0===u&&void 0===a)throw new Error("Must provide either datasetName or datasetId");if(void 0!==u&&void 0!==a)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===u){u=(await this.readDataset({datasetName:a})).id}const d=o||new Date,f={dataset_id:u,inputs:e,outputs:t,created_at:d?.toISOString(),id:i,metadata:s,split:l,source_run_id:c},h=await this.caller.call(OE(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(h,"create example");return await h.json()}async createExamples(e){const{inputs:t,outputs:n,metadata:r,sourceRunIds:a,exampleIds:o,datasetId:i,datasetName:s}=e;let l=i;if(void 0===l&&void 0===s)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==s)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===l){const e=await this.readDataset({datasetName:s});l=e.id}const c=t.map(((t,i)=>({dataset_id:l,inputs:t,outputs:n?n[i]:void 0,metadata:r?r[i]:void 0,split:e.splits?e.splits[i]:void 0,id:o?o[i]:void 0,source_run_id:a?a[i]:void 0}))),u=await this.caller.call(OE(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(u,"create examples");return await u.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const r=e.map((e=>IE(e)?RE(e):e)),a=IE(t)?RE(t):t;return this.createExample({input:r},{output:a},n)}async readExample(e){UE(e);const t=`/examples/${e}`;return await this._get(t)}listExamples(){try{var e=this;let{datasetId:t,datasetName:n,exampleIds:r,asOf:a,splits:o,inlineS3Urls:i,metadata:s,limit:l,offset:c,filter:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){let d;if(void 0!==t&&void 0!==n)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t)d=t;else{if(void 0===n)throw new Error("Must provide a datasetName or datasetId");d=(await e.readDataset({datasetName:n})).id}const f=new URLSearchParams({dataset:d}),h=a?"string"===typeof a?a:a?.toISOString():void 0;h&&f.append("as_of",h);const p=i??!0;if(f.append("inline_s3_urls",p.toString()),void 0!==r)for(const e of r)f.append("id",e);if(void 0!==o)for(const e of o)f.append("splits",e);if(void 0!==s){const e=JSON.stringify(s);f.append("metadata",e)}void 0!==l&&f.append("limit",l.toString()),void 0!==c&&f.append("offset",c.toString()),void 0!==u&&f.append("filter",u);let m=0;for await(const t of e._getPaginated("/examples",f)){for(const e of t)yield e,m++;if(void 0!==l&&m>=l)break}}()}catch(KM){return Promise.reject(KM)}}async deleteExample(e){UE(e);const t=`/examples/${e}`,n=await this.caller.call(OE(),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(n,`delete ${t}`),await n.json()}async updateExample(e,t){UE(e);const n=await this.caller.call(OE(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(n,"update example");return await n.json()}async updateExamples(e){const t=await this.caller.call(OE(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(t,"update examples");return await t.json()}async listDatasetSplits(e){let t,{datasetId:n,datasetName:r,asOf:a}=e;if(void 0===n&&void 0===r)throw new Error("Must provide dataset name or ID");if(void 0!==n&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===n){t=(await this.readDataset({datasetName:r})).id}else t=n;UE(t);const o=new URLSearchParams,i=a?"string"===typeof a?a:a?.toISOString():void 0;i&&o.append("as_of",i);return await this._get(`/datasets/${t}/splits`,o)}async updateDatasetSplits(e){let t,{datasetId:n,datasetName:r,splitName:a,exampleIds:o,remove:i=!1}=e;if(void 0===n&&void 0===r)throw new Error("Must provide dataset name or ID");if(void 0!==n&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===n){t=(await this.readDataset({datasetName:r})).id}else t=n;UE(t);const s={split_name:a,examples:o.map((e=>(UE(e),e))),remove:i},l=await this.caller.call(OE(),`${this.apiUrl}/datasets/${t}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(l,"update dataset splits",!0)}async evaluateRun(e,t){let n,{sourceInfo:r,loadChildRuns:a,referenceExample:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loadChildRuns:!1};if(VE("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead."),"string"===typeof e)n=await this.readRun(e,{loadChildRuns:a});else{if("object"!==typeof e||!("id"in e))throw new Error("Invalid run type: "+typeof e);n=e}null!==n.reference_example_id&&void 0!==n.reference_example_id&&(o=await this.readExample(n.reference_example_id));const i=await t.evaluateRun(n,o),[s,l]=await this._logEvaluationFeedback(i,n,r);return l[0]}async createFeedback(e,t,n){let{score:r,value:a,correction:o,comment:i,sourceInfo:s,feedbackSourceType:l="api",sourceRunId:c,feedbackId:u,feedbackConfig:d,projectId:f,comparativeExperimentId:h}=n;if(!e&&!f)throw new Error("One of runId or projectId must be provided");if(e&&f)throw new Error("Only one of runId or projectId can be provided");const p={type:l??"api",metadata:s??{}};void 0===c||void 0===p?.metadata||p.metadata.__run||(p.metadata.__run={run_id:c}),void 0!==p?.metadata&&void 0!==p.metadata.__run?.run_id&&UE(p.metadata.__run.run_id);const m={id:u??xE(),run_id:e,key:t,score:r,value:a,correction:o,comment:i,feedback_source:p,comparative_experiment_id:h,feedbackConfig:d,session_id:f},g=`${this.apiUrl}/feedback`,v=await this.caller.call(OE(),g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(v,"create feedback",!0),m}async updateFeedback(e,t){let{score:n,value:r,correction:a,comment:o}=t;const i={};void 0!==n&&null!==n&&(i.score=n),void 0!==r&&null!==r&&(i.value=r),void 0!==a&&null!==a&&(i.correction=a),void 0!==o&&null!==o&&(i.comment=o),UE(e);const s=await this.caller.call(OE(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(s,"update feedback",!0)}async readFeedback(e){UE(e);const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){UE(e);const t=`/feedback/${e}`,n=await this.caller.call(OE(),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(n,`delete ${t}`),await n.json()}listFeedback(){try{var e=this;let{runIds:t,feedbackKeys:n,feedbackSourceTypes:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const a=new URLSearchParams;if(t&&a.append("run",t.join(",")),n)for(const e of n)a.append("key",e);if(r)for(const e of r)a.append("source",e);for await(const t of e._getPaginated("/feedback",a))yield*t}()}catch(KM){return Promise.reject(KM)}}async createPresignedFeedbackToken(e,t){let{expiration:n,feedbackConfig:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={run_id:e,feedback_key:t,feedback_config:r};n?"string"===typeof n?a.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(a.expires_in=n):a.expires_in={hours:3};const o=await this.caller.call(OE(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await o.json()}async createComparativeExperiment(e){let{name:t,experimentIds:n,referenceDatasetId:r,createdAt:a,description:o,metadata:i,id:s}=e;if(0===n.length)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),null==!r)throw new Error("A reference dataset is required");const l={id:s,name:t,experiment_ids:n,reference_dataset_id:r,description:o,created_at:(a??new Date)?.toISOString(),extra:{}};i&&(l.extra.metadata=i);const c=await this.caller.call(OE(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await c.json()}async*listPresignedFeedbackTokens(e){UE(e);const t=new URLSearchParams({run_id:e});for await(const n of this._getPaginated("/feedback/tokens",t))yield*n}_selectEvalResults(e){let t;return t="results"in e?e.results:[e],t}async _logEvaluationFeedback(e,t,n){const r=this._selectEvalResults(e),a=[];for(const o of r){let e=n||{};o.evaluatorInfo&&(e={...o.evaluatorInfo,...e});let r=null;o.targetRunId?r=o.targetRunId:t&&(r=t.id),a.push(await this.createFeedback(r,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:e,sourceRunId:o.sourceRunId,feedbackConfig:o.feedbackConfig,feedbackSourceType:"model"}))}return[r,a]}async logEvaluationFeedback(e,t,n){const[r]=await this._logEvaluationFeedback(e,t,n);return r}async _currentTenantIsOwner(e){const t=await this._getSettings();return"-"==e||t.tenant_handle===e}async _ownerConflictError(e,t){const n=await this._getSettings();return new Error(`Cannot ${e} for another tenant.\n\n      Current tenant: ${n.tenant_handle}\n\n      Requested tenant: ${t}`)}async _getLatestCommitHash(e){const t=await this.caller.call(OE(),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await t.json();if(!t.ok){const e="string"===typeof n.detail?n.detail:JSON.stringify(n.detail),r=new Error(`Error ${t.status}: ${t.statusText}\n${e}`);throw r.statusCode=t.status,r}if(0!==n.commits.length)return n.commits[0].commit_hash}async _likeOrUnlikePrompt(e,t){const[n,r,a]=KE(e),o=await this.caller.call(OE(),`${this.apiUrl}/likes/${n}/${r}`,{method:"POST",body:JSON.stringify({like:t}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(o,(t?"like":"unlike")+" prompt"),await o.json()}async _getPromptUrl(e){const[t,n,r]=KE(e);if(await this._currentTenantIsOwner(t)){const e=await this._getSettings();return"latest"!==r?`${this.getHostUrl()}/prompts/${n}/${r.substring(0,8)}?organizationId=${e.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${e.id}`}return"latest"!==r?`${this.getHostUrl()}/hub/${t}/${n}/${r.substring(0,8)}`:`${this.getHostUrl()}/hub/${t}/${n}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const t of this._getPaginated(`/commits/${e}/`,{},(e=>e.commits)))yield*t}async*listPrompts(e){const t=new URLSearchParams;t.append("sort_field",e?.sortField??"updated_at"),t.append("sort_direction","desc"),t.append("is_archived",(!!e?.isArchived).toString()),void 0!==e?.isPublic&&t.append("is_public",e.isPublic.toString()),e?.query&&t.append("query",e.query);for await(const n of this._getPaginated("/repos",t,(e=>e.repos)))yield*n}async getPrompt(e){const[t,n,r]=KE(e),a=await this.caller.call(OE(),`${this.apiUrl}/repos/${t}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(404===a.status)return null;await ZE(a,"get prompt");const o=await a.json();return o.repo?o.repo:null}async createPrompt(e,t){const n=await this._getSettings();if(t?.isPublic&&!n.tenant_handle)throw new Error("Cannot create a public prompt without first\n\n        creating a LangChain Hub handle. \n        You can add a handle by creating a public prompt at:\n\n        https://smith.langchain.com/prompts");const[r,a,o]=KE(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("create a prompt",r);const i={repo_handle:a,...t?.description&&{description:t.description},...t?.readme&&{readme:t.readme},...t?.tags&&{tags:t.tags},is_public:!!t?.isPublic},s=await this.caller.call(OE(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(s,"create prompt");const{repo:l}=await s.json();return l}async createCommit(e,t,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,a,o]=KE(e),i="latest"!==n?.parentCommitHash&&n?.parentCommitHash?n?.parentCommitHash:await this._getLatestCommitHash(`${r}/${a}`),s={manifest:JSON.parse(JSON.stringify(t)),parent_commit:i},l=await this.caller.call(OE(),`${this.apiUrl}/commits/${r}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(l,"create commit");const c=await l.json();return this._getPromptUrl(`${r}/${a}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updatePrompt(e,t){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r]=KE(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);const a={};if(void 0!==t?.description&&(a.description=t.description),void 0!==t?.readme&&(a.readme=t.readme),void 0!==t?.tags&&(a.tags=t.tags),void 0!==t?.isPublic&&(a.is_public=t.isPublic),void 0!==t?.isArchived&&(a.is_archived=t.isArchived),0===Object.keys(a).length)throw new Error("No valid update options provided");const o=await this.caller.call(OE(),`${this.apiUrl}/repos/${n}/${r}`,{method:"PATCH",body:JSON.stringify(a),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ZE(o,"update prompt"),o.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[t,n,r]=KE(e);if(!await this._currentTenantIsOwner(t))throw await this._ownerConflictError("delete a prompt",t);const a=await this.caller.call(OE(),`${this.apiUrl}/repos/${t}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await a.json()}async pullPromptCommit(e,t){const[n,r,a]=KE(e);let o=a;if(!function(e,t){const n=(0,qE.parse)(e),r=(0,qE.parse)(t);if(!n||!r)throw new Error("Invalid version format.");return n.compare(r)>=0}((await this._getServerInfo()).version,"0.5.23")&&"latest"===a){const e=await this._getLatestCommitHash(`${n}/${r}`);if(!e)throw new Error("No commits found");o=e}const i=await this.caller.call(OE(),`${this.apiUrl}/commits/${n}/${r}/${o}${t?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ZE(i,"pull prompt commit");const s=await i.json();return{owner:n,repo:r,commit_hash:s.commit_hash,manifest:s.manifest,examples:s.examples}}async _pullPrompt(e,t){const n=await this.pullPromptCommit(e,{includeModel:t?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(e,t){if(await this.promptExists(e)?t&&Object.keys(t).some((e=>"object"!==e))&&await this.updatePrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}):await this.createPrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}),!t?.object)return await this._getPromptUrl(e);return await this.createCommit(e,t?.object,{parentCommitHash:t?.parentCommitHash})}async clonePublicDataset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceApiUrl:n=this.apiUrl,datasetName:r}=t,[a,o]=this.parseTokenOrUrl(e,n),i=new cS({apiUrl:a,apiKey:"placeholder"}),s=await i.readSharedDataset(o),l=r||s.name;try{if(await this.hasDataset({datasetId:l}))return void console.log(`Dataset ${l} already exists in your tenant. Skipping.`)}catch(d){}const c=await i.listSharedExamples(o),u=await this.createDataset(l,{description:s.description,dataType:s.data_type||"kv",inputsSchema:s.inputs_schema_definition??void 0,outputsSchema:s.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map((e=>e.inputs)),outputs:c.flatMap((e=>e.outputs?[e.outputs]:[])),datasetId:u.id})}catch(KM){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),KM}}parseTokenOrUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dataset";try{return UE(e),[t,e]}catch(a){}try{const a=new URL(e).pathname.split("/").filter((e=>""!==e));if(a.length>=n){return[t,a[a.length-n]]}throw new Error(`Invalid public ${r} URL: ${e}`)}catch(o){throw new Error(`Invalid public ${r} URL or token: ${e}`)}}}class uS{constructor(e,t){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=t}static fromHeader(e){const t=e.split(",");let n={},r=[];for(const a of t){const[e,t]=a.split("="),o=decodeURIComponent(t);"langsmith-metadata"===e?n=JSON.parse(o):"langsmith-tags"===e&&(r=o.split(","))}return new uS(n,r)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}}class dS{constructor(e){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=dS.getDefaultConfig(),{metadata:n,...r}=e,a=r.client??new cS,o={...n,...r?.extra?.metadata};if(r.extra={...r.extra,metadata:o},Object.assign(this,{...t,...r,client:a}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order){const e=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1).toFixed(0).slice(0,3).padStart(3,"0");return function(e){return e.replace(/[-:.]/g,"")}(`${new Date(e).toISOString().slice(0,-1)}${n}Z`)+t}(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+e:this.dotted_order=e}}static getDefaultConfig(){return{id:xE(),run_type:"chain",project_name:zE("LANGCHAIN_PROJECT")??zE("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:zE("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:zE("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}createChild(e){const t=this.child_execution_order+1,n=new dS({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:t,child_execution_order:t}),r=Symbol.for("lc:child_config"),a=e.extra?.[r]??this.extra[r];if(void 0!==(o=a)&&"object"===typeof o.callbacks&&(hS(o.callbacks?.handlers)||hS(o.callbacks))){const e={...a},t=function(e){return"object"===typeof e&&null!=e&&Array.isArray(e.handlers)}(e.callbacks)?e.callbacks.copy?.():void 0;t&&(Object.assign(t,{_parentRunId:n.id}),t.handlers?.find(fS)?.updateFromRunTree?.(n),e.callbacks=t),n.extra[r]=e}var o;const i=new Set;let s=this;for(;null!=s&&!i.has(s.id);)i.add(s.id),s.child_execution_order=Math.max(s.child_execution_order,t),s=s.parent_run;return this.child_runs.push(n),n}async end(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();this.outputs=this.outputs??e,this.error=this.error??t,this.end_time=this.end_time??n}_convertToCreate(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.extra??{};if(r.runtime||(r.runtime={}),t)for(const[i,s]of Object.entries(t))r.runtime[i]||(r.runtime[i]=s);let a,o;n?(o=e.parent_run?.id,a=[]):(a=e.child_runs.map((e=>this._convertToCreate(e,t,n))),o=void 0);return{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:r,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:o,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags}}async postRun(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=await LE(),n=await this._convertToCreate(this,t,!0);if(await this.client.createRun(n),!e){VE("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const e of this.child_runs)await e.postRun(!1)}}async patchRun(){const e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags};await this.client.updateRun(this.id,e)}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,t){const n=e?.callbacks;let r,a,o,i=(e=>void 0!==e?e:!!["TRACING_V2","TRACING"].find((e=>"true"===DE(e))))();if(n){const e=n?.getParentRunId?.()??"",t=n?.handlers?.find((e=>"langchain_tracer"==e?.name));r=t?.getRun?.(e),a=t?.projectName,o=t?.client,i=i||!!t}if(!r)return new dS({...t,client:o,tracingEnabled:i,project_name:a});return new dS({name:r.name,id:r.id,trace_id:r.trace_id,dotted_order:r.dotted_order,client:o,tracingEnabled:i,project_name:a,tags:[...new Set((r?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...r?.extra?.metadata,...e?.metadata}}}).createChild(t)}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,t){const n="get"in e&&"function"===typeof e.get?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,r=n["langsmith-trace"];if(!r||"string"!==typeof r)return;const a=r.trim(),o=a.split(".").map((e=>{const[t,n]=e.split("Z");return{strTime:t,time:Date.parse(t+"Z"),uuid:n}})),i=o[0].uuid,s={...t,name:t?.name??"parent",run_type:t?.run_type??"chain",start_time:t?.start_time??Date.now(),id:o.at(-1)?.uuid,trace_id:i,dotted_order:a};if(n.baggage&&"string"===typeof n.baggage){const e=uS.fromHeader(n.baggage);s.metadata=e.metadata,s.tags=e.tags}return new dS(s)}toHeaders(e){const t={"langsmith-trace":this.dotted_order,baggage:new uS(this.extra?.metadata,this.tags).toHeader()};if(e)for(const[n,r]of Object.entries(t))e.set(n,r);return t}}function fS(e){return"object"===typeof e&&null!=e&&"string"===typeof e.name&&"langchain_tracer"===e.name}function hS(e){return Array.isArray(e)&&e.some((e=>fS(e)))}const pS="0.1.56";var mS=n(6503);function gS(e,t){return`${e.open}${t}${e.close}`}function vS(e,t){try{return JSON.stringify(e,null,2)}catch(n){return t}}function yS(e){return"string"===typeof e?e.trim():null===e||void 0===e?e:vS(e,e.toString())}function bS(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:wS}=mS;class _S extends pE{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const e=this.runMap.get(n.parent_run_id);if(!e)break;t.push(e),n=e}return t}getBreadcrumbs(e){const t=[...this.getParents(e).reverse(),e].map(((e,t,n)=>{const r=`${e.execution_order}:${e.run_type}:${e.name}`;return t===n.length-1?gS(mS.bold,r):r})).join(" > ");return gS(wS.grey,t)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.green,"[chain/start]")} [${t}] Entering Chain run with input: ${vS(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.cyan,"[chain/end]")} [${t}] [${bS(e)}] Exiting Chain run with output: ${vS(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.red,"[chain/error]")} [${t}] [${bS(e)}] Chain run errored with error: ${vS(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map((e=>e.trim()))}:e.inputs;console.log(`${gS(wS.green,"[llm/start]")} [${t}] Entering LLM run with input: ${vS(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.cyan,"[llm/end]")} [${t}] [${bS(e)}] Exiting LLM run with output: ${vS(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.red,"[llm/error]")} [${t}] [${bS(e)}] LLM run errored with error: ${vS(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.green,"[tool/start]")} [${t}] Entering Tool run with input: "${yS(e.inputs.input)}"`)}onToolEnd(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.cyan,"[tool/end]")} [${t}] [${bS(e)}] Exiting Tool run with output: "${yS(e.outputs?.output)}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.red,"[tool/error]")} [${t}] [${bS(e)}] Tool run errored with error: ${vS(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${vS(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.cyan,"[retriever/end]")} [${t}] [${bS(e)}] Exiting Retriever run with output: ${vS(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${gS(wS.red,"[retriever/error]")} [${t}] [${bS(e)}] Retriever run errored with error: ${vS(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${gS(wS.blue,"[agent/action]")} [${n}] Agent selected action: ${vS(t.actions[t.actions.length-1],"[action]")}`)}}class xS extends pE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:r}=e;this.projectName=n??cE("LANGCHAIN_PROJECT")??cE("LANGCHAIN_SESSION"),this.exampleId=t,this.client=r??new cS({});const a=xS.getTraceableRunTree();a&&this.updateFromRunTree(a)}async _convertToCreate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{...e,extra:{...e.extra,runtime:await lE()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async onRunCreate(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async onRunUpdate(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,t)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let t=e;const n=new Set;for(;t.parent_run&&!n.has(t.id)&&(n.add(t.id),t.parent_run);)t=t.parent_run;n.clear();const r=[t];for(;r.length>0;){const e=r.shift();e&&!n.has(e.id)&&(n.add(e.id),this.runMap.set(e.id,e),e.child_runs&&r.push(...e.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const t={},n=[];for(const[r,a]of this.runMap){const e=new dS({...a,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});t[r]=e,n.push([r,a.dotted_order])}n.sort(((e,t)=>e[1]&&t[1]?e[1].localeCompare(t[1]):0));for(const[r]of n){const e=this.runMap.get(r),n=t[r];if(e&&n&&e.parent_run_id){const r=t[e.parent_run_id];r&&(r.child_runs.push(n),n.parent_run=r)}}return t[e]}static getTraceableRunTree(){try{return(()=>{const e=Nx.getInstance().getStore();if(void 0===e)throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join("\n"));return e})()}catch{return}}}let ES;async function SS(e,t){!0===t?await e():("undefined"===typeof ES&&(ES=new(0,EE.default)({autoStart:!0,concurrency:1})),ES.add(e))}function kS(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}class OS{setHandler(e){return this.setHandlers([e])}}class CS{constructor(e,t,n,r,a,o,i,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map((t=>SS((async()=>{try{await(t.handleText?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleCustomEvent(e,t,n,r,a){await Promise.all(this.handlers.map((n=>SS((async()=>{try{await(n.handleCustomEvent?.(e,t,this.runId,this.tags,this.metadata))}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleCustomEvent: ${r}`),n.raiseError)throw r}}),n.awaitHandlers))))}}class PS extends CS{getChild(e){const t=new TS(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleRetrieverError(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${n}`),t.raiseError)throw e}}),t.awaitHandlers))))}}class $S extends CS{async handleLLMNewToken(e,t,n,r,a,o){await Promise.all(this.handlers.map((n=>SS((async()=>{if(!n.ignoreLLM)try{await(n.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,o))}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${r}`),n.raiseError)throw r}}),n.awaitHandlers))))}async handleLLMError(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleLLMEnd(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class IS extends CS{getChild(e){const t=new TS(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,r,a){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreChain)try{await(t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,a))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleChainEnd(e,t,n,r,a){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreChain)try{await(t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,a))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentAction(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}async handleAgentEnd(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class RS extends CS{getChild(e){const t=new TS(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreAgent)try{await(t.handleToolError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleToolEnd(e){await Promise.all(this.handlers.map((t=>SS((async()=>{if(!t.ignoreAgent)try{await(t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(n){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${n}`),t.raiseError)throw n}}),t.awaitHandlers))))}}class TS extends OS{constructor(e,t){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=t?.handlers??this.handlers,this.inheritableHandlers=t?.inheritableHandlers??this.inheritableHandlers,this.tags=t?.tags??this.tags,this.inheritableTags=t?.inheritableTags??this.inheritableTags,this.metadata=t?.metadata??this.metadata,this.inheritableMetadata=t?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return Promise.all(t.map((async(t,o)=>{const i=0===o&&n?n:Rx();return await Promise.all(this.handlers.map((n=>{if(!n.ignoreLLM)return hE(n)&&n._createRunForLLMStart(e,[t],i,this._parentRunId,r,this.tags,this.metadata,a),SS((async()=>{try{await(n.handleLLMStart?.(e,[t],i,this._parentRunId,r,this.tags,this.metadata,a))}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMStart: ${o}`),n.raiseError)throw o}}),n.awaitHandlers)}))),new $S(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChatModelStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return Promise.all(t.map((async(t,o)=>{const i=0===o&&n?n:Rx();return await Promise.all(this.handlers.map((n=>{if(!n.ignoreLLM)return hE(n)&&n._createRunForChatModelStart(e,[t],i,this._parentRunId,r,this.tags,this.metadata,a),SS((async()=>{try{if(n.handleChatModelStart)await(n.handleChatModelStart?.(e,[t],i,this._parentRunId,r,this.tags,this.metadata,a));else if(n.handleLLMStart){const o=_x(t);await(n.handleLLMStart?.(e,[o],i,this._parentRunId,r,this.tags,this.metadata,a))}}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleLLMStart: ${o}`),n.raiseError)throw o}}),n.awaitHandlers)}))),new $S(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChainStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rx(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((o=>{if(!o.ignoreChain)return hE(o)&&o._createRunForChainStart(e,t,n,this._parentRunId,this.tags,this.metadata,r,a),SS((async()=>{try{await(o.handleChainStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r,a))}catch(i){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleChainStart: ${i}`),o.raiseError)throw i}}),o.awaitHandlers)}))),new IS(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rx(),r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((a=>{if(!a.ignoreAgent)return hE(a)&&a._createRunForToolStart(e,t,n,this._parentRunId,this.tags,this.metadata,r),SS((async()=>{try{await(a.handleToolStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleToolStart: ${o}`),a.raiseError)throw o}}),a.awaitHandlers)}))),new RS(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rx(),r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return await Promise.all(this.handlers.map((a=>{if(!a.ignoreRetriever)return hE(a)&&a._createRunForRetrieverStart(e,t,n,this._parentRunId,this.tags,this.metadata,r),SS((async()=>{try{await(a.handleRetrieverStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,r))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleRetrieverStart: ${o}`),a.raiseError)throw o}}),a.awaitHandlers)}))),new PS(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,t,n,r,a){await Promise.all(this.handlers.map((r=>SS((async()=>{if(!r.ignoreCustomEvent)try{await(r.handleCustomEvent?.(e,t,n,this.tags,this.metadata))}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${a}`),r.raiseError)throw a}}),r.awaitHandlers))))}addHandler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e)),this.inheritableHandlers=this.inheritableHandlers.filter((t=>t!==e))}setHandlers(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter((t=>!e.includes(t))),this.inheritableTags=this.inheritableTags.filter((t=>!e.includes(t)))}addMetadata(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new TS(this._parentRunId);for(const r of this.handlers){const e=this.inheritableHandlers.includes(r);n.addHandler(r,e)}for(const r of this.tags){const e=this.inheritableTags.includes(r);n.addTags([r],e)}for(const r of Object.keys(this.metadata)){const e=Object.keys(this.inheritableMetadata).includes(r);n.addMetadata({[r]:this.metadata[r]},e)}for(const r of e)n.handlers.filter((e=>"console_callback_handler"===e.name)).some((e=>e.name===r.name))||n.addHandler(r,t);return n}static fromHandlers(e){const t=new this;return t.addHandler(new class extends dE{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Rx()}),Object.assign(this,e)}}),t}static configure(e,t,n,r,a,o,i){return this._configureSync(e,t,n,r,a,o,i)}static _configureSync(e,t,n,r,a,o,i){let s;(e||t)&&(Array.isArray(e)||!e?(s=new TS,s.setHandlers(e?.map(AS)??[],!0)):s=e,s=s.copy(Array.isArray(t)?t.map(AS):t?.handlers,!1));const l="true"===cE("LANGCHAIN_VERBOSE")||i?.verbose,c=xS.getTraceableRunTree()?.tracingEnabled||(e=>void 0!==e?e:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((e=>"true"===cE(e))))(),u=c||(cE("LANGCHAIN_TRACING")??!1);if(l||u){if(s||(s=new TS),l&&!s.handlers.some((e=>e.name===_S.prototype.name))){const e=new _S;s.addHandler(e,!0)}if(u&&!s.handlers.some((e=>"langchain_tracer"===e.name))&&c){const e=new xS;s.addHandler(e,!0),s._parentRunId=xS.getTraceableRunTree()?.id??s._parentRunId}}return(n||r)&&s&&(s.addTags(n??[]),s.addTags(r??[],!1)),(a||o)&&s&&(s.addMetadata(a??{}),s.addMetadata(o??{},!1)),s}}function AS(e){return"name"in e?e:dE.fromMethods(e)}const NS=new class{getStore(){}run(e,t){return t()}},jS=Symbol.for("ls:tracing_async_local_storage"),MS=Symbol.for("lc:child_config");const LS=new class{getInstance(){return globalThis[jS]??NS}getRunnableConfig(){const e=this.getInstance();return e.getStore()?.extra?.[MS]}runWithConfig(e,t,n){const r=TS._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),a=this.getInstance(),o=r?.getParentRunId(),i=r?.handlers?.find((e=>"langchain_tracer"===e?.name));let s;return i&&o?s=i.convertToRunTree(o):n||(s=new dS({name:"<runnable_lambda>",tracingEnabled:!1})),s&&(s.extra={...s.extra,[MS]:e}),a.run(s,t)}initializeGlobalInstance(e){void 0===globalThis[jS]&&(globalThis[jS]=e)}};async function FS(e,t){if(void 0===t)return e;let n;return Promise.race([e.catch((e=>{if(!t?.aborted)throw e})),new Promise(((e,r)=>{n=()=>{r(new Error("Aborted"))},t.addEventListener("abort",n),t.aborted&&r(new Error("Aborted"))}))]).finally((()=>t.removeEventListener("abort",n)))}class zS extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(KM){throw this.reader.releaseLock(),KM}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const t=e.getReader();return new zS({start:e=>function n(){return t.read().then((t=>{let{done:r,value:a}=t;if(!r)return e.enqueue(a),n();e.close()}))}(),cancel(){t.releaseLock()}})}static fromAsyncGenerator(e){return new zS({async pull(t){const{value:n,done:r}=await e.next();r&&t.close(),t.enqueue(n)},async cancel(t){await e.return(t)}})}}function DS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=Array.from({length:t},(()=>[]));return n.map((async function*(t){for(;;)if(0===t.length){const t=await e.next();for(const e of n)e.push(t)}else{if(t[0].done)return;yield t.shift().value}}))}function BS(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if("string"===typeof e&&"string"===typeof t)return e+t;if("number"===typeof e&&"number"===typeof t)return e+t;if("concat"in e&&"function"===typeof e.concat)return e.concat(t);if("object"===typeof e&&"object"===typeof t){const n={...e};for(const[e,r]of Object.entries(t))e in n&&!Array.isArray(n[e])?n[e]=BS(n[e],r):n[e]=r;return n}throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}class HS{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise(((t,n)=>{LS.runWithConfig(e.config,(async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,n):this.firstResult.then((e=>t(void 0)),n)}),!0)}))}async next(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.signal?.throwIfAborted(),this.firstResultUsed?LS.runWithConfig(this.config,this.signal?async()=>FS(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}class US{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),n=Yx({},t);return new WS({ops:t,state:n[n.length-1].newDocument})}}class WS extends US{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=Yx(this.state,e.ops);return new WS({ops:t,state:n[n.length-1].newDocument})}static fromRunLogPatch(e){const t=Yx({},e.ops);return new WS({ops:e.ops,state:t[t.length-1].newDocument})}}const VS=e=>"log_stream_tracer"===e.name;async function qS(e,t){if("original"===t)throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=e;return["retriever","llm","prompt"].includes(e.run_type)?n:1!==Object.keys(n).length||""!==n?.input?n.input:void 0}async function KS(e,t){const{outputs:n}=e;return"original"===t||["retriever","llm","prompt"].includes(e.run_type)?n:void 0!==n&&1===Object.keys(n).length&&void 0!==n?.output?n.output:n}class XS extends pE{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=zS.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.run_type)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.run_type)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){for await(const n of t){if(e!==this.rootId){const t=this.keyMapByRunId[e];t&&await this.writer.write(new US({ops:[{op:"add",path:`/logs/${t}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(e){if(void 0===this.rootId&&(this.rootId=e.id,await this.writer.write(new US({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;void 0===this.counterMapByRunName[e.name]&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=1===t?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};"streaming_events"===this._schemaFormat&&(n.inputs=await qS(e,this._schemaFormat)),await this.writer.write(new US({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(void 0===t)return;const n=[];"streaming_events"===this._schemaFormat&&n.push({op:"replace",path:`/logs/${t}/inputs`,value:await qS(e,this._schemaFormat)}),n.push({op:"add",path:`/logs/${t}/final_output`,value:await KS(e,this._schemaFormat)}),void 0!==e.end_time&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const r=new US({ops:n});await this.writer.write(r)}finally{if(e.id===this.rootId){const t=new US({ops:[{op:"replace",path:"/final_output",value:await KS(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,n){const r=this.keyMapByRunId[e.id];if(void 0===r)return;let a;var o;void 0!==e.inputs.messages?(o=n?.chunk,a=void 0!==o&&void 0!==o.message?n?.chunk:new lx({id:`run-${e.id}`,content:t})):a=t;const i=new US({ops:[{op:"add",path:`/logs/${r}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${r}/streamed_output/-`,value:a}]});await this.writer.write(i)}}const ZS="__run";class GS{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new GS({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class JS extends GS{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new JS({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function YS(e){let{name:t,serialized:n}=e;return void 0!==t?t:void 0!==n?.name?n.name:void 0!==n?.id&&Array.isArray(n?.id)?n.id[n.id.length-1]:"Unnamed"}const QS=e=>"event_stream_tracer"===e.name;class ek extends pE{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=zS.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const t=e.tags??[];let n=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(e.runType)),void 0!==this.includeTags&&(n=n||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(e.runType)),void 0!==this.excludeTags&&(n=n&&t.every((e=>!this.excludeTags?.includes(e)))),n}async*tapOutputIterable(e,t){const n=await t.next();if(n.done)return;const r=this.runInfoMap.get(e);if(void 0===r)return void(yield n.value);function a(e,t){return"llm"===e&&"string"===typeof t?new GS({text:t}):t}let o=this.tappedPromises.get(e);if(void 0===o){let i;o=new Promise((e=>{i=e})),this.tappedPromises.set(e,o);try{const o={event:`on_${r.runType}_stream`,run_id:e,name:r.name,tags:r.tags,metadata:r.metadata,data:{}};await this.send({...o,data:{chunk:a(r.runType,n.value)}},r),yield n.value;for await(const e of t)"tool"!==r.runType&&"retriever"!==r.runType&&await this.send({...o,data:{chunk:a(r.runType,e)}},r),yield e}finally{i()}}else{yield n.value;for await(const e of t)yield e}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){const n=this.tappedPromises.get(e.run_id);void 0!==n?n.then((()=>{this.send(e,t)})):await this.send(e,t)}async onLLMStart(e){const t=YS(e),n=void 0!==e.inputs.messages?"chat_model":"llm",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:n,inputs:e.inputs};this.runInfoMap.set(e.id,r);const a=`on_${n}_start`;await this.send({event:a,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onLLMNewToken(e,t,n){const r=this.runInfoMap.get(e.id);let a,o;if(void 0===r)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(void 0!==e.parent_run_id){if("chat_model"===r.runType)o="on_chat_model_stream",a=void 0===n?.chunk?new lx({content:t,id:`run-${e.id}`}):n.chunk.message;else{if("llm"!==r.runType)throw new Error(`Unexpected run type ${r.runType}`);o="on_llm_stream",a=void 0===n?.chunk?new GS({text:t}):n.chunk}await this.send({event:o,data:{chunk:a},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}}async onLLMEnd(e){const t=this.runInfoMap.get(e.id);let n;if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const r=e.outputs?.generations;let a;if("chat_model"===t.runType){for(const e of r??[]){if(void 0!==a)break;a=e[0]?.message}n="on_chat_model_end"}else{if("llm"!==t.runType)throw new Error(`onLLMEnd: Unexpected run type: ${t.runType}`);a={generations:r?.map((e=>e.map((e=>({text:e.text,generationInfo:e.generationInfo}))))),llmOutput:e.outputs?.llmOutput??{}},n="on_llm_end"}await this.sendEndEvent({event:n,data:{output:a,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){const t=YS(e),n=e.run_type??"chain",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type};let a={};""===e.inputs.input&&1===Object.keys(e.inputs).length?(a={},r.inputs={}):void 0!==e.inputs.input?(a.input=e.inputs.input,r.inputs=e.inputs.input):(a.input=e.inputs,r.inputs=e.inputs),this.runInfoMap.set(e.id,r),await this.send({event:`on_${n}_start`,data:a,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onChainEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const n=`on_${e.run_type}_end`,r=e.inputs??t.inputs??{},a={output:e.outputs?.output??e.outputs,input:r};r.input&&1===Object.keys(r).length&&(a.input=r.input,t.inputs=r.input),await this.sendEndEvent({event:n,data:a,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){const t=YS(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,n),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},n)}async onToolEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(void 0===t.inputs)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const n=void 0===e.outputs?.output?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){const t=YS(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,n),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onRetrieverEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,n){const r=this.runInfoMap.get(n);if(void 0===r)throw new Error(`handleCustomEvent: Run ID ${n} not found in run map.`);await this.send({event:"on_custom_event",run_id:n,name:e,tags:r.tags,metadata:r.metadata,data:t},r)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally((()=>{this.writer.close()}))}}async function tk(e){return TS._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function nk(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n.filter((e=>!!e)))for(const t of Object.keys(a))if("metadata"===t)e[t]={...e[t],...a[t]};else if("tags"===t){const n=e[t]??[];e[t]=[...new Set(n.concat(a[t]??[]))]}else if("configurable"===t)e[t]={...e[t],...a[t]};else if("timeout"===t)void 0===e.timeout?e.timeout=a.timeout:void 0!==a.timeout&&(e.timeout=Math.min(e.timeout,a.timeout));else if("signal"===t)void 0===e.signal?e.signal=a.signal:void 0!==a.signal&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,a.signal]):e.signal=a.signal);else if("callbacks"===t){const t=e.callbacks,n=a.callbacks;if(Array.isArray(n))if(t)if(Array.isArray(t))e.callbacks=t.concat(n);else{const r=t.copy();for(const e of n)r.addHandler(AS(e),!0);e.callbacks=r}else e.callbacks=n;else if(n)if(t)if(Array.isArray(t)){const r=n.copy();for(const e of t)r.addHandler(AS(e),!0);e.callbacks=r}else e.callbacks=new TS(n._parentRunId,{handlers:t.handlers.concat(n.handlers),inheritableHandlers:t.inheritableHandlers.concat(n.inheritableHandlers),tags:Array.from(new Set(t.tags.concat(n.tags))),inheritableTags:Array.from(new Set(t.inheritableTags.concat(n.inheritableTags))),metadata:{...t.metadata,...n.metadata}});else e.callbacks=n}else{const n=t;e[n]=a[n]??e[n]}return e}const rk=new Set(["string","number","boolean"]);function ak(e){const t=LS.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){const{runId:e,runName:r,...a}=t;n=Object.entries(a).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e}),n)}if(e&&(n=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e}),n)),n?.configurable)for(const r of Object.keys(n.configurable))rk.has(typeof n.configurable[r])&&!n.metadata?.[r]&&(n.metadata||(n.metadata={}),n.metadata[r]=n.configurable[r]);if(void 0!==n.timeout){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const e=AbortSignal.timeout(n.timeout);void 0!==n.signal?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,e])):n.signal=e,delete n.timeout}return n}function ok(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{callbacks:t,maxConcurrency:n,recursionLimit:r,runName:a,configurable:o,runId:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=ak(e);return void 0!==t&&(delete s.runName,s.callbacks=t),void 0!==r&&(s.recursionLimit=r),void 0!==n&&(s.maxConcurrency=n),void 0!==a&&(s.runName=a),void 0!==o&&(s.configurable={...s.configurable,...o}),void 0!==i&&delete s.runId,s}const ik=[400,401,402,403,404,405,406,407,409],sk=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||"AbortError"===e.name)throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status??e?.status;if(t&&ik.includes(+t))throw e;if("insufficient_quota"===e?.error?.code){const t=new Error(e?.message);throw t.name="InsufficientQuotaError",t}};class lk{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??sk;const t=EE.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.queue.add((()=>Ex((()=>e(...n).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.signal?Promise.race([this.call(t,...r),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...r)}fetch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call((()=>fetch(...t).then((e=>e.ok?e:Promise.reject(e)))))}}class ck extends pE{constructor(e){let{config:t,onStart:n,onEnd:r,onError:a}=e;super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=t,this.argOnStart=n,this.argOnEnd=r,this.argOnError=a}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function uk(e){return!!e&&e.lc_runnable}class dk{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let n=void 0===this.includeNames&&void 0===this.includeTypes&&void 0===this.includeTags;const r=e.tags??[];return void 0!==this.includeNames&&(n=n||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(n=n||this.includeTypes.includes(t)),void 0!==this.includeTags&&(n=n||r.some((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(n=n&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(n=n&&!this.excludeTypes.includes(t)),void 0!==this.excludeTags&&(n=n&&r.every((e=>!this.excludeTags?.includes(e)))),n}}const fk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const hk=function(e){return"string"===typeof e&&fk.test(e)};function pk(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}function mk(e,t){return[t[e.source]??e.source,t[e.target]??e.target]}function gk(e,t,n){const{firstNodeLabel:r,lastNodeLabel:a,nodeColors:o,withStyles:i=!0,curveStyle:s="linear",wrapLabelNWords:l=9}=n??{};let c=i?`%%{init: {'flowchart': {'curve': '${s}'}}}%%\ngraph TD;\n`:"graph TD;\n";if(i){const t="default",n={[t]:"{0}([{1}]):::otherclass"};void 0!==r&&(n[r]="{0}[{0}]:::startclass"),void 0!==a&&(n[a]="{0}[{0}]:::endclass");for(const r of Object.values(e)){const e=n[r]??n[t],a=pk(r),o=r.split(":"),i=o[o.length-1];c+=`\t${e.replace(/\{0\}/g,a).replace(/\{1\}/g,i)};\n`}}let u="";for(const d of t){const t=d.source.includes(":")?d.source.split(":")[0]:void 0,n=d.target.includes(":")?d.target.split(":")[0]:void 0;""===u||u===t&&u===n||(c+="\tend\n",u=""),""===u&&void 0!==t&&t===n&&(c=`\tsubgraph ${t}\n`,u=t);const[r,a]=mk(d,e);let o="";if(void 0!==d.data){let e=d.data;const t=e.split(" ");t.length>l&&(e=t.reduce(((e,t,n)=>(n%l===0&&e.push(""),e[e.length-1]+=` ${t}`,e)),[]).join("<br>")),o=d.conditional?` -. ${e} .-> `:` -- ${e} --\x3e `}else o=d.conditional?" -.-> ":" --\x3e ";c+=`\t${pk(r)}${o}${pk(a)};\n`}return""!==u&&(c+="end\n"),i&&void 0!==o&&(c+=function(e){let t="";for(const[n,r]of Object.entries(e))t+=`\tclassDef ${n}class fill:${r};\n`;return t}(o)),c}function vk(e){if(!hk(e.id))return e.id;if(!uk(e.data))return e.data.name??"UnknownSchema";try{let t=e.data.getName();return t=t.startsWith("Runnable")?t.slice(8):t,t.length>42&&(t=`${t.substring(0,42)}...`),t}catch(t){return e.data.getName()}}function yk(e){return uk(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...B_(e.data.schema),title:e.data.name}}}class bk{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach(((t,n)=>{e[t.id]=hk(t.id)?n:t.id})),{nodes:Object.values(this.nodes).map((t=>({id:e[t.id],...yk(t)}))),edges:this.edges.map((t=>{const n={source:e[t.source],target:e[t.target]};return"undefined"!==typeof t.data&&(n.data=t.data),"undefined"!==typeof t.conditional&&(n.conditional=t.conditional),n}))}}addNode(e,t){if(void 0!==t&&void 0!==this.nodes[t])throw new Error(`Node with id ${t} already exists`);const n=t||Rx(),r={id:n,data:e};return this.nodes[n]=r,r}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter((t=>t.source!==e.id&&t.target!==e.id))}addEdge(e,t,n,r){if(void 0===this.nodes[e.id])throw new Error(`Source node ${e.id} not in graph`);if(void 0===this.nodes[t.id])throw new Error(`Target node ${t.id} not in graph`);const a={source:e.id,target:t.id,data:n,conditional:r};return this.edges.push(a),a}firstNode(){const e=new Set(this.edges.map((e=>e.target))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}lastNode(){const e=new Set(this.edges.map((e=>e.source))),t=[];return Object.values(this.nodes).forEach((n=>{e.has(n.id)||t.push(n)})),t[0]}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=Object.values(e.nodes).map((e=>e.id));n.every(hk)&&(t="");const r=e=>t?`${t}:${e}`:e;Object.entries(e.nodes).forEach((e=>{let[t,n]=e;this.nodes[r(t)]={...n,id:r(t)}}));const a=e.edges.map((e=>({...e,source:r(e.source),target:r(e.target)})));this.edges=[...this.edges,...a];const o=e.firstNode(),i=e.lastNode();return[o?{id:r(o.id),data:o.data}:void 0,i?{id:r(i.id),data:i.data}:void 0]}trimFirstNode(){const e=this.firstNode();if(e){const t=this.edges.filter((t=>t.source===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const t=this.edges.filter((t=>t.target===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}drawMermaid(e){const{withStyles:t,curveStyle:n,nodeColors:r={start:"#ffdfba",end:"#baffc9",other:"#fad7de"},wrapLabelNWords:a}=e??{},o={};for(const u of Object.values(this.nodes))o[u.id]=vk(u);const i=this.firstNode(),s=i?vk(i):void 0,l=this.lastNode(),c=l?vk(l):void 0;return gk(o,this.edges,{firstNodeLabel:s,lastNodeLabel:c,withStyles:t,curveStyle:n,nodeColors:r,wrapLabelNWords:a})}async drawMermaidPng(e){return async function(e,t){let{backgroundColor:n="white"}=t??{};const r=btoa(e);void 0!==n&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${r}?bgColor=${n}`,o=await fetch(a);if(!o.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join("\n"));return await o.blob()}(this.drawMermaid(e),{backgroundColor:e?.backgroundColor})}}function wk(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.iterator]&&"function"===typeof e.next}function _k(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator]}function*xk(e,t){for(;;){const{value:n,done:r}=LS.runWithConfig(e,t.next.bind(t),!0);if(r)break;yield n}}async function*Ek(e,t){const n=t[Symbol.asyncIterator]();for(;;){const{value:r,done:a}=await LS.runWithConfig(e,n.next.bind(t),!0);if(a)break;yield r}}function Sk(e,t){return!e||Array.isArray(e)||e instanceof Date||"object"!==typeof e?{[t]:e}:e}class kk extends G_{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}bind(e){return new Ok({bound:this,kwargs:e,config:{}})}map(){return new Ck({bound:this})}withRetry(e){return new Pk({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Ok({bound:this,config:e,kwargs:{}})}withFallbacks(e){const t=Array.isArray(e)?e:e.fallbacks;return new Ak({runnable:this,fallbacks:t})}_getOptionsList(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(e)&&e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(ak);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const n=Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"runId"!==t})));return Array.from({length:t},((t,r)=>ak(0===r?e:n)))}return Array.from({length:t},(()=>ak(e)))}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),a=r[0]?.maxConcurrency??n?.maxConcurrency,o=new lk({maxConcurrency:a,onFailedAttempt:e=>{throw e}}),i=e.map(((e,t)=>o.call((async()=>{try{return await this.invoke(e,r[t])}catch(KM){if(n?.returnExceptions)return KM;throw KM}}))));return Promise.all(i)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){const n=ak(t),r=new HS({generator:this._streamIterator(e,n),config:n});return await r.setup,zS.fromAsyncGenerator(r)}_separateRunnableConfigFromCallOptions(e){let t;t=ak(void 0===e?e:{callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,delete n.timeout,delete n.signal,[t,n]}async _callWithConfig(e,t,n){const r=ak(n),a=await tk(r),o=await(a?.handleChainStart(this.toJSON(),Sk(t,"input"),r.runId,r?.runType,void 0,void 0,r?.runName??this.getName()));let i;delete r.runId;try{const a=e.call(this,t,r,o);i=await FS(a,n?.signal)}catch(KM){throw await(o?.handleChainError(KM)),KM}return await(o?.handleChainEnd(Sk(i,"output"))),i}async _batchWithConfig(e,t,n,r){const a=this._getOptionsList(n??{},t.length),o=await Promise.all(a.map(tk)),i=await Promise.all(o.map((async(e,n)=>{const r=await(e?.handleChainStart(this.toJSON(),Sk(t[n],"input"),a[n].runId,a[n].runType,void 0,void 0,a[n].runName??this.getName()));return delete a[n].runId,r})));let s;try{const n=e.call(this,t,a,i,r);s=await FS(n,a?.[0]?.signal)}catch(KM){throw await Promise.all(i.map((t=>t?.handleChainError(KM)))),KM}return await Promise.all(i.map((e=>e?.handleChainEnd(Sk(s,"output"))))),s}async*_transformStreamWithConfig(e,t,n){let r,a,o=!0,i=!0;const s=ak(n),l=await tk(s);let c;try{const u=await async function(e,t,n,r){const a=new HS({generator:t,startSetup:n,signal:r}),o=await a.setup;for(var i=arguments.length,s=new Array(i>4?i-4:0),l=4;l<i;l++)s[l-4]=arguments[l];return{output:e(a,o,...s),setup:o}}(t.bind(this),async function*(){for await(const t of e){if(o)if(void 0===r)r=t;else try{r=BS(r,t)}catch{r=void 0,o=!1}yield t}}(),(async()=>l?.handleChainStart(this.toJSON(),{input:""},s.runId,s.runType,void 0,void 0,s.runName??this.getName())),n?.signal,s);delete s.runId,c=u.setup;const d=c?.handlers.find(QS);let f=u.output;void 0!==d&&void 0!==c&&(f=d.tapOutputIterable(c.runId,f));const h=c?.handlers.find(VS);void 0!==h&&void 0!==c&&(f=h.tapOutputIterable(c.runId,f));for await(const e of f)if(yield e,i)if(void 0===a)a=e;else try{a=BS(a,e)}catch{a=void 0,i=!1}}catch(KM){throw await(c?.handleChainError(KM,void 0,void 0,void 0,{inputs:Sk(r,"input")})),KM}await(c?.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:Sk(r,"input")}))}getGraph(e){const t=new bk,n=t.addNode({name:`${this.getName()}Input`,schema:w_.any()}),r=t.addNode(this),a=t.addNode({name:`${this.getName()}Output`,schema:w_.any()});return t.addEdge(n,r),t.addEdge(r,a),t}pipe(e){return new $k({first:this,last:Nk(e)})}pick(e){return this.pipe(new Mk(e))}assign(e){return this.pipe(new jk(new Ik({steps:e})))}async*transform(e,t){let n;for await(const r of e)n=void 0===n?r:BS(n,r);yield*this._streamIterator(n,ak(t))}async*streamLog(e,t,n){const r=new XS({...n,autoClose:!1,_schemaFormat:"original"}),a=ak(t);yield*this._streamLog(e,r,a)}async*_streamLog(e,t,n){const{callbacks:r}=n;if(void 0===r)n.callbacks=[t];else if(Array.isArray(r))n.callbacks=r.concat([t]);else{const e=r.copy();e.inheritableHandlers.push(t),n.callbacks=e}const a=this.stream(e,n);const o=async function(){try{const e=await a;for await(const n of e){const e=new US({ops:[{op:"add",path:"/streamed_output/-",value:n}]});await t.writer.write(e)}}finally{await t.writer.close()}}();try{for await(const e of t)yield e}finally{await o}}streamEvents(e,t,n){let r;if("v1"===t.version)r=this._streamEventsV1(e,t,n);else{if("v2"!==t.version)throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');r=this._streamEventsV2(e,t,n)}return"text/event-stream"===t.encoding?function(e){const t=new TextEncoder,n=new ReadableStream({async start(n){for await(const r of e)n.enqueue(t.encode(`event: data\ndata: ${JSON.stringify(r)}\n\n`));n.enqueue(t.encode("event: end\n\n")),n.close()}});return zS.fromReadableStream(n)}(r):zS.fromAsyncGenerator(r)}async*_streamEventsV2(e,t,n){const r=new ek({...n,autoClose:!1}),a=ak(t),o=a.runId??Rx();a.runId=o;const i=a.callbacks;if(void 0===i)a.callbacks=[r];else if(Array.isArray(i))a.callbacks=i.concat(r);else{const e=i.copy();e.inheritableHandlers.push(r),a.callbacks=e}const s=this;const l=async function(){try{const t=await s.stream(e,a),n=r.tapOutputIterable(o,t);for await(const e of n);}finally{await r.finish()}}();let c,u=!1;try{for await(const t of r)u?(t.run_id===c&&t.event.endsWith("_end")&&t.data?.input&&delete t.data.input,yield t):(t.data.input=e,u=!0,c=t.run_id,yield t)}finally{await l}}async*_streamEventsV1(e,t,n){let r,a=!1;const o=ak(t),i=o.tags??[],s=o.metadata??{},l=o.runName??this.getName(),c=new XS({...n,autoClose:!1,_schemaFormat:"streaming_events"}),u=new dk({...n}),d=this._streamLog(e,c,o);for await(const h of d){if(r=r?r.concat(h):WS.fromRunLogPatch(h),void 0===r.state)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const t={...r.state},n={run_id:t.id,event:`on_${t.type}_start`,name:l,tags:i,metadata:s,data:{input:e}};u.includeEvent(n,t.type)&&(yield n)}const t=h.ops.filter((e=>e.path.startsWith("/logs/"))).map((e=>e.path.split("/")[2])),n=[...new Set(t)];for(const e of n){let t,n={};const a=r.state.logs[e];if(t=void 0===a.end_time?a.streamed_output.length>0?"stream":"start":"end","start"===t)void 0!==a.inputs&&(n.input=a.inputs);else if("end"===t)void 0!==a.inputs&&(n.input=a.inputs),n.output=a.final_output;else if("stream"===t){const e=a.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${a.name}"`);n={chunk:a.streamed_output[0]},a.streamed_output=[]}yield{event:`on_${a.type}_${t}`,name:a.name,run_id:a.id,tags:a.tags,metadata:a.metadata,data:n}}const{state:o}=r;if(o.streamed_output.length>0){const e=o.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${o.name}"`);const t={chunk:o.streamed_output[0]};o.streamed_output=[];const n={event:`on_${o.type}_stream`,run_id:o.id,tags:i,metadata:s,name:l,data:t};u.includeEvent(n,o.type)&&(yield n)}}const f=r?.state;if(void 0!==f){const e={event:`on_${f.type}_end`,name:l,run_id:f.id,tags:i,metadata:s,data:{output:f.final_output}};u.includeEvent(e,f.type)&&(yield e)}}static isRunnable(e){return uk(e)}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new Ok({bound:this,config:{},configFactories:[e=>({callbacks:[new ck({config:e,onStart:t,onEnd:n,onError:r})]})]})}asTool(e){return function(e,t){const n=t.name??e.getName(),r=t.description??t.schema?.description;if(t.schema.constructor===w_.ZodString)return new Lk({name:n,description:r,schema:w_.object({input:w_.string()}).transform((e=>e.input)),bound:e});return new Lk({name:n,description:r,schema:t.schema,bound:e})}(this,e)}}class Ok extends kk{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=nk(this.config,...t);return nk(r,...this.configFactories?await Promise.all(this.configFactories.map((async e=>await e(r)))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig(ak(t),this.kwargs))}async batch(e,t,n){const r=Array.isArray(t)?await Promise.all(t.map((async e=>this._mergeConfig(ak(e),this.kwargs)))):await this._mergeConfig(ak(t),this.kwargs);return this.bound.batch(e,r,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig(ak(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig(ak(t),this.kwargs))}async*transform(e,t){yield*this.bound.transform(e,await this._mergeConfig(ak(t),this.kwargs))}streamEvents(e,t,n){const r=this;return zS.fromAsyncGenerator(async function*(){yield*r.bound.streamEvents(e,{...await r._mergeConfig(ak(t),r.kwargs),version:t.version},n)}())}static isRunnableBinding(e){return e.bound&&kk.isRunnable(e.bound)}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new Ok({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[e=>({callbacks:[new ck({config:e,onStart:t,onEnd:n,onError:r})]})]})}}class Ck extends kk{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Ck({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _invoke(e,t,n){return this.bound.batch(e,ok(t,{callbacks:n?.getChild()}))}withListeners(e){let{onStart:t,onEnd:n,onError:r}=e;return new Ck({bound:this.bound.withListeners({onStart:t,onEnd:n,onError:r})})}}class Pk extends Ok{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const r=e>1?`retry:attempt:${e}`:void 0;return ok(t,{callbacks:n?.getChild(r)})}async _invoke(e,t,n){return Ex((r=>super.invoke(e,this._patchConfigForRetry(r,t,n))),{onFailedAttempt:t=>this.onFailedAttempt(t,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,n,r){const a={};try{await Ex((async o=>{const i=e.map(((e,t)=>t)).filter((e=>void 0===a[e.toString()]||a[e.toString()]instanceof Error)),s=i.map((t=>e[t])),l=i.map((e=>this._patchConfigForRetry(o,t?.[e],n?.[e]))),c=await super.batch(s,l,{...r,returnExceptions:!0});let u;for(let e=0;e<c.length;e+=1){const t=c[e],n=i[e];t instanceof Error&&void 0===u&&(u=t,u.input=s[e]),a[n.toString()]=t}if(u)throw u;return c}),{onFailedAttempt:e=>this.onFailedAttempt(e,e.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(KM){if(!0!==r?.returnExceptions)throw KM}return Object.keys(a).sort(((e,t)=>parseInt(e,10)-parseInt(t,10))).map((e=>a[parseInt(e,10)]))}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class $k extends kk{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=ak(t),r=await tk(n),a=await(r?.handleChainStart(this.toJSON(),Sk(e,"input"),n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;let o,i=e;try{const e=[this.first,...this.middle];for(let r=0;r<e.length;r+=1){const o=e[r].invoke(i,ok(n,{callbacks:a?.getChild(`seq:step:${r+1}`)}));i=await FS(o,t?.signal)}if(t?.signal?.aborted)throw new Error("Aborted");o=await this.last.invoke(i,ok(n,{callbacks:a?.getChild(`seq:step:${this.steps.length}`)}))}catch(KM){throw await(a?.handleChainError(KM)),KM}return await(a?.handleChainEnd(Sk(o,"output"))),o}async batch(e,t,n){const r=this._getOptionsList(t??{},e.length),a=await Promise.all(r.map(tk)),o=await Promise.all(a.map((async(t,n)=>{const a=await(t?.handleChainStart(this.toJSON(),Sk(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,a})));let i=e;try{for(let e=0;e<this.steps.length;e+=1){const t=this.steps[e].batch(i,o.map(((t,n)=>{const a=t?.getChild(`seq:step:${e+1}`);return ok(r[n],{callbacks:a})})),n);i=await FS(t,r[0]?.signal)}}catch(KM){throw await Promise.all(o.map((t=>t?.handleChainError(KM)))),KM}return await Promise.all(o.map((e=>e?.handleChainEnd(Sk(i,"output"))))),i}async*_streamIterator(e,t){const n=await tk(t),{runId:r,...a}=t??{},o=await(n?.handleChainStart(this.toJSON(),Sk(e,"input"),r,void 0,void 0,void 0,a?.runName)),i=[this.first,...this.middle,this.last];let s,l=!0;try{let n=i[0].transform(async function*(){yield e}(),ok(a,{callbacks:o?.getChild("seq:step:1")}));for(let e=1;e<i.length;e+=1){const t=i[e];n=await t.transform(n,ok(a,{callbacks:o?.getChild(`seq:step:${e+1}`)}))}for await(const e of n)if(t?.signal?.throwIfAborted(),yield e,l)if(void 0===s)s=e;else try{s=BS(s,e)}catch(KM){s=void 0,l=!1}}catch(KM){throw await(o?.handleChainError(KM)),KM}await(o?.handleChainEnd(Sk(s,"output")))}getGraph(e){const t=new bk;let n=null;return this.steps.forEach(((r,a)=>{const o=r.getGraph(e);0!==a&&o.trimFirstNode(),a!==this.steps.length-1&&o.trimLastNode(),t.extend(o);const i=o.firstNode();if(!i)throw new Error(`Runnable ${r} has no first node`);n&&t.addEdge(n,i),n=o.lastNode()})),t}pipe(e){return $k.isRunnableSequence(e)?new $k({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new $k({first:this.first,middle:[...this.middle,this.last],last:Nk(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&kk.isRunnable(e)}static from(e,t){let[n,...r]=e;return new $k({first:Nk(n),middle:r.slice(0,-1).map(Nk),last:Nk(r[r.length-1]),name:t})}}class Ik extends kk{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=Nk(n)}static from(e){return new Ik({steps:e})}async invoke(e,t){const n=ak(t),r=await tk(n),a=await(r?.handleChainStart(this.toJSON(),{input:e},n.runId,void 0,void 0,void 0,n?.runName));delete n.runId;const o={};try{const r=Object.entries(this.steps).map((async t=>{let[r,i]=t;o[r]=await i.invoke(e,ok(n,{callbacks:a?.getChild(`map:key:${r}`)}))}));await FS(Promise.all(r),t?.signal)}catch(KM){throw await(a?.handleChainError(KM)),KM}return await(a?.handleChainEnd(o)),o}async*_transform(e,t,n){const r={...this.steps},a=DS(e,Object.keys(r).length),o=new Map(Object.entries(r).map(((e,r)=>{let[o,i]=e;const s=i.transform(a[r],ok(n,{callbacks:t?.getChild(`map:key:${o}`)}));return[o,s.next().then((e=>({key:o,gen:s,result:e})))]})));for(;o.size;){const e=Promise.race(o.values()),{key:t,result:r,gen:a}=await FS(e,n?.signal);o.delete(t),r.done||(yield{[t]:r.value},o.set(t,a.next().then((e=>({key:t,gen:a,result:e})))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=ak(t),r=new HS({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,zS.fromAsyncGenerator(r)}}class Rk extends kk{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!jx(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){const[n]=this._getOptionsList(t??{},1),r=await tk(n);return FS(this.func(ok(n,{callbacks:r}),e),n?.signal)}async*_streamIterator(e,t){const[n]=this._getOptionsList(t??{},1),r=await this.invoke(e,t);var a;if(_k(r))for await(const o of r)n?.signal?.throwIfAborted(),yield o;else if(null!=(a=r)&&"object"===typeof a&&"next"in a&&"function"===typeof a.next)for(;;){n?.signal?.throwIfAborted();const e=r.next();if(e.done)break;yield e.value}else yield r}static from(e){return new Rk({func:e})}}class Tk extends kk{static lc_name(){return"RunnableLambda"}constructor(e){if(jx(e.func))return Rk.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){if(jx(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}(e.func),this.func=e.func}static from(e){return new Tk({func:e})}async _invoke(e,t,n){return new Promise(((r,a)=>{const o=ok(t,{callbacks:n?.getChild(),recursionLimit:(t?.recursionLimit??25)-1});LS.runWithConfig(o,(async()=>{try{let n=await this.func(e,{...o,config:o});if(n&&kk.isRunnable(n)){if(0===t?.recursionLimit)throw new Error("Recursion limit reached.");n=await n.invoke(e,{...o,recursionLimit:(o.recursionLimit??25)-1})}else if(_k(n)){let e;for await(const r of Ek(o,n))if(t?.signal?.throwIfAborted(),void 0===e)e=r;else try{e=BS(e,r)}catch(KM){e=r}n=e}else if(wk(n)){let e;for(const r of xk(o,n))if(t?.signal?.throwIfAborted(),void 0===e)e=r;else try{e=BS(e,r)}catch(KM){e=r}n=e}r(n)}catch(KM){a(KM)}}))}))}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async*_transform(e,t,n){let r;for await(const i of e)if(void 0===r)r=i;else try{r=BS(r,i)}catch(KM){r=i}const a=ok(n,{callbacks:t?.getChild(),recursionLimit:(n?.recursionLimit??25)-1}),o=await new Promise(((e,t)=>{LS.runWithConfig(a,(async()=>{try{const t=await this.func(r,{...a,config:a});e(t)}catch(KM){t(KM)}}))}));if(o&&kk.isRunnable(o)){if(0===n?.recursionLimit)throw new Error("Recursion limit reached.");const e=await o.stream(r,a);for await(const t of e)yield t}else if(_k(o))for await(const i of Ek(a,o))n?.signal?.throwIfAborted(),yield i;else if(wk(o))for(const i of xk(a,o))n?.signal?.throwIfAborted(),yield i;else yield o}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=ak(t),r=new HS({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,zS.fromAsyncGenerator(r)}}class Ak extends kk{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=ak(t),r=await tk(t),{runId:a,...o}=n,i=await(r?.handleChainStart(this.toJSON(),Sk(e,"input"),a,void 0,void 0,void 0,o?.runName));let s;for(const l of this.runnables()){n?.signal?.throwIfAborted();try{const t=await l.invoke(e,ok(o,{callbacks:i?.getChild()}));return await(i?.handleChainEnd(Sk(t,"output"))),t}catch(KM){void 0===s&&(s=KM)}}if(void 0===s)throw new Error("No error stored at end of fallback.");throw await(i?.handleChainError(s)),s}async*_streamIterator(e,t){const n=ak(t),r=await tk(t),{runId:a,...o}=n,i=await(r?.handleChainStart(this.toJSON(),Sk(e,"input"),a,void 0,void 0,void 0,o?.runName));let s,l,c;for(const u of this.runnables()){n?.signal?.throwIfAborted();const t=ok(o,{callbacks:i?.getChild()});try{l=await u.stream(e,t);break}catch(KM){void 0===s&&(s=KM)}}if(void 0===l){const e=s??new Error("No error stored at end of fallback.");throw await(i?.handleChainError(e)),e}try{for await(const e of l){yield e;try{c=void 0===c?c:BS(c,e)}catch(KM){c=void 0}}}catch(KM){throw await(i?.handleChainError(KM)),KM}await(i?.handleChainEnd(Sk(c,"output")))}async batch(e,t,n){if(n?.returnExceptions)throw new Error("Not implemented.");const r=this._getOptionsList(t??{},e.length),a=await Promise.all(r.map((e=>tk(e)))),o=await Promise.all(a.map((async(t,n)=>{const a=await(t?.handleChainStart(this.toJSON(),Sk(e[n],"input"),r[n].runId,void 0,void 0,void 0,r[n].runName));return delete r[n].runId,a})));let i;for(const s of this.runnables()){r[0].signal?.throwIfAborted();try{const t=await s.batch(e,o.map(((e,t)=>ok(r[t],{callbacks:e?.getChild()}))),n);return await Promise.all(o.map(((e,n)=>e?.handleChainEnd(Sk(t[n],"output"))))),t}catch(KM){void 0===i&&(i=KM)}}if(!i)throw new Error("No error stored at end of fallbacks.");throw await Promise.all(o.map((e=>e?.handleChainError(i)))),i}}function Nk(e){if("function"===typeof e)return new Tk({func:e});if(kk.isRunnable(e))return e;if(Array.isArray(e)||"object"!==typeof e)throw new Error("Expected a Runnable, function or object.\nInstead got an unsupported type.");{const t={};for(const[n,r]of Object.entries(e))t[n]=Nk(r);return new Ik({steps:t})}}class jk extends kk{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Ik&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}async*_transform(e,t,n){const r=this.mapper.getStepsKeys(),[a,o]=DS(e),i=this.mapper.transform(o,ok(n,{callbacks:t?.getChild()})),s=i.next();for await(const l of a){if("object"!==typeof l||Array.isArray(l))throw new Error("RunnableAssign can only be used with objects as input, got "+typeof l);const e=Object.fromEntries(Object.entries(l).filter((e=>{let[t]=e;return!r.includes(t)})));Object.keys(e).length>0&&(yield e)}yield(await s).value;for await(const l of i)yield l}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=ak(t),r=new HS({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,zS.fromAsyncGenerator(r)}}class Mk extends kk{static lc_name(){return"RunnablePick"}constructor(e){("string"===typeof e||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if("string"===typeof this.keys)return e[this.keys];{const t=this.keys.map((t=>[t,e[t]])).filter((e=>void 0!==e[1]));return 0===t.length?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(const t of e){const e=await this._pick(t);void 0!==e&&(yield e)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const n=ak(t),r=new HS({generator:this.transform(async function*(){yield e}(),n),config:n});return await r.setup,zS.fromAsyncGenerator(r)}}class Lk extends Ok{constructor(e){const t=$k.from([Tk.from((async e=>{let t;if(gx(e))try{t=await this.schema.parseAsync(e.args)}catch(KM){throw new vx("Received tool input did not match expected schema",JSON.stringify(e.args))}else t=e;return t})).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:t,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}var Fk="object"===typeof window?window:{},zk="0123456789abcdef".split(""),Dk=[-2147483648,8388608,32768,128],Bk=[24,16,8,0],Hk=[];function Uk(e){e?(Hk[0]=Hk[16]=Hk[1]=Hk[2]=Hk[3]=Hk[4]=Hk[5]=Hk[6]=Hk[7]=Hk[8]=Hk[9]=Hk[10]=Hk[11]=Hk[12]=Hk[13]=Hk[14]=Hk[15]=0,this.blocks=Hk):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Uk.prototype.update=function(e){if(!this.finalized){var t="string"!==typeof e;t&&e.constructor===Fk.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,a=0,o=e.length||0,i=this.blocks;a<o;){if(this.hashed&&(this.hashed=!1,i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),t)for(r=this.start;a<o&&r<64;++a)i[r>>2]|=e[a]<<Bk[3&r++];else for(r=this.start;a<o&&r<64;++a)(n=e.charCodeAt(a))<128?i[r>>2]|=n<<Bk[3&r++]:n<2048?(i[r>>2]|=(192|n>>6)<<Bk[3&r++],i[r>>2]|=(128|63&n)<<Bk[3&r++]):n<55296||n>=57344?(i[r>>2]|=(224|n>>12)<<Bk[3&r++],i[r>>2]|=(128|n>>6&63)<<Bk[3&r++],i[r>>2]|=(128|63&n)<<Bk[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++a)),i[r>>2]|=(240|n>>18)<<Bk[3&r++],i[r>>2]|=(128|n>>12&63)<<Bk[3&r++],i[r>>2]|=(128|n>>6&63)<<Bk[3&r++],i[r>>2]|=(128|63&n)<<Bk[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=i[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Uk.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=Dk[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Uk.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,a=this.h2,o=this.h3,i=this.h4,s=this.blocks;for(e=16;e<80;++e)t=s[e-3]^s[e-8]^s[e-14]^s[e-16],s[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(a=(t=(o=(t=(i=(t=n<<5|n>>>27)+(r&a|~r&o)+i+1518500249+s[e]|0)<<5|i>>>27)+(n&(r=r<<30|r>>>2)|~n&a)+o+1518500249+s[e+1]|0)<<5|o>>>27)+(i&(n=n<<30|n>>>2)|~i&r)+a+1518500249+s[e+2]|0)<<5|a>>>27)+(o&(i=i<<30|i>>>2)|~o&n)+r+1518500249+s[e+3]|0)<<5|r>>>27)+(a&(o=o<<30|o>>>2)|~a&i)+n+1518500249+s[e+4]|0,a=a<<30|a>>>2;for(;e<40;e+=5)n=(t=(r=(t=(a=(t=(o=(t=(i=(t=n<<5|n>>>27)+(r^a^o)+i+1859775393+s[e]|0)<<5|i>>>27)+(n^(r=r<<30|r>>>2)^a)+o+1859775393+s[e+1]|0)<<5|o>>>27)+(i^(n=n<<30|n>>>2)^r)+a+1859775393+s[e+2]|0)<<5|a>>>27)+(o^(i=i<<30|i>>>2)^n)+r+1859775393+s[e+3]|0)<<5|r>>>27)+(a^(o=o<<30|o>>>2)^i)+n+1859775393+s[e+4]|0,a=a<<30|a>>>2;for(;e<60;e+=5)n=(t=(r=(t=(a=(t=(o=(t=(i=(t=n<<5|n>>>27)+(r&a|r&o|a&o)+i-1894007588+s[e]|0)<<5|i>>>27)+(n&(r=r<<30|r>>>2)|n&a|r&a)+o-1894007588+s[e+1]|0)<<5|o>>>27)+(i&(n=n<<30|n>>>2)|i&r|n&r)+a-1894007588+s[e+2]|0)<<5|a>>>27)+(o&(i=i<<30|i>>>2)|o&n|i&n)+r-1894007588+s[e+3]|0)<<5|r>>>27)+(a&(o=o<<30|o>>>2)|a&i|o&i)+n-1894007588+s[e+4]|0,a=a<<30|a>>>2;for(;e<80;e+=5)n=(t=(r=(t=(a=(t=(o=(t=(i=(t=n<<5|n>>>27)+(r^a^o)+i-899497514+s[e]|0)<<5|i>>>27)+(n^(r=r<<30|r>>>2)^a)+o-899497514+s[e+1]|0)<<5|o>>>27)+(i^(n=n<<30|n>>>2)^r)+a-899497514+s[e+2]|0)<<5|a>>>27)+(o^(i=i<<30|i>>>2)^n)+r-899497514+s[e+3]|0)<<5|r>>>27)+(a^(o=o<<30|o>>>2)^i)+n-899497514+s[e+4]|0,a=a<<30|a>>>2;this.h0=this.h0+n|0,this.h1=this.h1+r|0,this.h2=this.h2+a|0,this.h3=this.h3+o|0,this.h4=this.h4+i|0},Uk.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4;return zk[e>>28&15]+zk[e>>24&15]+zk[e>>20&15]+zk[e>>16&15]+zk[e>>12&15]+zk[e>>8&15]+zk[e>>4&15]+zk[15&e]+zk[t>>28&15]+zk[t>>24&15]+zk[t>>20&15]+zk[t>>16&15]+zk[t>>12&15]+zk[t>>8&15]+zk[t>>4&15]+zk[15&t]+zk[n>>28&15]+zk[n>>24&15]+zk[n>>20&15]+zk[n>>16&15]+zk[n>>12&15]+zk[n>>8&15]+zk[n>>4&15]+zk[15&n]+zk[r>>28&15]+zk[r>>24&15]+zk[r>>20&15]+zk[r>>16&15]+zk[r>>12&15]+zk[r>>8&15]+zk[r>>4&15]+zk[15&r]+zk[a>>28&15]+zk[a>>24&15]+zk[a>>20&15]+zk[a>>16&15]+zk[a>>12&15]+zk[a>>8&15]+zk[a>>4&15]+zk[15&a]},Uk.prototype.toString=Uk.prototype.hex,Uk.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a]},Uk.prototype.array=Uk.prototype.digest,Uk.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};const Wk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=t.join("_"),new Uk(!0).update(r).hex();var r};class Vk{}const qk=new Map;class Kk extends Vk{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(Wk(e,t))??null)}async update(e,t,n){this.cache.set(Wk(e,t),n)}static global(){return new Kk(qk)}}class Xk extends G_{}class Zk extends Xk{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new fx(this.value)]}}class Gk extends Xk{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return _x(this.messages)}toChatMessages(){return this.messages}}var Jk=n(4445),Yk=Object.defineProperty;function Qk(e,t){return 1===e.length?[t.get(e.join(","))]:function(e,t){let n=Array.from({length:e.length},((e,t)=>({start:t,end:t+1})));for(;n.length>1;){let r=null;for(let a=0;a<n.length-1;a++){const o=e.slice(n[a].start,n[a+1].end),i=t.get(o.join(","));null!=i&&(null==r||i<r[0])&&(r=[i,a])}if(null==r)break;{const e=r[1];n[e]={start:n[e].start,end:n[e+1].end},n.splice(e+1,1)}}return n}(e,t).map((n=>t.get(e.slice(n.start,n.end).join(",")))).filter((e=>null!=e))}var eO,tO,nO=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=(()=>new TextEncoder)();textDecoder=(()=>new TextDecoder("utf-8"))();rankMap=(()=>new Map)();textMap=(()=>new Map)();constructor(e,t){this.patStr=e.pat_str;const n=e.bpe_ranks.split("\n").filter(Boolean).reduce(((e,t)=>{const[n,r,...a]=t.split(" "),o=Number.parseInt(r,10);return a.forEach(((t,n)=>e[t]=o+n)),e}),{});for(const[r,a]of Object.entries(n)){const e=Jk.toByteArray(r);this.rankMap.set(e.join(","),a),this.textMap.set(a,e)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce(((e,t)=>{let[n,r]=t;return e[r]=this.textEncoder.encode(n),e}),{})}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";const r=new RegExp(this.patStr,"ug"),a=nO.specialTokenRegex(Object.keys(this.specialTokens)),o=[],i=new Set("all"===t?Object.keys(this.specialTokens):t),s=new Set("all"===n?Object.keys(this.specialTokens).filter((e=>!i.has(e))):n);if(s.size>0){const t=nO.specialTokenRegex([...s]),n=e.match(t);if(null!=n)throw new Error(`The text contains a special token that is not allowed: ${n[0]}`)}let l=0;for(;;){let t=null,n=l;for(;a.lastIndex=n,t=a.exec(e),null!=t&&!i.has(t[0]);)n=t.index+1;const s=t?.index??e.length;for(const a of e.substring(l,s).matchAll(r)){const e=this.textEncoder.encode(a[0]),t=this.rankMap.get(e.join(","));null==t?o.push(...Qk(e,this.rankMap)):o.push(t)}if(null==t)break;let c=this.specialTokens[t[0]];o.push(c),l=t.index+t[0].length}return o}decode(e){const t=[];let n=0;for(let o=0;o<e.length;++o){const r=e[o],a=this.textMap.get(r)??this.inverseSpecialTokens[r];null!=a&&(t.push(a),n+=a.length)}const r=new Uint8Array(n);let a=0;for(const o of t)r.set(o,a),a+=o.length;return this.textDecoder.decode(r)}},rO=nO;tO=e=>new RegExp(e.map((e=>function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e))).join("|"),"g"),((e,t,n)=>{t in e?Yk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(rO,"symbol"!==typeof(eO="specialTokenRegex")?eO+"":eO,tO);const aO={},oO=new lk({});async function iO(e){return async function(e){return e in aO||(aO[e]=oO.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then((e=>e.json())).then((e=>new rO(e))).catch((t=>{throw delete aO[e],t}))),await aO[e]}(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":return"o200k_base";default:throw new Error("Unknown model")}}(e))}const sO=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e;function lO(e){return!("object"!==typeof e||!e)&&!!("type"in e&&"function"===e.type&&"function"in e&&"object"===typeof e.function&&e.function&&"name"in e.function&&"parameters"in e.function)}class cO extends kk{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class uO extends cO{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor(e){let{callbacks:t,callbackManager:n,...r}=e;super({callbacks:t??n,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"===typeof r.cache?this.cache=r.cache:r.cache?this.cache=Kk.global():this.cache=void 0,this.caller=new lk(r??{})}async getNumTokens(e){if("string"!==typeof e)return 0;let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await iO("modelName"in this?sO(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{t=this._encoding.encode(e).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return t}static _convertInputToPromptValue(e){return"string"===typeof e?new Zk(e):Array.isArray(e)?new Gk(e.map(wx)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){let{config:t,...n}=e;const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()},a=Object.entries(r).filter((e=>{let[t,n]=e;return void 0!==n})),o=a.map((e=>{let[t,n]=e;return`${t}:${JSON.stringify(n)}`})).sort().join(",");return o}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class dO extends kk{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,t){const n=ak(t);return this.func&&await this.func(e,n),this._callWithConfig((e=>Promise.resolve(e)),e,n)}async*transform(e,t){const n=ak(t);let r,a=!0;for await(const o of this._transformStreamWithConfig(e,(e=>e),n))if(yield o,a)if(void 0===r)r=o;else try{r=BS(r,o)}catch{r=void 0,a=!1}this.func&&void 0!==r&&await this.func(r,n)}static assign(e){return new jk(new Ik({steps:e}))}}function fO(e){return"function"===typeof e?.parse}class hO extends uO{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptionsCompat(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n.signal=t.signal,[t,n]}async invoke(e,t){const n=hO._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===hO.prototype._streamResponseChunks)yield this.invoke(e,t);else{const r=hO._convertInputToPromptValue(e).toChatMessages(),[a,o]=this._separateRunnableConfigFromCallOptionsCompat(t),i={...a.metadata,...this.getLsParams(o)},s=await TS.configure(a.callbacks,this.callbacks,a.tags,this.tags,i,this.metadata,{verbose:this.verbose}),l={options:o,invocation_params:this?.invocationParams(o),batch_size:1},c=await(s?.handleChatModelStart(this.toJSON(),[r],a.runId,void 0,l,void 0,void 0,a.runName));let u;try{for await(const e of this._streamResponseChunks(r,o,c?.[0])){if(null==e.message.id){const t=c?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata},yield e.message,u=u?u.concat(e):e}}catch(n){throw await Promise.all((c??[]).map((e=>e?.handleLLMError(n)))),n}await Promise.all((c??[]).map((e=>e?.handleLLMEnd({generations:[[u]]}))))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,t,n){const r=e.map((e=>e.map(wx))),a={...n.metadata,...this.getLsParams(t)},o=await TS.configure(n.callbacks,this.callbacks,n.tags,this.tags,a,this.metadata,{verbose:this.verbose}),i={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await(o?.handleChatModelStart(this.toJSON(),r,n.runId,void 0,i,void 0,void 0,n.runName)),l=[],c=[];if(!!s?.[0].handlers.find((e=>QS(e)||VS(e)))&&1===r.length&&this._streamResponseChunks!==hO.prototype._streamResponseChunks)try{const e=await this._streamResponseChunks(r[0],t,s?.[0]);let n;for await(const t of e){if(null==t.message.id){const e=s?.at(0)?.runId;null!=e&&t.message._updateId(`run-${e}`)}n=void 0===n?t:BS(n,t)}if(void 0===n)throw new Error("Received empty response from chat model call.");l.push([n]),await(s?.[0].handleLLMEnd({generations:l,llmOutput:{}}))}catch(KM){throw await(s?.[0].handleLLMError(KM)),KM}else{const e=await Promise.allSettled(r.map(((e,n)=>this._generate(e,{...t,promptIndex:n},s?.[n]))));await Promise.all(e.map((async(e,t)=>{if("fulfilled"===e.status){const n=e.value;for(const e of n.generations){if(null==e.message.id){const t=s?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata}}return 1===n.generations.length&&(n.generations[0].message.response_metadata={...n.llmOutput,...n.generations[0].message.response_metadata}),l[t]=n.generations,c[t]=n.llmOutput,s?.[t]?.handleLLMEnd({generations:[n.generations],llmOutput:n.llmOutput})}return await(s?.[t]?.handleLLMError(e.reason)),Promise.reject(e.reason)})))}const u={generations:l,llmOutput:c.length?this._combineLLMOutput?.(...c):void 0};return Object.defineProperty(u,ZS,{value:s?{runIds:s?.map((e=>e.runId))}:void 0,configurable:!0}),u}async _generateCached(e){let{messages:t,cache:n,llmStringKey:r,parsedOptions:a,handledOptions:o}=e;const i=t.map((e=>e.map(wx))),s={...o.metadata,...this.getLsParams(a)},l=await TS.configure(o.callbacks,this.callbacks,o.tags,this.tags,s,this.metadata,{verbose:this.verbose}),c={options:a,invocation_params:this?.invocationParams(a),batch_size:1,cached:!0},u=await(l?.handleChatModelStart(this.toJSON(),i,o.runId,void 0,c,void 0,void 0,o.runName)),d=[],f=await Promise.allSettled(i.map((async(e,t)=>{const a=hO._convertInputToPromptValue(e).toString(),o=await n.lookup(a,r);return null==o&&d.push(t),o}))),h=f.map(((e,t)=>({result:e,runManager:u?.[t]}))).filter((e=>{let{result:t}=e;return"fulfilled"===t.status&&null!=t.value||"rejected"===t.status})),p=[];await Promise.all(h.map((async(e,t)=>{let{result:n,runManager:r}=e;if("fulfilled"===n.status){const e=n.value;return p[t]=e,e.length&&await(r?.handleLLMNewToken(e[0].text)),r?.handleLLMEnd({generations:[e]})}return await(r?.handleLLMError(n.reason)),Promise.reject(n.reason)})));const m={generations:p,missingPromptIndices:d};return Object.defineProperty(m,ZS,{value:u?{runIds:u?.map((e=>e.runId))}:void 0,configurable:!0}),m}async generate(e,t,n){let r;r=Array.isArray(t)?{stop:t}:t;const a=e.map((e=>e.map(wx))),[o,i]=this._separateRunnableConfigFromCallOptionsCompat(r);if(o.callbacks=o.callbacks??n,!this.cache)return this._generateUncached(a,i,o);const{cache:s}=this,l=this._getSerializedCacheKeyParametersForCall(i),{generations:c,missingPromptIndices:u}=await this._generateCached({messages:a,cache:s,llmStringKey:l,parsedOptions:i,handledOptions:o});let d={};if(u.length>0){const e=await this._generateUncached(u.map((e=>a[e])),i,o);await Promise.all(e.generations.map((async(e,t)=>{const n=u[t];c[n]=e;const r=hO._convertInputToPromptValue(a[n]).toString();return s.update(r,l,e)}))),d=e.llmOutput??{}}return{generations:c,llmOutput:d}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const r=e.map((e=>e.toChatMessages()));return this.generate(r,t,n)}async call(e,t,n){return(await this.generate([e.map(wx)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const r=e.toChatMessages();return this.call(r,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const r=new fx(e),a=await this.call([r],t,n);if("string"!==typeof a.content)throw new Error("Cannot use predict when output is not a string.");return a.content}withStructuredOutput(e,t){if("function"!==typeof this.bindTools)throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');const n=e,r=t?.name,a=n.description??"A function available to call.",o=t?.method,i=t?.includeRaw;if("jsonMode"===o)throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s,l=r??"extract";fO(n)?s=[{type:"function",function:{name:l,description:a,parameters:B_(n)}}]:("name"in n&&(l=n.name),s=[{type:"function",function:{name:l,description:a,parameters:n}}]);const c=this.bindTools(s),u=Tk.from((e=>{if(!e.tool_calls||0===e.tool_calls.length)throw new Error("No tool calls found in the response.");const t=e.tool_calls.find((e=>e.name===l));if(!t)throw new Error(`No tool call found with name ${l}.`);return t.args}));if(!i)return c.pipe(u).withConfig({runName:"StructuredOutput"});const d=dO.assign({parsed:(e,t)=>u.invoke(e.raw,t)}),f=dO.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return $k.from([{raw:c},h]).withConfig({runName:"StructuredOutputRunnable"})}}const pO="0.5.0";let mO,gO,vO,yO,bO,wO,_O,xO,EO,SO=!1,kO=null,OO=null,CO=null,PO=null;class $O{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}mO||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(SO)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(mO)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${mO}'\``);SO=t.auto,mO=e.kind,gO=e.fetch,kO=e.Request,OO=e.Response,CO=e.Headers,vO=e.FormData,PO=e.Blob,yO=e.File,bO=e.ReadableStream,wO=e.getMultipartRequestOptions,_O=e.getDefaultAgent,xO=e.fileFromPath,EO=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,a,o;try{n=fetch,r=Request,a=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:o,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new $O(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class IO extends Error{}class RO extends IO{constructor(e,t,n,r){super(`${RO.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new AO({cause:bC(t)});const a=t;return 400===e?new jO(e,a,n,r):401===e?new MO(e,a,n,r):403===e?new LO(e,a,n,r):404===e?new FO(e,a,n,r):409===e?new zO(e,a,n,r):422===e?new DO(e,a,n,r):429===e?new BO(e,a,n,r):e>=500?new HO(e,a,n,r):new RO(e,a,n,r)}}class TO extends RO{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class AO extends RO{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class NO extends AO{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class jO extends RO{constructor(){super(...arguments),this.status=400}}class MO extends RO{constructor(){super(...arguments),this.status=401}}class LO extends RO{constructor(){super(...arguments),this.status=403}}class FO extends RO{constructor(){super(...arguments),this.status=404}}class zO extends RO{constructor(){super(...arguments),this.status=409}}class DO extends RO{constructor(){super(...arguments),this.status=422}}class BO extends RO{constructor(){super(...arguments),this.status=429}}class HO extends RO{}class UO{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;const r=new WO;return new UO((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const n of async function*(){if(!e.body)throw t.abort(),new IO("Attempted to iterate over a response with no body");const n=new VO,a=qO(e.body);for await(const e of a)for(const t of n.decode(e)){const e=r.decode(t);e&&(yield e)}for(const e of n.flush()){const t=r.decode(e);t&&(yield t)}}())if(!a)if(n.data.startsWith("[DONE]"))a=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(KM){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),KM}if(e&&e.error)throw new RO(void 0,e.error,void 0,void 0);yield e}a=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{a||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new UO((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new VO,n=qO(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new UO((()=>r(e)),this.controller),new UO((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new bO({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}class WO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class VO{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=VO.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(VO.NEWLINE_REGEXP);return 1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new IO(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new IO(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new IO("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function qO(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(KM){throw t.releaseLock(),KM}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}VO.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","\x1c","\x1d","\x1e","\x85","\u2028","\u2029"]),VO.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;const KO=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,XO=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&ZO(e),ZO=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,GO=e=>XO(e)||KO(e)||EO(e);async function JO(e,t,n){if(e=await e,n??(n=XO(e)?{lastModified:e.lastModified,type:e.type}:{}),KO(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new yO([r],t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(ZO(e))t.push(await e.arrayBuffer());else{if(!QO(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return YO(e.name)||YO(e.filename)||YO(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new yO(r,t,n)}const YO=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,QO=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],eC=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],tC=async e=>{const t=await nC(e.body);return wO(t,e)},nC=async e=>{const t=new vO;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return rC(t,n,r)}))),t},rC=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(GO(n)){const r=await JO(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>rC(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return rC(e,`${t}[${r}]`,a)})))}}};async function aC(e){const{response:t}=e;if(e.options.stream)return SC("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):UO.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return SC("response",t.status,t.url,t.headers,e),e}const r=await t.text();return SC("response",t.status,t.url,t.headers,r),r}class oC extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aC;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new oC(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class iC{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:a,fetch:o}=e;this.baseURL=t,this.maxRetries=yC("maxRetries",n),this.timeout=yC("timeout",r),this.httpAgent=a,this.fetch=o??gO}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...hC(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${kC()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&ZO(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:n,query:r,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:eC(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,i=this.calculateContentLength(o),s=this.buildURL(n,r);"timeout"in e&&yC("timeout",e.timeout);const l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??_O(s),u=l+1e3;"number"===typeof c?.options?.timeout&&u>(c.options.timeout??0)&&(c.options.timeout=u),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...o&&{body:o},headers:this.buildHeaders({options:e,headers:a,contentLength:i}),...c&&{agent:c},signal:e.signal??null},url:s,timeout:l}}buildHeaders(e){let{options:t,headers:n,contentLength:r}=e;const a={};r&&(a["content-length"]=r);return EC(a,this.defaultHeaders(t)),EC(a,n),eC(t.body)&&"node"!==mO&&delete a["content-type"],this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return RO.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new oC(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e;null==t&&(t=n.maxRetries??this.maxRetries),await this.prepareOptions(n);const{req:r,url:a,timeout:o}=this.buildRequest(n);if(await this.prepareRequest(r,{url:a,options:n}),SC("request",a,n,r.headers),n.signal?.aborted)throw new TO;const i=new AbortController,s=await this.fetchWithTimeout(a,r,o,i).catch(bC);if(s instanceof Error){if(n.signal?.aborted)throw new TO;if(t)return this.retryRequest(n,t);if("AbortError"===s.name)throw new NO;throw new AO({cause:s})}const l=lC(s.headers);if(!s.ok){if(t&&this.shouldRetry(s)){return SC(`response (error; ${`retrying, ${t} attempts remaining`})`,s.status,a,l),this.retryRequest(n,t,l)}const e=await s.text().catch((e=>bC(e).message)),r=pC(e),o=r?void 0:e;SC(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,s.status,a,l,o);throw this.makeStatusError(s.status,r,o,l)}return{response:s,options:n,controller:i}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new sC(this,n,e)}buildURL(e,t){const n=gC(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return _C(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new IO(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...o}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const i=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally((()=>{clearTimeout(i)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await vC(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${pO}`}}new WeakMap,Symbol.asyncIterator;class sC extends oC{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await aC(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const lC=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),cC=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pO,"X-Stainless-OS":dC(Deno.build.os),"X-Stainless-Arch":uC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pO,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pO,"X-Stainless-OS":dC(process.platform),"X-Stainless-Arch":uC(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pO,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pO,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const uC=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",dC=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let fC;const hC=()=>fC??(fC=cC()),pC=e=>{try{return JSON.parse(e)}catch(t){return}},mC=new RegExp("^(?:[a-z]+:)?//","i"),gC=e=>mC.test(e),vC=e=>new Promise((t=>setTimeout(t,e))),yC=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new IO(`${e} must be an integer`);if(t<0)throw new IO(`${e} must be a positive integer`);return t},bC=e=>e instanceof Error?e:new Error(e),wC=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function _C(e){if(!e)return!0;for(const t in e)return!1;return!0}function xC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function EC(e,t){for(const n in t){if(!xC(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}function SC(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`Groq:DEBUG:${e}`,...n)}}const kC=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));class OC{constructor(e){this._client=e}}class CC extends OC{}CC||(CC={});class PC extends OC{create(e,t){return this._client.post("/openai/v1/chat/completions",{body:e,...t,stream:e.stream??!1})}}PC||(PC={});class $C extends OC{constructor(){super(...arguments),this.completions=new PC(this._client)}}!function(e){e.Completions=PC}($C||($C={}));class IC extends OC{create(e,t){return this._client.post("/openai/v1/embeddings",{body:e,...t})}}IC||(IC={});class RC extends OC{create(e,t){return this._client.post("/openai/v1/audio/transcriptions",tC({body:e,...t}))}}RC||(RC={});class TC extends OC{create(e,t){return this._client.post("/openai/v1/audio/translations",tC({body:e,...t}))}}TC||(TC={});class AC extends OC{constructor(){super(...arguments),this.transcriptions=new RC(this._client),this.translations=new TC(this._client)}}!function(e){e.Transcriptions=RC,e.Translations=TC}(AC||(AC={}));class NC extends OC{retrieve(e,t){return this._client.get(`/openai/v1/models/${e}`,t)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,t){return this._client.delete(`/openai/v1/models/${e}`,t)}}var jC;NC||(NC={});class MC extends iC{constructor(){let{baseURL:e=wC("GROQ_BASE_URL"),apiKey:t=wC("GROQ_API_KEY"),...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new IO("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const r={apiKey:t,...n,baseURL:e||"https://api.groq.com"};if(!r.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new IO("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Groq({ apiKey, dangerouslyAllowBrowser: true })");super({baseURL:r.baseURL,timeout:r.timeout??6e4,httpAgent:r.httpAgent,maxRetries:r.maxRetries,fetch:r.fetch}),this.completions=new CC(this),this.chat=new $C(this),this.embeddings=new IC(this),this.audio=new AC(this),this.models=new NC(this),this._options=r,this.apiKey=t}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}jC=MC,MC.Groq=jC,MC.GroqError=IO,MC.APIError=RO,MC.APIConnectionError=AO,MC.APIConnectionTimeoutError=NO,MC.APIUserAbortError=TO,MC.NotFoundError=FO,MC.ConflictError=zO,MC.RateLimitError=BO,MC.BadRequestError=jO,MC.AuthenticationError=MO,MC.InternalServerError=HO,MC.PermissionDeniedError=LO,MC.UnprocessableEntityError=DO,MC.toFile=JO,MC.fileFromPath=xO;const{i7:LC,LG:FC,xX:zC,qA:DC,cH:BC,m_:HC,fK:UC,OE:WC,v7:VC,v3:qC,PO:KC,Ll:XC,Is:ZC}=t;!function(e){e.Completions=CC,e.Chat=$C,e.Embeddings=IC,e.Audio=AC,e.Models=NC}(MC||(MC={}));const GC=MC;class JC extends kk{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}_baseMessageToString(e){return"string"===typeof e.content?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return"string"===typeof e?this._callWithConfig((async(e,t)=>this.parseResult([{text:e}],t?.callbacks)),e,{...t,runType:"parser"}):this._callWithConfig((async(e,t)=>this.parseResult([{message:e,text:this._baseMessageToString(e)}],t?.callbacks)),e,{...t,runType:"parser"})}}class YC extends JC{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class QC extends Error{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=t,this.observation=n,this.sendToLLM=r,r&&(void 0===n||void 0===t))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}function eP(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!eP(e[r],t[r]))return!1;return!0}if("object"===n){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n)if(!eP(e[a],t[a]))return!1;return!0}return e===t}"undefined"!==typeof self&&self.location&&"null"!==self.location.origin&&(self.location.origin,self.location.pathname,location.search);const tP=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,nP=[0,31,28,31,30,31,30,31,31,30,31,30,31],rP=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,aP=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,oP=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,iP=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,sP=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,lP=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,cP=/^(?:\/(?:[^~/]|~0|~1)*)*$/,uP=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,dP=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,fP=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,hP=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,pP=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,mP=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,gP=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,vP=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function yP(e){return e.test.bind(e)}const bP={date:wP,time:_P.bind(void 0,!1),"date-time":function(e){const t=e.split(xP);return 2==t.length&&wP(t[0])&&_P(!0,t[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return EP.test(e)&&SP.test(e)},"uri-reference":yP(oP),"uri-template":yP(iP),url:yP(sP),email:e=>{if('"'===e[0])return!1;const[t,n,...r]=e.split("@");return!(!t||!n||0!==r.length||t.length>64||n.length>253)&&("."!==t[0]&&!t.endsWith(".")&&!t.includes("..")&&(!(!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t))&&n.split(".").every((e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e)))))},hostname:yP(aP),ipv4:yP(gP),ipv6:yP(vP),regex:function(e){if(kP.test(e))return!1;try{return new RegExp(e),!0}catch(KM){return!1}},uuid:yP(lP),"json-pointer":yP(cP),"json-pointer-uri-fragment":yP(uP),"relative-json-pointer":yP(dP)};function wP(e){const t=e.match(tP);if(!t)return!1;const n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:nP[r])}function _P(e,t){const n=t.match(rP);if(!n)return!1;const r=+n[1],a=+n[2],o=+n[3],i=!!n[5];return(r<=23&&a<=59&&o<=59||23==r&&59==a&&60==o)&&(!e||i)}const xP=/t|\s/i;const EP=/\/|:/,SP=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const kP=/[^\\]\\Z/;class OP extends YC{async*_transform(e){for await(const t of e)"string"===typeof t?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class CP extends OP{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let t,n;for await(const a of e){if("string"!==typeof a&&"string"!==typeof a.content)throw new Error("Cannot handle non-string output.");let e;if(rx(r=a)&&"function"===typeof r.concat){if("string"!==typeof a.content)throw new Error("Cannot handle non-string message output.");e=new JS({message:a,text:a.content})}else if(rx(a)){if("string"!==typeof a.content)throw new Error("Cannot handle non-string message output.");e=new JS({message:xx(a),text:a.content})}else e=new GS({text:a});n=void 0===n?e:n.concat(e);const o=await this.parsePartialResult([n]);void 0===o||null===o||eP(o,t)||(this.diff?yield this._diff(t,o):yield o,t=o)}var r}getFormatInstructions(){return""}}class PP extends YC{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(w_.object(Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,w_.string().describe(n)]})))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.\n\n"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}\nwould match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.\nThus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\`\`\`json\n${JSON.stringify(B_(this.schema))}\n\`\`\`\n`}async parse(e){try{const t=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,((e,t)=>`"${t.replace(/\n/g,"\\n")}"`)).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(t))}catch(KM){throw new QC(`Failed to parse. Text: "${e}". Error: ${KM}`,e)}}}class $P extends CP{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,t){if(t)return e?aE(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return H_(e[0].text)}async parse(e){return H_(e,JSON.parse)}getFormatInstructions(){return""}}function IP(e,t){if(void 0===e.function)return;let n;if(t?.partial)try{n=U_(e.function.arguments??"{}")}catch(KM){return}else try{n=JSON.parse(e.function.arguments)}catch(KM){throw new QC([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${KM.message}`].join("\n"))}const r={name:e.function.name,args:n,type:"tool_call"};return t?.returnId&&(r.id=e.id),r}function RP(e){if(void 0===e.id)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function TP(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t,type:"invalid_tool_call"}}class AP extends CP{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e[0].message;let r;if(sx(n)&&n.tool_calls?.length)r=n.tool_calls.map((e=>{const{id:t,...n}=e;return this.returnId?{id:t,...n}:n}));else if(void 0!==n.additional_kwargs.tool_calls){r=JSON.parse(JSON.stringify(n.additional_kwargs.tool_calls)).map((e=>IP(e,{returnId:this.returnId,partial:t})))}if(!r)return[];const a=[];for(const o of r)if(void 0!==o){const e={type:o.name,args:o.args,id:o.id};a.push(e)}return a}}class NP extends AP{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(void 0===this.zodSchema)return e;const t=await this.zodSchema.safeParseAsync(e);if(t.success)return t.data;throw new QC(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const t=(await super.parsePartialResult(e)).filter((e=>e.type===this.keyName));let n=t;if(t.length)return this.returnId||(n=t.map((e=>e.args))),this.returnSingle?n[0]:n}async parseResult(e){const t=(await super.parsePartialResult(e,!1)).filter((e=>e.type===this.keyName));let n=t;if(!t.length)return;if(this.returnId||(n=t.map((e=>e.args))),this.returnSingle)return this._validateResult(n[0]);const r=await Promise.all(n.map((e=>this._validateResult(e))));return r}}function jP(e,t){const n="number"===typeof t?void 0:t;return{name:e.name,description:e.description,parameters:B_(e.schema),...void 0!==n?.strict?{strict:n.strict}:{}}}function MP(e){return function(e){return!!e&&"object"===typeof e&&"name"in e&&"schema"in e&&fO(e.schema)}(e)||function(e){return void 0!==e&&kk.isRunnable(e)&&"lc_name"in e.constructor&&"function"===typeof e.constructor.lc_name&&"RunnableToolLike"===e.constructor.lc_name()}(e)||function(e){return void 0!==e&&Array.isArray(e.lc_namespace)}(e)}function LP(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${t}`)}}function FP(e){return e.map((e=>{if("string"!==typeof e.content)throw new Error("Non string message content not supported");const t={role:LP(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return sx(e)&&e.tool_calls?.length?t.tool_calls=e.tool_calls.map(RP):(null!=e.additional_kwargs.tool_calls&&(t.tool_calls=e.additional_kwargs.tool_calls),null!=e.tool_call_id&&(t.tool_call_id=e.tool_call_id)),t}))}function zP(e,t){const n=e.tool_calls;if("assistant"===e.role){const r=[],a=[];for(const e of n??[])try{r.push(IP(e,{returnId:!0}))}catch(KM){a.push(TP(e,KM.message))}return new ix({content:e.content||"",additional_kwargs:{tool_calls:n},tool_calls:r,invalid_tool_calls:a,usage_metadata:t})}return new cx(e.content||"",e.role??"unknown")}function DP(e,t,n){const{role:r}=e,a=e.content??"";let o,i,s;if(o=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},n?.usage&&(i={input_tokens:n.usage.prompt_tokens,output_tokens:n.usage.completion_tokens,total_tokens:n.usage.total_tokens},s=n.id),"user"===r)return{message:new hx({content:a})};if("assistant"===r){const n=function(e,t){if(e?.length)return e.map((e=>({id:e.id,name:e.function?.name,args:e.function?.arguments,type:"tool_call_chunk",index:t})))}(e.tool_calls,t);return{message:new lx({content:a,additional_kwargs:o,tool_call_chunks:n?n.map((e=>({type:e.type,args:e.args,index:e.index}))):void 0,usage_metadata:i,id:s}),toolCallData:n?n.map((e=>({id:e.id??"",name:e.name??"",index:e.index??t,type:"tool_call_chunk"}))):void 0}}return"system"===r?{message:new mx({content:a})}:{message:new ux({content:a,role:r})}}class BP extends hO{static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}constructor(e){super(e??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});const t=e?.apiKey||cE("GROQ_API_KEY");if(!t)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');this.client=new GC({apiKey:t,dangerouslyAllowBrowser:!0}),this.temperature=e?.temperature??this.temperature,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.streaming=e?.streaming??this.streaming,this.stop=e?.stopSequences??("string"===typeof e?.stop?[e.stop]:e?.stop)??[],this.stopSequences=this.stop,this.maxTokens=e?.maxTokens}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??this.temperature,ls_max_tokens:t.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,t){return this.caller.call((async()=>this.client.chat.completions.create(e,t)))}invocationParams(e){const t=super.invocationParams(e);return void 0!==e.tool_choice&&(t.tool_choice=e.tool_choice),void 0!==e.tools&&(t.tools=e.tools),void 0!==e.response_format&&(t.response_format=e.response_format),{...t,stop:e.stop??this.stopSequences,model:this.model,temperature:this.temperature,max_tokens:this.maxTokens}}bindTools(e,t){return this.bind({tools:e.map((e=>function(e,t){const n="number"===typeof t?void 0:t;let r;return r=MP(e)?{type:"function",function:jP(e)}:e,void 0!==n?.strict&&(r.function.strict=n.strict),r}(e))),...t})}async*_streamResponseChunks(e,t,n){const r=this.invocationParams(t),a=FP(e),o=await this.completionWithRetry({...r,messages:a,stream:!0},{signal:t?.signal,headers:t?.headers});let i="";const s=[];let l;for await(const c of o){l=c;const e=c?.choices[0];if(!e)continue;e.delta?.role&&(i=e.delta.role);const{message:t,toolCallData:r}=DP({...e.delta,role:i}??{},e.index,c.x_groq);if(r){const e=r.filter((e=>s.every((t=>t.id!==e.id))));s.push(...e),yield new JS({message:new lx({content:"",tool_call_chunks:e}),text:""})}const a=new JS({message:t,text:e.delta.content??"",generationInfo:{finishReason:e.finish_reason}});yield a,n?.handleLLMNewToken(a.text??"")}if(l&&("choices"in l&&delete l.choices,yield new JS({message:new lx({content:"",response_metadata:l}),text:""})),t.signal?.aborted)throw new Error("AbortError")}async _generate(e,t,n){if(this.streaming){const r={},a=this._streamResponseChunks(e,t,n),o={};for await(const e of a){const t=e.generationInfo?.completion??0;void 0===o[t]?o[t]=e:o[t]=o[t].concat(e)}const i=Object.entries(o).sort(((e,t)=>{let[n]=e,[r]=t;return parseInt(n,10)-parseInt(r,10)})).map((e=>{let[t,n]=e;return n}));return{generations:i,llmOutput:{estimatedTokenUsage:r}}}return this._generateNonStreaming(e,t,n)}async _generateNonStreaming(e,t,n){const r={},a=this.invocationParams(t),o=FP(e),i=await this.completionWithRetry({...a,stream:!1,messages:o},{signal:t?.signal,headers:t?.headers});if("usage"in i&&i.usage){const{completion_tokens:e,prompt_tokens:t,total_tokens:n}=i.usage;e&&(r.completionTokens=(r.completionTokens??0)+e),t&&(r.promptTokens=(r.promptTokens??0)+t),n&&(r.totalTokens=(r.totalTokens??0)+n)}const s=[];if("choices"in i&&i.choices)for(const l of i.choices){const e=l.message?.content??"";let t;void 0!==r.totalTokens&&(t={input_tokens:r.promptTokens??0,output_tokens:r.completionTokens??0,total_tokens:r.totalTokens});const n={text:e,message:zP(l.message??{role:"assistant"},t)};n.generationInfo={...l.finish_reason?{finish_reason:l.finish_reason}:{},...l.logprobs?{logprobs:l.logprobs}:{}},s.push(n)}return{generations:s,llmOutput:{tokenUsage:r}}}withStructuredOutput(e,t){const n=e,r=t?.name,a=t?.method,o=t?.includeRaw;let i,s,l=r??"extract";if("jsonMode"===a)s=this.bind({response_format:{type:"json_object"}}),i=fO(n)?PP.fromZodSchema(n):new $P;else if(fO(n)){const e=B_(n);s=this.bind({tools:[{type:"function",function:{name:l,description:e.description,parameters:e}}],tool_choice:{type:"function",function:{name:l}}}),i=new NP({returnSingle:!0,keyName:l,zodSchema:n})}else{let e;"string"===typeof n.name&&"object"===typeof n.parameters&&null!=n.parameters?(e=n,l=n.name):(l=n.title??l,e={name:l,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:e}],tool_choice:{type:"function",function:{name:l}}}),i=new NP({returnSingle:!0,keyName:l})}if(!o)return s.pipe(i).withConfig({runName:"ChatGroqStructuredOutput"});const c=dO.assign({parsed:(e,t)=>i.invoke(e.raw,t)}),u=dO.assign({parsed:()=>null}),d=c.withFallbacks({fallbacks:[u]});return $k.from([{raw:s},d]).withConfig({runName:"ChatGroqStructuredOutput"})}}const HP="4.62.1";let UP,WP,VP,qP,KP,XP,ZP,GP,JP,YP=!1,QP=null,e$=null,t$=null,n$=null;class r${constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}UP||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(YP)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(UP)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${UP}'\``);YP=t.auto,UP=e.kind,WP=e.fetch,QP=e.Request,e$=e.Response,t$=e.Headers,VP=e.FormData,n$=e.Blob,qP=e.File,KP=e.ReadableStream,XP=e.getMultipartRequestOptions,ZP=e.getDefaultAgent,GP=e.fileFromPath,JP=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,a,o;try{n=fetch,r=Request,a=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:o,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new r$(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class a${constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new a$((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new G$("Attempted to iterate over a response with no body");const n=new i$,r=new s$,a=l$(e.body);for await(const o of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,a=new Uint8Array(t.length+e.length);for(a.set(t),a.set(e,t.length),t=a;-1!==(r=o$(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(a))for(const e of r.decode(o)){const t=n.decode(e);t&&(yield t)}for(const o of r.flush()){const e=n.decode(o);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(KM){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),KM}if(e&&e.error)throw new J$(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(KM){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),KM}if("error"==n.event)throw new J$(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new a$((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new s$,n=l$(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new a$((()=>r(e)),this.controller),new a$((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new KP({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}function o$(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class i${constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class s${constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=s$.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(s$.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new G$(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new G$(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new G$("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function l$(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(KM){throw t.releaseLock(),KM}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}s$.NEWLINE_CHARS=new Set(["\n","\r"]),s$.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const c$=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,u$=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&d$(e),d$=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,f$=e=>u$(e)||c$(e)||JP(e);async function h$(e,t,n){if(e=await e,u$(e))return e;if(c$(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=d$(r)?[await r.arrayBuffer()]:[r];return new qP(a,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(d$(e))t.push(await e.arrayBuffer());else{if(!m$(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return p$(e.name)||p$(e.filename)||p$(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new qP(r,t,n)}const p$=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,m$=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],g$=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],v$=async e=>{const t=await y$(e.body);return XP(t,e)},y$=async e=>{const t=new VP;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return b$(t,n,r)}))),t},b$=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(f$(n)){const r=await h$(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>b$(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return b$(e,`${t}[${r}]`,a)})))}}};var w$,_$=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},x$=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function E$(e){const{response:t}=e;if(e.options.stream)return K$("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):a$.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return K$("response",t.status,t.url,t.headers,e),S$(e,t)}const r=await t.text();return K$("response",t.status,t.url,t.headers,r),r}function S$(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class k$ extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E$;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new k$(this.responsePromise,(async t=>S$(e(await this.parseResponse(t)),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class O${constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:o}=e;this.baseURL=t,this.maxRetries=B$("maxRetries",n),this.timeout=B$("timeout",r),this.httpAgent=a,this.fetch=o??WP}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...M$(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${X$()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&d$(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:n,query:r,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:g$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,i=this.calculateContentLength(o),s=this.buildURL(n,r);"timeout"in e&&B$("timeout",e.timeout);const l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??ZP(s),u=l+1e3;"number"===typeof c?.options?.timeout&&u>(c.options.timeout??0)&&(c.options.timeout=u),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...o&&{body:o},headers:this.buildHeaders({options:e,headers:a,contentLength:i}),...c&&{agent:c},signal:e.signal??null},url:s,timeout:l}}buildHeaders(e){let{options:t,headers:n,contentLength:r}=e;const a={};r&&(a["content-length"]=r);return q$(a,this.defaultHeaders(t)),q$(a,n),g$(t.body)&&"node"!==UP&&delete a["content-type"],this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return J$.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new k$(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e;null==t&&(t=n.maxRetries??this.maxRetries),await this.prepareOptions(n);const{req:r,url:a,timeout:o}=this.buildRequest(n);if(await this.prepareRequest(r,{url:a,options:n}),K$("request",a,n,r.headers),n.signal?.aborted)throw new Y$;const i=new AbortController,s=await this.fetchWithTimeout(a,r,o,i).catch(H$);if(s instanceof Error){if(n.signal?.aborted)throw new Y$;if(t)return this.retryRequest(n,t);if("AbortError"===s.name)throw new eI;throw new Q$({cause:s})}const l=$$(s.headers);if(!s.ok){if(t&&this.shouldRetry(s)){return K$(`response (error; ${`retrying, ${t} attempts remaining`})`,s.status,a,l),this.retryRequest(n,t,l)}const e=await s.text().catch((e=>H$(e).message)),r=L$(e),o=r?void 0:e;K$(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,s.status,a,l,o);throw this.makeStatusError(s.status,r,o,l)}return{response:s,options:n,controller:i}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new P$(this,n,e)}buildURL(e,t){const n=z$(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return W$(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new G$(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...o}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const i=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally((()=>{clearTimeout(i)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await D$(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${HP}`}}class C${constructor(e,t,n,r){w$.set(this,void 0),_$(this,w$,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new G$("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await x$(this,w$,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(w$=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class P$ extends k${constructor(e,t,n){super(t,(async t=>new n(e,t.response,await E$(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const $$=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),I$={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},R$=e=>"object"===typeof e&&null!==e&&!W$(e)&&Object.keys(e).every((e=>V$(I$,e))),T$=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":HP,"X-Stainless-OS":N$(Deno.build.os),"X-Stainless-Arch":A$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":HP,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":HP,"X-Stainless-OS":N$(process.platform),"X-Stainless-Arch":A$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":HP,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":HP,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const A$=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",N$=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let j$;const M$=()=>j$??(j$=T$()),L$=e=>{try{return JSON.parse(e)}catch(t){return}},F$=new RegExp("^(?:[a-z]+:)?//","i"),z$=e=>F$.test(e),D$=e=>new Promise((t=>setTimeout(t,e))),B$=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new G$(`${e} must be an integer`);if(t<0)throw new G$(`${e} must be a positive integer`);return t},H$=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},U$=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function W$(e){if(!e)return!0;for(const t in e)return!1;return!0}function V$(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q$(e,t){for(const n in t){if(!V$(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}function K$(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`OpenAI:DEBUG:${e}`,...n)}}const X$=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));function Z$(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class G$ extends Error{}class J$ extends G${constructor(e,t,n,r){super(`${J$.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const a=t;this.error=a,this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new Q$({message:n,cause:H$(t)});const a=t?.error;return 400===e?new tI(e,a,n,r):401===e?new nI(e,a,n,r):403===e?new rI(e,a,n,r):404===e?new aI(e,a,n,r):409===e?new oI(e,a,n,r):422===e?new iI(e,a,n,r):429===e?new sI(e,a,n,r):e>=500?new lI(e,a,n,r):new J$(e,a,n,r)}}class Y$ extends J${constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Q$ extends J${constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class eI extends Q${constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class tI extends J${constructor(){super(...arguments),this.status=400}}class nI extends J${constructor(){super(...arguments),this.status=401}}class rI extends J${constructor(){super(...arguments),this.status=403}}class aI extends J${constructor(){super(...arguments),this.status=404}}class oI extends J${constructor(){super(...arguments),this.status=409}}class iI extends J${constructor(){super(...arguments),this.status=422}}class sI extends J${constructor(){super(...arguments),this.status=429}}class lI extends J${}class cI extends G${constructor(){super("Could not parse response content as the length limit was reached")}}class uI extends G${constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const dI="RFC3986",fI={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},hI=(Object.prototype.hasOwnProperty,Array.isArray),pI=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const mI=1024;function gI(e,t){if(hI(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const vI=Object.prototype.hasOwnProperty,yI={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},bI=Array.isArray,wI=Array.prototype.push,_I=function(e,t){wI.apply(e,bI(t)?t:[t])},xI=Date.prototype.toISOString,EI={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,a)=>{if(0===e.length)return e;let o=e;if("symbol"===typeof e?o=Symbol.prototype.toString.call(e):"string"!==typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let i="";for(let s=0;s<o.length;s+=mI){const e=o.length>=mI?o.slice(s,s+mI):o,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===a&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=pI[r]:r<2048?t[t.length]=pI[192|r>>6]+pI[128|63&r]:r<55296||r>=57344?t[t.length]=pI[224|r>>12]+pI[128|r>>6&63]+pI[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=pI[240|r>>18]+pI[128|r>>12&63]+pI[128|r>>6&63]+pI[128|63&r])}i+=t.join("")}return i},encodeValuesOnly:!1,format:dI,formatter:fI[dI],indices:!1,serializeDate:e=>xI.call(e),skipNulls:!1,strictNullHandling:!1};const SI={};function kI(e,t,n,r,a,o,i,s,l,c,u,d,f,h,p,m,g,v){let y=e,b=v,w=0,_=!1;for(;void 0!==(b=b.get(SI))&&!_;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");_=!0}"undefined"===typeof b.get(SI)&&(w=0)}if("function"===typeof c?y=c(t,y):y instanceof Date?y=f?.(y):"comma"===n&&bI(y)&&(y=gI(y,(function(e){return e instanceof Date?f?.(e):e}))),null===y){if(o)return l&&!m?l(t,EI.encoder,g,"key",h):t;y=""}if("string"===typeof(x=y)||"number"===typeof x||"boolean"===typeof x||"symbol"===typeof x||"bigint"===typeof x||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(y)){if(l){const e=m?t:l(t,EI.encoder,g,"key",h);return[p?.(e)+"="+p?.(l(y,EI.encoder,g,"value",h))]}return[p?.(t)+"="+p?.(String(y))]}var x;const E=[];if("undefined"===typeof y)return E;let S;if("comma"===n&&bI(y))m&&l&&(y=gI(y,l)),S=[{value:y.length>0?y.join(",")||null:void 0}];else if(bI(c))S=c;else{const e=Object.keys(y);S=u?e.sort(u):e}const k=s?String(t).replace(/\./g,"%2E"):String(t),O=r&&bI(y)&&1===y.length?k+"[]":k;if(a&&bI(y)&&0===y.length)return O+"[]";for(let C=0;C<S.length;++C){const t=S[C],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:y[t];if(i&&null===b)continue;const _=d&&s?t.replace(/\./g,"%2E"):t,x=bI(y)?"function"===typeof n?n(O,_):O:O+(d?"."+_:"["+_+"]");v.set(e,w);const k=new WeakMap;k.set(SI,v),_I(E,kI(b,x,n,r,a,o,i,s,"comma"===n&&m&&bI(y)?null:l,c,u,d,f,h,p,m,g,k))}return E}function OI(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EI;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||EI.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=dI;if("undefined"!==typeof e.format){if(!vI.call(fI,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=fI[n];let a,o=EI.filter;if(("function"===typeof e.filter||bI(e.filter))&&(o=e.filter),a=e.arrayFormat&&e.arrayFormat in yI?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":EI.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||EI.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:EI.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:EI.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:EI.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?EI.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:EI.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:EI.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:EI.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:EI.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:EI.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:EI.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:EI.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,a;"function"===typeof n.filter?(a=n.filter,t=a("",t)):bI(n.filter)&&(a=n.filter,r=a);const o=[];if("object"!==typeof t||null===t)return"";const i=yI[n.arrayFormat],s="comma"===i&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||_I(o,kI(t[e],e,i,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const c=o.join(n.delimiter);let u=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),c.length>0?u+c:""}class CI extends C${constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class PI extends C${constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class $I{constructor(e){this._client=e}}class II extends $I{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}II||(II={});class RI extends $I{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}RI||(RI={});class TI extends $I{constructor(){super(...arguments),this.completions=new RI(this._client)}}!function(e){e.Completions=RI}(TI||(TI={}));class AI extends $I{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}AI||(AI={});class NI extends $I{create(e,t){return this._client.post("/files",v$({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.list({},e):this._client.getAPIList("/files",jI,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await D$(t),o=await this.retrieve(e),Date.now()-a>n)throw new eI({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}}class jI extends CI{}!function(e){e.FileObjectsPage=jI}(NI||(NI={}));class MI extends $I{createVariation(e,t){return this._client.post("/images/variations",v$({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",v$({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}MI||(MI={});class LI extends $I{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}LI||(LI={});class FI extends $I{create(e,t){return this._client.post("/audio/transcriptions",v$({body:e,...t}))}}FI||(FI={});class zI extends $I{create(e,t){return this._client.post("/audio/translations",v$({body:e,...t}))}}zI||(zI={});class DI extends $I{constructor(){super(...arguments),this.transcriptions=new FI(this._client),this.translations=new zI(this._client),this.speech=new LI(this._client)}}!function(e){e.Transcriptions=FI,e.Translations=zI,e.Speech=LI}(DI||(DI={}));class BI extends $I{create(e,t){return this._client.post("/moderations",{body:e,...t})}}BI||(BI={});class HI extends $I{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",UI,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class UI extends CI{}!function(e){e.ModelsPage=UI}(HI||(HI={}));class WI extends $I{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return R$(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,VI,{query:t,...n})}}class VI extends PI{}!function(e){e.FineTuningJobCheckpointsPage=VI}(WI||(WI={}));class qI extends $I{constructor(){super(...arguments),this.checkpoints=new WI(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",KI,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return R$(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,XI,{query:t,...n})}}class KI extends PI{}class XI extends PI{}!function(e){e.FineTuningJobsPage=KI,e.FineTuningJobEventsPage=XI,e.Checkpoints=WI,e.FineTuningJobCheckpointsPage=VI}(qI||(qI={}));class ZI extends $I{constructor(){super(...arguments),this.jobs=new qI(this._client)}}!function(e){e.Jobs=qI,e.FineTuningJobsPage=KI,e.FineTuningJobEventsPage=XI}(ZI||(ZI={}));class GI extends $I{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.list({},e):this._client.getAPIList("/assistants",JI,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class JI extends PI{}function YI(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=JI}(GI||(GI={}));const QI=e=>"assistant"===e?.role,eR=e=>"function"===e?.role,tR=e=>"tool"===e?.role;var nR,rR,aR,oR,iR,sR,lR,cR,uR,dR,fR,hR,pR,mR=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},gR=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class vR{constructor(){nR.add(this),this.controller=new AbortController,rR.set(this,void 0),aR.set(this,(()=>{})),oR.set(this,(()=>{})),iR.set(this,void 0),sR.set(this,(()=>{})),lR.set(this,(()=>{})),cR.set(this,{}),uR.set(this,!1),dR.set(this,!1),fR.set(this,!1),hR.set(this,!1),mR(this,rR,new Promise(((e,t)=>{mR(this,aR,e,"f"),mR(this,oR,t,"f")})),"f"),mR(this,iR,new Promise(((e,t)=>{mR(this,sR,e,"f"),mR(this,lR,t,"f")})),"f"),gR(this,rR,"f").catch((()=>{})),gR(this,iR,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),gR(this,nR,"m",pR).bind(this))}),0)}_connected(){this.ended||(gR(this,aR,"f").call(this),this._emit("connect"))}get ended(){return gR(this,uR,"f")}get errored(){return gR(this,dR,"f")}get aborted(){return gR(this,fR,"f")}abort(){this.controller.abort()}on(e,t){return(gR(this,cR,"f")[e]||(gR(this,cR,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=gR(this,cR,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(gR(this,cR,"f")[e]||(gR(this,cR,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{mR(this,hR,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){mR(this,hR,!0,"f"),await gR(this,iR,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(gR(this,uR,"f"))return;"end"===e&&(mR(this,uR,!0,"f"),gR(this,sR,"f").call(this));const a=gR(this,cR,"f")[e];if(a&&(gR(this,cR,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return gR(this,hR,"f")||a?.length||Promise.reject(e),gR(this,oR,"f").call(this,e),gR(this,lR,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];gR(this,hR,"f")||a?.length||Promise.reject(e),gR(this,oR,"f").call(this,e),gR(this,lR,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function yR(e){return"auto-parseable-response-format"===e?.$brand}function bR(e){return"auto-parseable-tool"===e?.$brand}function wR(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new cI;if("content_filter"===e.finish_reason)throw new uI;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:bR(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?_R(t,e.message.content):null}}}));return{...e,choices:n}}function _R(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function xR(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return bR(n)||n?.function.strict||!1}function ER(e){return!!yR(e.response_format)||(e.tools?.some((e=>bR(e)||"function"===e.type&&!0===e.function.strict))??!1)}rR=new WeakMap,aR=new WeakMap,oR=new WeakMap,iR=new WeakMap,sR=new WeakMap,lR=new WeakMap,cR=new WeakMap,uR=new WeakMap,dR=new WeakMap,fR=new WeakMap,hR=new WeakMap,nR=new WeakSet,pR=function(e){if(mR(this,dR,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Y$),e instanceof Y$)return mR(this,fR,!0,"f"),this._emit("abort",e);if(e instanceof G$)return this._emit("error",e);if(e instanceof Error){const t=new G$(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new G$(String(e)))};var SR,kR,OR,CR,PR,$R,IR,RR,TR=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const AR=10;class NR extends vR{constructor(){super(...arguments),SR.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(eR(e)||tR(e))&&e.content)this._emit("functionCallResult",e.content);else if(QI(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(QI(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new G$("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),TR(this,SR,"m",kR).call(this)}async finalMessage(){return await this.done(),TR(this,SR,"m",OR).call(this)}async finalFunctionCall(){return await this.done(),TR(this,SR,"m",CR).call(this)}async finalFunctionCallResult(){return await this.done(),TR(this,SR,"m",PR).call(this)}async totalUsage(){return await this.done(),TR(this,SR,"m",$R).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=TR(this,SR,"m",OR).call(this);t&&this._emit("finalMessage",t);const n=TR(this,SR,"m",kR).call(this);n&&this._emit("finalContent",n);const r=TR(this,SR,"m",CR).call(this);r&&this._emit("finalFunctionCall",r);const a=TR(this,SR,"m",PR).call(this);null!=a&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",TR(this,SR,"m",$R).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),TR(this,SR,"m",IR).call(this,t);const a=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(wR(a,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:a="auto",stream:o,...i}=t,s="string"!==typeof a&&a?.name,{maxChatCompletions:l=AR}=n||{},c={};for(const f of t.functions)c[f.name||f.function.name]=f;const u=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){const t=await this._createChatCompletion(e,{...i,function_call:a,functions:u,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new G$("missing message in ChatCompletion response");if(!o.function_call)return;const{name:l,arguments:f}=o.function_call,h=c[l];if(!h){const e=`Invalid function_call: ${JSON.stringify(l)}. Available options are: ${u.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:l,content:e});continue}if(s&&s!==l){const e=`Invalid function_call: ${JSON.stringify(l)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,name:l,content:e});continue}let p;try{p=YI(h)?await h.parse(f):f}catch(d){this._addMessage({role:r,name:l,content:d instanceof Error?d.message:String(d)});continue}const m=await h.function(p,this),g=TR(this,SR,"m",RR).call(this,m);if(this._addMessage({role:r,name:l,content:g}),s)return}}async _runTools(e,t,n){const r="tool",{tool_choice:a="auto",stream:o,...i}=t,s="string"!==typeof a&&a?.function?.name,{maxChatCompletions:l=AR}=n||{},c=t.tools.map((e=>{if(bR(e)){if(!e.$callback)throw new G$("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),u={};for(const h of c)"function"===h.type&&(u[h.function.name||h.function.function.name]=h.function);const d="tools"in t?c.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const h of t.messages)this._addMessage(h,!1);for(let h=0;h<l;++h){const t=await this._createChatCompletion(e,{...i,tool_choice:a,tools:d,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new G$("missing message in ChatCompletion response");if(!o.tool_calls?.length)return;for(const e of o.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:a}=e.function,o=u[n];if(!o){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(u).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(s&&s!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let i;try{i=YI(o)?await o.parse(a):a}catch(f){const e=f instanceof Error?f.message:String(f);this._addMessage({role:r,tool_call_id:t,content:e});continue}const l=await o.function(i,this),c=TR(this,SR,"m",RR).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:c}),s)return}}}}SR=new WeakSet,kR=function(){return TR(this,SR,"m",OR).call(this).content??null},OR=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(QI(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new G$("stream ended without producing a ChatCompletionMessage with role=assistant")},CR=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(QI(t)&&t?.function_call)return t.function_call;if(QI(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},PR=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(eR(t)&&null!=t.content)return t.content;if(tR(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},$R=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},IR=function(e){if(null!=e.n&&e.n>1)throw new G$("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},RR=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class jR extends NR{static runFunctions(e,t,n){const r=new jR,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new jR,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),QI(e)&&e.content&&this._emit("content",e.content)}}const MR={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class LR extends Error{}class FR extends Error{}const zR=(e,t)=>{const n=e.length;let r=0;const a=e=>{throw new LR(`${e} at position ${r}`)},o=e=>{throw new FR(`${e} at position ${r}`)},i=()=>(d(),r>=n&&a("Unexpected end of input"),'"'===e[r]?s():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||MR.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||MR.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||MR.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||MR.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||MR.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||MR.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),s=()=>{const i=r;let s=!1;for(r++;r<n&&('"'!==e[r]||s&&"\\"===e[r-1]);)s="\\"===e[r]&&!s,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(i,++r-Number(s)))}catch(KM){o(String(KM))}else if(MR.STR&t)try{return JSON.parse(e.substring(i,r-Number(s))+'"')}catch(KM){return JSON.parse(e.substring(i,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{r++,d();const o={};try{for(;"}"!==e[r];){if(d(),r>=n&&MR.OBJ&t)return o;const a=s();d(),r++;try{const e=i();Object.defineProperty(o,a,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(KM){if(MR.OBJ&t)return o;throw KM}d(),","===e[r]&&r++}}catch(KM){if(MR.OBJ&t)return o;a("Expected '}' at end of object")}return r++,o},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(i()),d(),","===e[r]&&r++}catch(KM){if(MR.ARR&t)return n;a("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&MR.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(KM){if(MR.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(KM){}o(String(KM))}}const i=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||MR.NUM&t||a("Unterminated number literal");try{return JSON.parse(e.substring(i,r))}catch(KM){"-"===e.substring(i,r)&&MR.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(i,e.lastIndexOf("e")))}catch(KM){o(String(KM))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return i()},DR=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MR.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return zR(e.trim(),t)}(e,MR.ALL^MR.NUM);var BR,HR,UR,WR,VR,qR,KR,XR,ZR,GR,JR,YR,QR=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},eT=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class tT extends NR{constructor(e){super(),BR.add(this),HR.set(this,void 0),UR.set(this,void 0),WR.set(this,void 0),QR(this,HR,e,"f"),QR(this,UR,[],"f")}get currentChatCompletionSnapshot(){return eT(this,WR,"f")}static fromReadableStream(e){const t=new tT(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new tT(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),eT(this,BR,"m",VR).call(this);const a=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)eT(this,BR,"m",KR).call(this,o);if(a.controller.signal?.aborted)throw new Y$;return this._addChatCompletion(eT(this,BR,"m",GR).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),eT(this,BR,"m",VR).call(this),this._connected();const r=a$.fromReadableStream(e,this.controller);let a;for await(const o of r)a&&a!==o.id&&this._addChatCompletion(eT(this,BR,"m",GR).call(this)),eT(this,BR,"m",KR).call(this,o),a=o.id;if(r.controller.signal?.aborted)throw new Y$;return this._addChatCompletion(eT(this,BR,"m",GR).call(this))}[(HR=new WeakMap,UR=new WeakMap,WR=new WeakMap,BR=new WeakSet,VR=function(){this.ended||QR(this,WR,void 0,"f")},qR=function(e){let t=eT(this,UR,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},eT(this,UR,"f")[e.index]=t,t)},KR=function(e){if(this.ended)return;const t=eT(this,BR,"m",YR).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=eT(this,BR,"m",qR).call(this,e);e.finish_reason&&(eT(this,BR,"m",ZR).call(this,e),null!=r.current_tool_call_index&&eT(this,BR,"m",XR).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(eT(this,BR,"m",ZR).call(this,e),null!=r.current_tool_call_index&&eT(this,BR,"m",XR).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},XR=function(e,t){if(eT(this,BR,"m",qR).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=eT(this,HR,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:bR(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},ZR=function(e){const t=eT(this,BR,"m",qR).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=eT(this,BR,"m",JR).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},GR=function(){if(this.ended)throw new G$("stream has ended, this shouldn't happen");const e=eT(this,WR,"f");if(!e)throw new G$("request ended without sending any chunks");return QR(this,WR,void 0,"f"),QR(this,UR,[],"f"),function(e,t){const{id:n,choices:r,created:a,model:o,system_fingerprint:i,...s}=e,l={...s,id:n,choices:r.map((t=>{let{message:n,finish_reason:r,index:a,logprobs:o,...i}=t;if(!r)throw new G$(`missing finish_reason for choice ${a}`);const{content:s=null,function_call:l,tool_calls:c,...u}=n,d=n.role;if(!d)throw new G$(`missing role for choice ${a}`);if(l){const{arguments:e,name:t}=l;if(null==e)throw new G$(`missing function_call.arguments for choice ${a}`);if(!t)throw new G$(`missing function_call.name for choice ${a}`);return{...i,message:{content:s,function_call:{arguments:e,name:t},role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}}return c?{...i,index:a,finish_reason:r,logprobs:o,message:{...u,role:d,content:s,refusal:n.refusal??null,tool_calls:c.map(((t,n)=>{const{function:r,type:o,id:i,...s}=t,{arguments:l,name:c,...u}=r||{};if(null==i)throw new G$(`missing choices[${a}].tool_calls[${n}].id\n${nT(e)}`);if(null==o)throw new G$(`missing choices[${a}].tool_calls[${n}].type\n${nT(e)}`);if(null==c)throw new G$(`missing choices[${a}].tool_calls[${n}].function.name\n${nT(e)}`);if(null==l)throw new G$(`missing choices[${a}].tool_calls[${n}].function.arguments\n${nT(e)}`);return{...s,id:i,type:o,function:{...u,name:c,arguments:l}}}))}}:{...i,message:{...u,content:s,role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}})),created:a,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return function(e,t){return t&&ER(t)?wR(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}}(l,t)}(e,eT(this,HR,"f"))},JR=function(){const e=eT(this,HR,"f")?.response_format;return yR(e)?e:null},YR=function(e){var t,n,r,a;let o=eT(this,WR,"f");const{choices:i,...s}=e;o?Object.assign(o,s):o=QR(this,WR,{...s,choices:[]},"f");for(const{delta:l,finish_reason:c,index:u,logprobs:d=null,...f}of e.choices){let e=o.choices[u];if(e||(e=o.choices[u]={finish_reason:c,index:u,message:{},logprobs:d,...f}),d)if(e.logprobs){const{content:r,refusal:a,...o}=d;Object.assign(e.logprobs,o),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),a&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...a))}else e.logprobs=Object.assign({},d);if(c&&(e.finish_reason=c,eT(this,HR,"f")&&ER(eT(this,HR,"f")))){if("length"===c)throw new cI;if("content_filter"===c)throw new uI}if(Object.assign(e,f),!l)continue;const{content:i,refusal:s,function_call:h,role:p,tool_calls:m,...g}=l;if(Object.assign(e.message,g),s&&(e.message.refusal=(e.message.refusal||"")+s),p&&(e.message.role=p),h&&(e.message.function_call?(h.name&&(e.message.function_call.name=h.name),h.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=h.arguments)):e.message.function_call=h),i&&(e.message.content=(e.message.content||"")+i,!e.message.refusal&&eT(this,BR,"m",JR).call(this)&&(e.message.parsed=DR(e.message.content))),m){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:o,...i}of m){const s=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(s,i),n&&(s.id=n),r&&(s.type=r),o&&(s.function??(s.function={name:o.name??"",arguments:""})),o?.name&&(s.function.name=o.name),o?.arguments&&(s.function.arguments+=o.arguments,xR(eT(this,HR,"f"),s)&&(s.function.parsed_arguments=DR(s.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new a$(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function nT(e){return JSON.stringify(e)}class rT extends tT{static fromReadableStream(e){const t=new rT(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new rT(null),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new rT(t),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}}class aT extends $I{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new G$(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new G$(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>wR(t,e)))}runFunctions(e,t){return e.stream?rT.runFunctions(this._client,e,t):jR.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?rT.runTools(this._client,e,t):jR.runTools(this._client,e,t)}stream(e,t){return tT.createChatCompletion(this._client,e,t)}}class oT extends $I{constructor(){super(...arguments),this.completions=new aT(this._client)}}!function(e){e.Completions=aT}(oT||(oT={}));var iT,sT,lT,cT,uT,dT,fT,hT,pT,mT,gT,vT,yT,bT,wT,_T,xT,ET,ST,kT,OT,CT,PT=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},$T=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n};class IT extends vR{constructor(){super(...arguments),iT.add(this),sT.set(this,[]),lT.set(this,{}),cT.set(this,{}),uT.set(this,void 0),dT.set(this,void 0),fT.set(this,void 0),hT.set(this,void 0),pT.set(this,void 0),mT.set(this,void 0),gT.set(this,void 0),vT.set(this,void 0),yT.set(this,void 0)}[(sT=new WeakMap,lT=new WeakMap,cT=new WeakMap,uT=new WeakMap,dT=new WeakMap,fT=new WeakMap,hT=new WeakMap,pT=new WeakMap,mT=new WeakMap,gT=new WeakMap,vT=new WeakMap,yT=new WeakMap,iT=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new IT;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=a$.fromReadableStream(e,this.controller);for await(const a of r)PT(this,iT,"m",bT).call(this,a);if(r.controller.signal?.aborted)throw new Y$;return this._addRun(PT(this,iT,"m",wT).call(this))}toReadableStream(){return new a$(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,a){const o=new IT;return o._run((()=>o._runToolAssistantStream(e,t,n,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}async _createToolAssistantStream(e,t,n,r,a){const o=a?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...r,stream:!0},s=await e.submitToolOutputs(t,n,i,{...a,signal:this.controller.signal});this._connected();for await(const l of s)PT(this,iT,"m",bT).call(this,l);if(s.controller.signal?.aborted)throw new Y$;return this._addRun(PT(this,iT,"m",wT).call(this))}static createThreadAssistantStream(e,t,n){const r=new IT;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const a=new IT;return a._run((()=>a._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),a}currentEvent(){return PT(this,gT,"f")}currentRun(){return PT(this,vT,"f")}currentMessageSnapshot(){return PT(this,uT,"f")}currentRunStepSnapshot(){return PT(this,yT,"f")}async finalRunSteps(){return await this.done(),Object.values(PT(this,lT,"f"))}async finalMessages(){return await this.done(),Object.values(PT(this,cT,"f"))}async finalRun(){if(await this.done(),!PT(this,dT,"f"))throw Error("Final run was not received.");return PT(this,dT,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const a={...t,stream:!0},o=await e.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const i of o)PT(this,iT,"m",bT).call(this,i);if(o.controller.signal?.aborted)throw new Y$;return this._addRun(PT(this,iT,"m",wT).call(this))}async _createAssistantStream(e,t,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},i=await e.create(t,o,{...r,signal:this.controller.signal});this._connected();for await(const s of i)PT(this,iT,"m",bT).call(this,s);if(i.controller.signal?.aborted)throw new Y$;return this._addRun(PT(this,iT,"m",wT).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!Z$(t)||!Z$(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!Z$(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,a){return await this._createToolAssistantStream(n,e,t,r,a)}}bT=function(e){if(!this.ended)switch($T(this,gT,e,"f"),PT(this,iT,"m",ET).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":PT(this,iT,"m",CT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":PT(this,iT,"m",xT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":PT(this,iT,"m",_T).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},wT=function(){if(this.ended)throw new G$("stream has ended, this shouldn't happen");if(!PT(this,dT,"f"))throw Error("Final run has not been received");return PT(this,dT,"f")},_T=function(e){const[t,n]=PT(this,iT,"m",kT).call(this,e,PT(this,uT,"f"));$T(this,uT,t,"f"),PT(this,cT,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=PT(this,fT,"f")){if(PT(this,hT,"f"))switch(PT(this,hT,"f").type){case"text":this._emit("textDone",PT(this,hT,"f").text,PT(this,uT,"f"));break;case"image_file":this._emit("imageFileDone",PT(this,hT,"f").image_file,PT(this,uT,"f"))}$T(this,fT,n.index,"f")}$T(this,hT,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==PT(this,fT,"f")){const t=e.data.content[PT(this,fT,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,PT(this,uT,"f"));break;case"text":this._emit("textDone",t.text,PT(this,uT,"f"))}}PT(this,uT,"f")&&this._emit("messageDone",e.data),$T(this,uT,void 0,"f")}},xT=function(e){const t=PT(this,iT,"m",ST).call(this,e);switch($T(this,yT,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==PT(this,pT,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(PT(this,mT,"f")&&this._emit("toolCallDone",PT(this,mT,"f")),$T(this,pT,e.index,"f"),$T(this,mT,t.step_details.tool_calls[e.index],"f"),PT(this,mT,"f")&&this._emit("toolCallCreated",PT(this,mT,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$T(this,yT,void 0,"f");"tool_calls"==e.data.step_details.type&&PT(this,mT,"f")&&(this._emit("toolCallDone",PT(this,mT,"f")),$T(this,mT,void 0,"f")),this._emit("runStepDone",e.data,t)}},ET=function(e){PT(this,sT,"f").push(e),this._emit("event",e)},ST=function(e){switch(e.event){case"thread.run.step.created":return PT(this,lT,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=PT(this,lT,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=IT.accumulateDelta(t,n.delta);PT(this,lT,"f")[e.data.id]=r}return PT(this,lT,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":PT(this,lT,"f")[e.data.id]=e.data}if(PT(this,lT,"f")[e.data.id])return PT(this,lT,"f")[e.data.id];throw new Error("No snapshot available")},kT=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=PT(this,iT,"m",OT).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},OT=function(e,t){return IT.accumulateDelta(t,e)},CT=function(e){switch($T(this,vT,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":$T(this,dT,e.data,"f"),PT(this,mT,"f")&&(this._emit("toolCallDone",PT(this,mT,"f")),$T(this,mT,void 0,"f"))}};class RT extends $I{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return R$(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,TT,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class TT extends PI{}!function(e){e.MessagesPage=TT}(RT||(RT={}));class AT extends $I{retrieve(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;return R$(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return R$(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,NT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class NT extends PI{}!function(e){e.RunStepsPage=NT}(AT||(AT={}));class jT extends $I{constructor(){super(...arguments),this.steps=new AT(this._client)}create(e,t,n){const{include:r,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:a,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return R$(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,MT,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return IT.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await D$(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,n){return IT.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const a=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,a.id,r)}submitToolOutputsStream(e,t,n,r){return IT.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class MT extends PI{}!function(e){e.RunsPage=MT,e.Steps=AT,e.RunStepsPage=NT}(jT||(jT={}));class LT extends $I{constructor(){super(...arguments),this.runs=new jT(this._client),this.messages=new RT(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return IT.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=jT,e.RunsPage=MT,e.Messages=RT,e.MessagesPage=TT}(LT||(LT={}));class FT extends $I{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return R$(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,zT,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const a=await this.retrieve(e,t,{...n,headers:r}).withResponse(),o=a.data;switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await D$(e);break;case"failed":case"completed":return o}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class zT extends PI{}!function(e){e.VectorStoreFilesPage=zT}(FT||(FT={}));class DT extends $I{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return R$(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,zT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(a.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await D$(e);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,t,n){let{files:r,fileIds:a=[]}=t;if(null==r||0==r.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=n?.maxConcurrency??5,i=Math.min(o,r.length),s=this._client,l=r.values(),c=[...a];const u=Array(i).fill(l).map((async function(e){for(let t of e){const e=await s.files.create({file:t,purpose:"assistants"},n);c.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of t)"fulfilled"===a.status&&r.push(a.value);return r})(u),await this.createAndPoll(e,{file_ids:c})}}DT||(DT={});class BT extends $I{constructor(){super(...arguments),this.files=new FT(this._client),this.fileBatches=new DT(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.list({},e):this._client.getAPIList("/vector_stores",HT,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class HT extends PI{}!function(e){e.VectorStoresPage=HT,e.Files=FT,e.VectorStoreFilesPage=zT,e.FileBatches=DT}(BT||(BT={}));class UT extends $I{constructor(){super(...arguments),this.vectorStores=new BT(this._client),this.chat=new oT(this._client),this.assistants=new GI(this._client),this.threads=new LT(this._client)}}!function(e){e.VectorStores=BT,e.VectorStoresPage=HT,e.Chat=oT,e.Assistants=GI,e.AssistantsPage=JI,e.Threads=LT}(UT||(UT={}));class WT extends $I{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return R$(e)?this.list({},e):this._client.getAPIList("/batches",VT,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class VT extends PI{}!function(e){e.BatchesPage=VT}(WT||(WT={}));class qT extends $I{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,v$({body:t,...n}))}}qT||(qT={});class KT extends $I{constructor(){super(...arguments),this.parts=new qT(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}var XT;!function(e){e.Parts=qT}(KT||(KT={}));class ZT extends O${constructor(){let{baseURL:e=U$("OPENAI_BASE_URL"),apiKey:t=U$("OPENAI_API_KEY"),organization:n=U$("OPENAI_ORG_ID")??null,project:r=U$("OPENAI_PROJECT_ID")??null,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new G$("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:t,organization:n,project:r,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new G$("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new II(this),this.chat=new TI(this),this.embeddings=new AI(this),this.files=new NI(this),this.images=new MI(this),this.audio=new DI(this),this.moderations=new BI(this),this.models=new HI(this),this.fineTuning=new ZI(this),this.beta=new UT(this),this.batches=new WT(this),this.uploads=new KT(this),this._options=o,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return OI(e,{arrayFormat:"brackets"})}}XT=ZT,ZT.OpenAI=XT,ZT.DEFAULT_TIMEOUT=6e5,ZT.OpenAIError=G$,ZT.APIError=J$,ZT.APIConnectionError=Q$,ZT.APIConnectionTimeoutError=eI,ZT.APIUserAbortError=Y$,ZT.NotFoundError=aI,ZT.ConflictError=oI,ZT.RateLimitError=sI,ZT.BadRequestError=tI,ZT.AuthenticationError=nI,ZT.InternalServerError=lI,ZT.PermissionDeniedError=rI,ZT.UnprocessableEntityError=iI,ZT.toFile=h$,ZT.fileFromPath=GP;const{vc:GT,LG:JT,xX:YT,qA:QT,cH:eA,m_:tA,fK:nA,OE:rA,v7:aA,v3:oA,PO:iA,Ll:sA,Is:lA}=r;!function(e){e.Page=CI,e.CursorPage=PI,e.Completions=II,e.Chat=TI,e.Embeddings=AI,e.Files=NI,e.FileObjectsPage=jI,e.Images=MI,e.Audio=DI,e.Moderations=BI,e.Models=HI,e.ModelsPage=UI,e.FineTuning=ZI,e.Beta=UT,e.Batches=WT,e.BatchesPage=VT,e.Uploads=KT}(ZT||(ZT={}));new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);function cA(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function uA(e,t,n,r,a){e[t]=n,cA(e,t,r,a)}function dA(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>dA(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return fA(e,t)}}const fA=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":uA(n,"minimum",r.value,r.message,t);break;case"max":uA(n,"maximum",r.value,r.message,t)}return n};let hA;const pA={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===hA&&(hA=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),hA),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function mA(e,t){const n={type:"string"};function r(e){return"escape"===t.patternStrategy?gA(e):e}if(e.checks)for(const a of e.checks)switch(a.kind){case"min":uA(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t);break;case"max":uA(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"email":switch(t.emailStrategy){case"format:email":vA(n,"email",a.message,t);break;case"format:idn-email":vA(n,"idn-email",a.message,t);break;case"pattern:zod":yA(n,pA.email,a.message,t)}break;case"url":vA(n,"uri",a.message,t);break;case"uuid":vA(n,"uuid",a.message,t);break;case"regex":yA(n,a.regex,a.message,t);break;case"cuid":yA(n,pA.cuid,a.message,t);break;case"cuid2":yA(n,pA.cuid2,a.message,t);break;case"startsWith":yA(n,RegExp(`^${r(a.value)}`),a.message,t);break;case"endsWith":yA(n,RegExp(`${r(a.value)}$`),a.message,t);break;case"datetime":vA(n,"date-time",a.message,t);break;case"date":vA(n,"date",a.message,t);break;case"time":vA(n,"time",a.message,t);break;case"duration":vA(n,"duration",a.message,t);break;case"length":uA(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t),uA(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"includes":yA(n,RegExp(r(a.value)),a.message,t);break;case"ip":"v6"!==a.version&&vA(n,"ipv4",a.message,t),"v4"!==a.version&&vA(n,"ipv6",a.message,t);break;case"emoji":yA(n,pA.emoji,a.message,t);break;case"ulid":yA(n,pA.ulid,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":vA(n,"binary",a.message,t);break;case"contentEncoding:base64":uA(n,"contentEncoding","base64",a.message,t);break;case"pattern:zod":yA(n,pA.base64,a.message,t)}break;case"nanoid":yA(n,pA.nanoid,a.message,t)}return n}const gA=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),vA=(e,t,n,r)=>{e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):uA(e,"format",t,n,r)},yA=(e,t,n,r)=>{e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:bA(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):uA(e,"pattern",bA(t,r),n,r)},bA=(e,t)=>{const n="function"===typeof e?e():e;if(!t.applyRegexFlags||!n.flags)return n.source;const r=n.flags.includes("i"),a=n.flags.includes("m"),o=n.flags.includes("s"),i=r?n.source.toLowerCase():n.source;let s="",l=!1,c=!1,u=!1;for(let d=0;d<i.length;d++)if(l)s+=i[d],l=!1;else{if(r)if(c){if(i[d].match(/[a-z]/)){u?(s+=i[d],s+=`${i[d-2]}-${i[d]}`.toUpperCase(),u=!1):"-"===i[d+1]&&i[d+2]?.match(/[a-z]/)?(s+=i[d],u=!0):s+=`${i[d]}${i[d].toUpperCase()}`;continue}}else if(i[d].match(/[a-z]/)){s+=`[${i[d]}${i[d].toUpperCase()}]`;continue}if(a){if("^"===i[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[d]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[d]?s+=c?`${i[d]}\r\n`:`[${i[d]}\r\n]`:(s+=i[d],"\\"===i[d]?l=!0:c&&"]"===i[d]?c=!1:c||"["!==i[d]||(c=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function wA(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===Lw.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((n,r)=>({...n,[r]:OA(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const n={type:"object",additionalProperties:OA(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===Lw.ZodString&&e.keyType._def.checks?.length){const r=Object.entries(mA(e.keyType._def,t)).reduce(((e,t)=>{let[n,r]=t;return"type"===n?e:{...e,[n]:r}}),{});return{...n,propertyNames:r}}return e.keyType?._def.typeName===Lw.ZodEnum?{...n,propertyNames:{enum:e.keyType._def.values}}:n}const _A={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};const xA=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>OA(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function EA(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:OA(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:OA(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}const SA=Symbol("Let zodToJsonSchema decide on which parser to use"),kA={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function OA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.seen.get(e);if(t.override){const a=t.override?.(e,t,r,n);if(a!==SA)return a}if(r&&!n){const e=CA(r,t);if(void 0!==e)return"$ref"in e&&t.seenRefs.add(e.$ref),e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const o=$A(e,e.typeName,t,n);return o&&IA(e,t,o),a.jsonSchema=o,o}const CA=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":const n=e.path.slice(t.basePath.length+1).join("_");return n!==t.name&&"duplicate-ref"===t.nameStrategy&&(t.definitions[n]=e.def),{$ref:[...t.basePath,t.definitionPath,n].join("/")};case"relative":return{$ref:PA(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},PA=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},$A=(e,t,n,r)=>{switch(t){case Lw.ZodString:return mA(e,n);case Lw.ZodNumber:return function(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",cA(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?uA(n,"minimum",r.value,r.message,t):uA(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),uA(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?uA(n,"maximum",r.value,r.message,t):uA(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),uA(n,"maximum",r.value,r.message,t));break;case"multipleOf":uA(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Lw.ZodObject:return function(e,t){const n={type:"object",...Object.entries(e.shape()).reduce(((e,n)=>{let[r,a]=n;if(void 0===a||void 0===a._def)return e;const o=OA(a._def,{...t,currentPath:[...t.currentPath,"properties",r],propertyPath:[...t.currentPath,"properties",r]});return void 0===o?e:{properties:{...e.properties,[r]:o},required:a.isOptional()&&!t.openaiStrictMode?e.required:[...e.required,r]}}),{properties:{},required:[]}),additionalProperties:EA(e,t)};return n.required.length||delete n.required,n}(e,n);case Lw.ZodBigInt:return function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?uA(n,"minimum",r.value,r.message,t):uA(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),uA(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?uA(n,"maximum",r.value,r.message,t):uA(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),uA(n,"maximum",r.value,r.message,t));break;case"multipleOf":uA(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Lw.ZodBoolean:return{type:"boolean"};case Lw.ZodDate:return dA(e,n);case Lw.ZodUndefined:return{not:{}};case Lw.ZodNull:return function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(n);case Lw.ZodArray:return function(e,t){const n={type:"array"};return e.type?._def?.typeName!==Lw.ZodAny&&(n.items=OA(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&uA(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&uA(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(uA(n,"minItems",e.exactLength.value,e.exactLength.message,t),uA(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case Lw.ZodUnion:case Lw.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return xA(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in _A&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=_A[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return xA(e,t)}(e,n);case Lw.ZodIntersection:return function(e,t){const n=[OA(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),OA(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach((e=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;a.push(t)}})),a.length?{allOf:a,...r}:void 0}(e,n);case Lw.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>OA(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:OA(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>OA(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case Lw.ZodRecord:return wA(e,n);case Lw.ZodLiteral:return function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case Lw.ZodEnum:return function(e){return{type:"string",enum:[...e.values]}}(e);case Lw.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])),r=n.map((e=>t[e])),a=Array.from(new Set(r.map((e=>typeof e))));return{type:1===a.length?"string"===a[0]?"string":"number":["string","number"],enum:r}}(e);case Lw.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target||"property"===t.nullableStrategy?{type:_A[e.innerType._def.typeName],nullable:!0}:{type:[_A[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=OA(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=OA(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case Lw.ZodOptional:return((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return OA(e.innerType._def,t);const n=OA(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}})(e,n);case Lw.ZodMap:return function(e,t){return"record"===t.mapStrategy?wA(e,t):{type:"array",maxItems:125,items:{type:"array",items:[OA(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},OA(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case Lw.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:OA(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&uA(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&uA(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case Lw.ZodLazy:return OA(e.getter()._def,n);case Lw.ZodPromise:return function(e,t){return OA(e.type._def,t)}(e,n);case Lw.ZodNaN:case Lw.ZodNever:return{not:{}};case Lw.ZodEffects:return function(e,t,n){return"input"===t.effectStrategy?OA(e.schema._def,t,n):{}}(e,n,r);case Lw.ZodAny:case Lw.ZodUnknown:return{};case Lw.ZodDefault:return function(e,t){return{...OA(e.innerType._def,t),default:e.defaultValue()}}(e,n);case Lw.ZodBranded:return function(e,t){return OA(e.type._def,t)}(e,n);case Lw.ZodReadonly:case Lw.ZodCatch:return((e,t)=>OA(e.innerType._def,t))(e,n);case Lw.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return OA(e.in._def,t);if("output"===t.pipeStrategy)return OA(e.out._def,t);const n=OA(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,OA(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}})(e,n);case Lw.ZodFunction:case Lw.ZodVoid:case Lw.ZodSymbol:default:return}},IA=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),RA=e=>"_def"in e?e._def:e;const TA=e=>{const t=(e=>"string"===typeof e?{...kA,basePath:["#"],definitions:{},name:e}:{...kA,basePath:["#"],definitions:{},...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[RA(r),{def:RA(r),path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))}},AA=(e,t)=>{const n=TA(t),r="string"===typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,a=OA(e._def,void 0===r?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??{},o="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(a.title=o);const i=(()=>{if(function(e){if(!e)return!0;for(const t in e)return!1;return!0}(n.definitions))return;const e={},t=new Set;for(let r=0;r<500;r++){const r=Object.entries(n.definitions).filter((e=>{let[n]=e;return!t.has(n)}));if(0===r.length)break;for(const[a,o]of r)e[a]=OA(RA(o),{...n,currentPath:[...n.basePath,n.definitionPath,a]},!0)??{},t.add(a)}return e})(),s=void 0===r?i?{...a,[n.definitionPath]:i}:a:"duplicate-ref"===n.nameStrategy?{...a,...i||n.seenRefs.size?{[n.definitionPath]:{...i,...n.seenRefs.size?{[r]:a}:void 0}}:void 0}:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...i,[r]:a}};return"jsonSchema7"===n.target?s.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),s};function NA(e,t){return AA(e,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function jA(e,t,n){return function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n}({type:"json_schema",json_schema:{...n,name:t,strict:!0,schema:NA(e,{name:t})}},(t=>e.parse(JSON.parse(t))))}function MA(e){return function(e,t){let{parser:n,callback:r}=t;const a={...e};return Object.defineProperties(a,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:n,enumerable:!1},$callback:{value:r,enumerable:!1}}),a}({type:"function",function:{name:e.name,parameters:NA(e.parameters,{name:e.name}),strict:!0,...e.description?{description:e.description}:void 0}},{callback:e.function,parser:t=>e.parameters.parse(JSON.parse(t))})}function LA(e){const{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:a,baseURL:o,azureADTokenProvider:i}=e;if((r||i)&&a&&t)return`${a}/${t}`;if(r||i){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${t}`}return o}function FA(e){let t;return e.constructor.name===QT.name?(t=new Error(e.message),t.name="TimeoutError"):e.constructor.name===eA.name?(t=new Error(e.message),t.name="AbortError"):t=e,t}function zA(e,t){const n=[];for(const[r,a]of Object.entries(e.properties??{}))a.description&&t<2&&n.push(`// ${a.description}`),e.required?.includes(r)?n.push(`${r}: ${DA(a,t)},`):n.push(`${r}?: ${DA(a,t)},`);return n.map((e=>" ".repeat(t)+e)).join("\n")}function DA(e,t){if(void 0!==(n=e).anyOf&&Array.isArray(n.anyOf))return e.anyOf.map((e=>DA(e,t))).join(" | ");var n;switch(e.type){case"string":return e.enum?e.enum.map((e=>`"${e}"`)).join(" | "):"string";case"number":case"integer":return e.enum?e.enum.map((e=>`${e}`)).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",zA(e,t+2),"}"].join("\n");case"array":return e.items?`${DA(e.items,t)}[]`:"any[]";default:return""}}function BA(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!cx.isInstance(e))throw new Error("Invalid generic chat message");return function(e){return"system"!==e.role&&"assistant"!==e.role&&"user"!==e.role&&"function"!==e.role&&"tool"!==e.role&&console.warn(`Unknown message role: ${e.role}`),e.role}(e);default:throw new Error(`Unknown message type: ${t}`)}}function HA(e,t,n){const r=e.tool_calls;if("assistant"===e.role){const a=[],o=[];for(const e of r??[])try{a.push(IP(e,{returnId:!0}))}catch(KM){o.push(TP(e,KM.message))}const i={function_call:e.function_call,tool_calls:r};let s;return void 0!==n&&(i.__raw_response=t),t.system_fingerprint&&(s={system_fingerprint:t.system_fingerprint}),new ix({content:e.content||"",tool_calls:a,invalid_tool_calls:o,additional_kwargs:i,response_metadata:s,id:t.id})}return new cx(e.content||"",e.role??"unknown")}function UA(e,t,n,r){const a=e.role??n,o=e.content??"";let i;if(i=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},r&&(i.__raw_response=t),"user"===a)return new hx({content:o});if("assistant"===a){const n=[];if(Array.isArray(e.tool_calls))for(const t of e.tool_calls)n.push({name:t.function?.name,args:t.function?.arguments,id:t.id,index:t.index,type:"tool_call_chunk"});return new lx({content:o,tool_call_chunks:n,additional_kwargs:i,id:t.id})}return"system"===a?new mx({content:o}):"function"===a?new dx({content:o,additional_kwargs:i,name:e.name}):"tool"===a?new ox({content:o,additional_kwargs:i,tool_call_id:e.tool_call_id}):new ux({content:o,role:a})}function WA(e){return e.map((e=>{const t={role:BA(e),content:e.content};return null!=e.name&&(t.name=e.name),null!=e.additional_kwargs.function_call&&(t.function_call=e.additional_kwargs.function_call,t.content=null),sx(e)&&e.tool_calls?.length?(t.tool_calls=e.tool_calls.map(RP),t.content=null):(null!=e.additional_kwargs.tool_calls&&(t.tool_calls=e.additional_kwargs.tool_calls),null!=e.tool_call_id&&(t.tool_call_id=e.tool_call_id)),t}))}function VA(e,t){return lO(e)?void 0!==t?.strict?{...e,function:{...e.function,strict:t.strict}}:e:function(e,t){let n;if(MP(e)){const r=MA({name:e.name,parameters:e.schema,description:e.description});n=r.function.parameters?{type:r.type,function:{name:r.function.name,description:r.function.description,parameters:r.function.parameters,...void 0!==t?.strict?{strict:t.strict}:{}}}:{type:"function",function:jP(e,t)}}else n=e;return void 0!==t?.strict&&(n.function.strict=t.strict),n}(e,t)}class qA extends hO{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??e?.configuration?.apiKey??cE("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=e?.azureOpenAIApiKey??cE("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??cE("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=e?.azureOpenAIApiDeploymentName??cE("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??cE("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??cE("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??cE("OPENAI_ORGANIZATION"),this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this?.stop,this.user=e?.user,this.__includeRawResponse=e?.__includeRawResponse,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??"",this.streamUsage=!1}this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration},void 0!==e?.supportsStrictToolCalling&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling)}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,t){let n;return void 0!==t?.strict?n=t.strict:void 0!==this.supportsStrictToolCalling&&(n=this.supportsStrictToolCalling),this.bind({tools:e.map((e=>VA(e,{strict:n}))),...t})}createResponseFormat(e){return e&&"json_schema"===e.type&&e.json_schema.schema&&KA(e.json_schema.schema)?jA(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}invocationParams(e,t){let n;void 0!==e?.strict?n=e.strict:void 0!==this.supportsStrictToolCalling&&(n=this.supportsStrictToolCalling);let r={};void 0!==e?.stream_options?r={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||t?.streaming)&&(r={stream_options:{include_usage:!0}});const a={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:e?.tools?.length?e.tools.map((e=>VA(e,{strict:n}))):void 0,tool_choice:(o=e?.tool_choice,o?"any"===o||"required"===o?"required":"auto"===o?"auto":"none"===o?"none":"string"===typeof o?{type:"function",function:{name:o}}:o:void 0),response_format:this.createResponseFormat(e?.response_format),seed:e?.seed,...r,parallel_tool_calls:e?.parallel_tool_calls,...this.modelKwargs};var o;return a}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){if(this.model.includes("o1-")){console.warn("[WARNING]: OpenAI o1 models do not yet support token-level streaming. Streaming will yield single chunk.");const r=xx((await this._generate(e,t,n)).generations[0].message);return void(yield new JS({message:r,text:"string"===typeof r.content?r.content:""}))}const r=WA(e),a={...this.invocationParams(t,{streaming:!0}),messages:r,stream:!0};let o;if(a.response_format&&"json_schema"===a.response_format.type){console.warn('OpenAI does not yet support streaming with "response_format" set to "json_schema". Falling back to non-streaming mode.');const r=await this._generate(e,t,n),a=new JS({message:new lx({...r.generations[0].message}),text:r.generations[0].text,generationInfo:r.generations[0].generationInfo});return yield a,n?.handleLLMNewToken(r.generations[0].text??"",void 0,void 0,void 0,void 0,{chunk:a})}const i=await this.completionWithRetry(a,t);let s;for await(const l of i){const e=l?.choices[0];if(l.usage&&(s=l.usage),!e)continue;const{delta:r}=e;if(!r)continue;const a=UA(r,l,o,this.__includeRawResponse);o=r.role??o;const i={prompt:t.promptIndex??0,completion:e.index??0};if("string"!==typeof a.content){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const c={...i};null!=e.finish_reason&&(c.finish_reason=e.finish_reason,c.system_fingerprint=l.system_fingerprint),this.logprobs&&(c.logprobs=e.logprobs);const u=new JS({message:a,text:a.content,generationInfo:c});yield u,await(n?.handleLLMNewToken(u.text??"",i,void 0,void 0,void 0,{chunk:u}))}if(s){const e=new JS({message:new lx({content:"",usage_metadata:{input_tokens:s.prompt_tokens,output_tokens:s.completion_tokens,total_tokens:s.total_tokens}}),text:""});yield e}if(t.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const r={},a=this.invocationParams(t),o=WA(e);if(a.stream){const a=this._streamResponseChunks(e,t,n),o={};for await(const e of a){e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};const t=e.generationInfo?.completion??0;void 0===o[t]?o[t]=e:o[t]=o[t].concat(e)}const i=Object.entries(o).sort(((e,t)=>{let[n]=e,[r]=t;return parseInt(n,10)-parseInt(r,10)})).map((e=>{let[t,n]=e;return n})),{functions:s,function_call:l}=this.invocationParams(t),c=await this.getEstimatedTokenCountFromPrompt(e,s,l),u=await this.getNumTokensFromGenerations(i);return r.promptTokens=c,r.completionTokens=u,r.totalTokens=c+u,{generations:i,llmOutput:{estimatedTokenUsage:r}}}{let e;e=t.response_format&&"json_schema"===t.response_format.type?await this.betaParsedCompletionWithRetry({...a,stream:!1,messages:o},{signal:t?.signal,...t?.options}):await this.completionWithRetry({...a,stream:!1,messages:o},{signal:t?.signal,...t?.options});const{completion_tokens:n,prompt_tokens:i,total_tokens:s}=e?.usage??{};n&&(r.completionTokens=(r.completionTokens??0)+n),i&&(r.promptTokens=(r.promptTokens??0)+i),s&&(r.totalTokens=(r.totalTokens??0)+s);const l=[];for(const t of e?.choices??[]){const n={text:t.message?.content??"",message:HA(t.message??{role:"assistant"},e,this.__includeRawResponse)};n.generationInfo={...t.finish_reason?{finish_reason:t.finish_reason}:{},...t.logprobs?{logprobs:t.logprobs}:{}},sx(n.message)&&(n.message.usage_metadata={input_tokens:r.promptTokens??0,output_tokens:r.completionTokens??0,total_tokens:r.totalTokens??0}),l.push(n)}return{generations:l,llmOutput:{tokenUsage:r}}}}async getEstimatedTokenCountFromPrompt(e,t,n){let r=(await this.getNumTokensFromMessages(e)).totalCount;if(t&&"auto"!==n){const e=function(e){const t=["namespace functions {",""];for(const n of e)n.description&&t.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(t.push(`type ${n.name} = (_: {`),t.push(zA(n.parameters,0)),t.push("}) => any;")):t.push(`type ${n.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join("\n")}(t);r+=await this.getNumTokens(e),r+=9}return t&&e.find((e=>"system"===e._getType()))&&(r-=4),"none"===n?r+=1:"object"===typeof n&&(r+=await this.getNumTokens(n.name)+4),r}async getNumTokensFromGenerations(e){return(await Promise.all(e.map((async e=>e.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([e.message])).countPerMessage[0]:await this.getNumTokens(e.message.content))))).reduce(((e,t)=>e+t),0)}async getNumTokensFromMessages(e){let t=0,n=0,r=0;"gpt-3.5-turbo-0301"===this.model?(n=4,r=-1):(n=3,r=1);const a=await Promise.all(e.map((async e=>{const a=await this.getNumTokens(e.content),o=await this.getNumTokens(BA(e)),i=void 0!==e.name?r+await this.getNumTokens(e.name):0;let s=a+n+o+i;const l=e;if("function"===l._getType()&&(s-=2),l.additional_kwargs?.function_call&&(s+=3),l?.additional_kwargs.function_call?.name&&(s+=await this.getNumTokens(l.additional_kwargs.function_call?.name)),l.additional_kwargs.function_call?.arguments)try{s+=await this.getNumTokens(JSON.stringify(JSON.parse(l.additional_kwargs.function_call?.arguments)))}catch(c){console.error("Error parsing function arguments",c,JSON.stringify(l.additional_kwargs.function_call)),s+=await this.getNumTokens(l.additional_kwargs.function_call?.arguments)}return t+=s,s})));return t+=3,{totalCount:t,countPerMessage:a}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.chat.completions.create(e,n)}catch(KM){throw FA(KM)}}))}async betaParsedCompletionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.beta.chat.completions.parse(e,n)}catch(KM){throw FA(KM)}}))}_getClientOptions(e){if(!this.client){const e=LA({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,this.client=new ZT(t)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e)),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,t){let n,r,a,o;var i;let s,l;if(void 0!==(i=e)&&"object"===typeof i.schema?(n=e.schema,r=e.name,a=e.method,o=e.includeRaw):(n=e,r=t?.name,a=t?.method,o=t?.includeRaw),void 0!==t?.strict&&"jsonMode"===a)throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if("jsonMode"===a)s=this.bind({response_format:{type:"json_object"}}),l=KA(n)?PP.fromZodSchema(n):new $P;else if("jsonSchema"===a)s=this.bind({response_format:{type:"json_schema",json_schema:{name:r??"extract",description:n.description,schema:n,strict:t?.strict}}}),l=KA(n)?PP.fromZodSchema(n):new $P;else{let e=r??"extract";if(KA(n)){const r=B_(n);s=this.bind({tools:[{type:"function",function:{name:e,description:r.description,parameters:r}}],tool_choice:{type:"function",function:{name:e}},...void 0!==t?.strict?{strict:t.strict}:{}}),l=new NP({returnSingle:!0,keyName:e,zodSchema:n})}else{let r;"string"===typeof n.name&&"object"===typeof n.parameters&&null!=n.parameters?(r=n,e=n.name):(e=n.title??e,r={name:e,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:r}],tool_choice:{type:"function",function:{name:e}},...void 0!==t?.strict?{strict:t.strict}:{}}),l=new NP({returnSingle:!0,keyName:e})}}if(!o)return s.pipe(l);const c=dO.assign({parsed:(e,t)=>l.invoke(e.raw,t)}),u=dO.assign({parsed:()=>null}),d=c.withFallbacks({fallbacks:[u]});return $k.from([{raw:s},d])}}function KA(e){return"function"===typeof e?.parse}class XA extends cO{get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"verboseParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"content"}),this.verboseParsingErrors=e?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=e?.responseFormat??this.responseFormat}async invoke(e,t){let n,r;gx(e)?(n=e.id,r=e.args):r=e;const a=ak(t);return this.call(r,{...a,configurable:{...a.configurable,tool_call_id:n}})}async call(e,t,n){let r;try{r=await this.schema.parseAsync(e)}catch(KM){let n="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(n=`${n}\nDetails: ${KM.message}`),new vx(n,JSON.stringify(e))}const a=kS(t),o=await TS.configure(a.callbacks,this.callbacks,a.tags||n,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),i=await(o?.handleToolStart(this.toJSON(),"string"===typeof r?r:JSON.stringify(r),a.runId,void 0,void 0,void 0,a.runName));let s,l,c,u;delete a.runId;try{s=await this._call(r,i,a)}catch(KM){throw await(i?.handleToolError(KM)),KM}if("content_and_artifact"===this.responseFormat){if(!Array.isArray(s)||2!==s.length)throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.\nResult: ${JSON.stringify(s)}`);[l,c]=s}else l=s;a&&"configurable"in a&&(u=a.configurable.tool_call_id);const d=function(e){const{content:t,artifact:n,toolCallId:r}=e;return r?"string"===typeof t||Array.isArray(t)&&t.every((e=>"object"===typeof e))?new ax({content:t,artifact:n,tool_call_id:r,name:e.name}):new ax({content:GA(t),artifact:n,tool_call_id:r,name:e.name}):t}({content:l,artifact:c,toolCallId:u,name:this.name});return await(i?.handleToolEnd(d)),d}}class ZA extends XA{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:w_.object({input:w_.string().optional()}).transform((e=>e.input))})}call(e,t){return super.call("string"!==typeof e&&e?e:{input:e},t)}}function GA(e){try{return JSON.stringify(e,null,2)}catch(t){return`${e}`}}Object.defineProperty(class extends ZA{static lc_name(){return"DallEAPIWrapper"}constructor(e){void 0!==e?.responseFormat&&["url","b64_json"].includes(e.responseFormat)&&(e.dallEResponseFormat=e.responseFormat,e.responseFormat="content"),super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description."}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"dall-e-3"}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:"vivid"}),Object.defineProperty(this,"quality",{enumerable:!0,configurable:!0,writable:!0,value:"standard"}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:"1024x1024"}),Object.defineProperty(this,"dallEResponseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"url"}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t={apiKey:e?.apiKey??e?.openAIApiKey??cE("OPENAI_API_KEY"),organization:e?.organization??cE("OPENAI_ORGANIZATION"),dangerouslyAllowBrowser:!0,baseUrl:e?.baseUrl};this.client=new ZT(t),this.model=e?.model??e?.modelName??this.model,this.style=e?.style??this.style,this.quality=e?.quality??this.quality,this.n=e?.n??this.n,this.size=e?.size??this.size,this.dallEResponseFormat=e?.dallEResponseFormat??this.dallEResponseFormat,this.user=e?.user}processMultipleGeneratedUrls(e){return"url"===this.dallEResponseFormat?e.flatMap((e=>e.data.flatMap((e=>e.url?{type:"image_url",image_url:e.url}:[])).filter((e=>void 0!==e&&"image_url"===e.type&&"string"===typeof e.image_url&&void 0!==e.image_url)))):e.flatMap((e=>e.data.flatMap((e=>e.b64_json?{type:"image_url",image_url:{url:e.b64_json}}:[])).filter((e=>void 0!==e&&"image_url"===e.type&&"object"===typeof e.image_url&&"url"in e.image_url&&"string"===typeof e.image_url.url&&void 0!==e.image_url.url))))}async _call(e){const t={model:this.model,prompt:e,n:1,size:this.size,response_format:this.dallEResponseFormat,style:this.style,quality:this.quality,user:this.user};if(this.n>1){const e=await Promise.all(Array.from({length:this.n}).map((()=>this.client.images.generate(t))));return this.processMultipleGeneratedUrls(e)}const n=await this.client.images.generate(t);let r="";return"url"===this.dallEResponseFormat?[r]=n.data.map((e=>e.url)).filter((e=>"undefined"!==e)):[r]=n.data.map((e=>e.b64_json)).filter((e=>"undefined"!==e)),r}},"toolName",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"});const JA="0.27.3";let YA,QA,eN,tN,nN,rN,aN=!1,oN=null,iN=null,sN=null,lN=null,cN=null,uN=null,dN=null;class fN{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}YA||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(aN)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(YA)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${YA}'\``);aN=t.auto,YA=e.kind,QA=e.fetch,oN=e.Request,iN=e.Response,sN=e.Headers,lN=e.FormData,cN=e.Blob,eN=e.File,tN=e.ReadableStream,uN=e.getMultipartRequestOptions,nN=e.getDefaultAgent,rN=e.fileFromPath,dN=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n";let n,r,a,o;try{n=fetch,r=Request,a=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:o,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new fN(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class hN{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new hN((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new KN("Attempted to iterate over a response with no body");const n=new mN,r=new gN,a=vN(e.body);for await(const o of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,a=new Uint8Array(t.length+e.length);for(a.set(t),a.set(e,t.length),t=a;-1!==(r=pN(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(a))for(const e of r.decode(o)){const t=n.decode(e);t&&(yield t)}for(const o of r.flush()){const e=n.decode(o);e&&(yield e)}}(e,t)){if("completion"===n.event)try{yield JSON.parse(n.data)}catch(KM){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),KM}if("message_start"===n.event||"message_delta"===n.event||"message_stop"===n.event||"content_block_start"===n.event||"content_block_delta"===n.event||"content_block_stop"===n.event)try{yield JSON.parse(n.data)}catch(KM){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),KM}if("ping"!==n.event&&"error"===n.event)throw XN.generate(void 0,`SSE Error: ${n.data}`,n.data,$N(e.headers))}r=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new hN((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new gN,n=vN(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(KM){if(KM instanceof Error&&"AbortError"===KM.name)return;throw KM}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new hN((()=>r(e)),this.controller),new hN((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new tN({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}function pN(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class mN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class gN{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=gN.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(gN.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new KN(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new KN(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new KN("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function vN(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(KM){throw t.releaseLock(),KM}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}gN.NEWLINE_CHARS=new Set(["\n","\r"]),gN.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const yN=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,bN=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&wN(e),wN=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function _N(e,t,n){if(e=await e,bN(e))return e;if(yN(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=wN(r)?[await r.arrayBuffer()]:[r];return new eN(a,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(wN(e))t.push(await e.arrayBuffer());else{if(!EN(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return xN(e.name)||xN(e.filename)||xN(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new eN(r,t,n)}const xN=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,EN=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],SN=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag];async function kN(e){const{response:t}=e;if(e.options.stream)return VN("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):hN.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return VN("response",t.status,t.url,t.headers,e),e}const r=await t.text();return VN("response",t.status,t.url,t.headers,r),r}class ON extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kN;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new ON(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class CN{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:o}=e;this.baseURL=t,this.maxRetries=zN("maxRetries",n),this.timeout=zN("timeout",r),this.httpAgent=a,this.fetch=o??QA}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...NN(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${qN()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&wN(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:n,query:r,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:SN(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,i=this.calculateContentLength(o),s=this.buildURL(n,r);"timeout"in e&&zN("timeout",e.timeout);const l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??nN(s),u=l+1e3;"number"===typeof c?.options?.timeout&&u>(c.options.timeout??0)&&(c.options.timeout=u),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...o&&{body:o},headers:this.buildHeaders({options:e,headers:a,contentLength:i}),...c&&{agent:c},signal:e.signal??null},url:s,timeout:l}}buildHeaders(e){let{options:t,headers:n,contentLength:r}=e;const a={};r&&(a["content-length"]=r);return WN(a,this.defaultHeaders(t)),WN(a,n),SN(t.body)&&"node"!==YA&&delete a["content-type"],this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return XN.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new ON(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e;null==t&&(t=n.maxRetries??this.maxRetries),await this.prepareOptions(n);const{req:r,url:a,timeout:o}=this.buildRequest(n);if(await this.prepareRequest(r,{url:a,options:n}),VN("request",a,n,r.headers),n.signal?.aborted)throw new ZN;const i=new AbortController,s=await this.fetchWithTimeout(a,r,o,i).catch(DN);if(s instanceof Error){if(n.signal?.aborted)throw new ZN;if(t)return this.retryRequest(n,t);if("AbortError"===s.name)throw new JN;throw new GN({cause:s})}const l=$N(s.headers);if(!s.ok){if(t&&this.shouldRetry(s)){return VN(`response (error; ${`retrying, ${t} attempts remaining`})`,s.status,a,l),this.retryRequest(n,t,l)}const e=await s.text().catch((e=>DN(e).message)),r=jN(e),o=r?void 0:e;VN(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,s.status,a,l,o);throw this.makeStatusError(s.status,r,o,l)}return{response:s,options:n,controller:i}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new PN(this,n,e)}buildURL(e,t){const n=LN(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return HN(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new KN(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...o}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const i=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally((()=>{clearTimeout(i)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await FN(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${JA}`}}new WeakMap,Symbol.asyncIterator;class PN extends ON{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await kN(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const $N=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),IN=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":JA,"X-Stainless-OS":TN(Deno.build.os),"X-Stainless-Arch":RN(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":JA,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":JA,"X-Stainless-OS":TN(process.platform),"X-Stainless-Arch":RN(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":JA,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":JA,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const RN=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",TN=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let AN;const NN=()=>AN??(AN=IN()),jN=e=>{try{return JSON.parse(e)}catch(t){return}},MN=new RegExp("^(?:[a-z]+:)?//","i"),LN=e=>MN.test(e),FN=e=>new Promise((t=>setTimeout(t,e))),zN=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new KN(`${e} must be an integer`);if(t<0)throw new KN(`${e} must be a positive integer`);return t},DN=e=>e instanceof Error?e:new Error(e),BN=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function HN(e){if(!e)return!0;for(const t in e)return!1;return!0}function UN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function WN(e,t){for(const n in t){if(!UN(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}function VN(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`Anthropic:DEBUG:${e}`,...n)}}const qN=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));class KN extends Error{}class XN extends KN{constructor(e,t,n,r){super(`${XN.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["request-id"],this.error=t}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new GN({message:n,cause:DN(t)});const a=t;return 400===e?new YN(e,a,n,r):401===e?new QN(e,a,n,r):403===e?new ej(e,a,n,r):404===e?new tj(e,a,n,r):409===e?new nj(e,a,n,r):422===e?new rj(e,a,n,r):429===e?new aj(e,a,n,r):e>=500?new oj(e,a,n,r):new XN(e,a,n,r)}}class ZN extends XN{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class GN extends XN{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class JN extends GN{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class YN extends XN{constructor(){super(...arguments),this.status=400}}class QN extends XN{constructor(){super(...arguments),this.status=401}}class ej extends XN{constructor(){super(...arguments),this.status=403}}class tj extends XN{constructor(){super(...arguments),this.status=404}}class nj extends XN{constructor(){super(...arguments),this.status=409}}class rj extends XN{constructor(){super(...arguments),this.status=422}}class aj extends XN{constructor(){super(...arguments),this.status=429}}class oj extends XN{}class ij{constructor(e){this._client=e}}class sj extends ij{create(e,t){return this._client.post("/v1/complete",{body:e,timeout:this._client._options.timeout??6e5,...t,stream:e.stream??!1})}}sj||(sj={});const lj=e=>{if(0===e.length)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),lj(e);case"number":let n=t.value[t.value.length-1];if("."===n||"-"===n)return e=e.slice(0,e.length-1),lj(e);case"string":let r=e[e.length-2];if("delimiter"===r?.type)return e=e.slice(0,e.length-1),lj(e);if("brace"===r?.type&&"{"===r.value)return e=e.slice(0,e.length-1),lj(e);break;case"delimiter":return e=e.slice(0,e.length-1),lj(e)}return e},cj=e=>JSON.parse((e=>{let t="";return e.map((e=>{"string"===e.type?t+='"'+e.value+'"':t+=e.value})),t})((e=>{let t=[];return e.map((e=>{"brace"===e.type&&("{"===e.value?t.push("}"):t.splice(t.lastIndexOf("}"),1)),"paren"===e.type&&("["===e.value?t.push("]"):t.splice(t.lastIndexOf("]"),1))})),t.length>0&&t.reverse().map((t=>{"}"===t?e.push({type:"brace",value:"}"}):"]"===t&&e.push({type:"paren",value:"]"})})),e})(lj((e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if("\\"===r){t++;continue}if("{"===r){n.push({type:"brace",value:"{"}),t++;continue}if("}"===r){n.push({type:"brace",value:"}"}),t++;continue}if("["===r){n.push({type:"paren",value:"["}),t++;continue}if("]"===r){n.push({type:"paren",value:"]"}),t++;continue}if(":"===r){n.push({type:"separator",value:":"}),t++;continue}if(","===r){n.push({type:"delimiter",value:","}),t++;continue}if('"'===r){let a="",o=!1;for(r=e[++t];'"'!==r;){if(t===e.length){o=!0;break}if("\\"===r){if(t++,t===e.length){o=!0;break}a+=r+e[t],r=e[++t]}else a+=r,r=e[++t]}r=e[++t],o||n.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){t++;continue}let a=/[0-9]/;if(r&&a.test(r)||"-"===r||"."===r){let o="";for("-"===r&&(o+=r,r=e[++t]);r&&a.test(r)||"."===r;)o+=r,r=e[++t];n.push({type:"number",value:o});continue}let o=/[a-z]/i;if(r&&o.test(r)){let a="";for(;r&&o.test(r)&&t!==e.length;)a+=r,r=e[++t];if("true"!=a&&"false"!=a&&"null"!==a){t++;continue}n.push({type:"name",value:a})}else t++}return n})(e)))));var uj,dj,fj,hj,pj,mj,gj,vj,yj,bj,wj,_j,xj,Ej,Sj,kj,Oj,Cj,Pj,$j,Ij=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Rj=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const Tj="__json_buf";class Aj{constructor(){uj.add(this),this.messages=[],this.receivedMessages=[],dj.set(this,void 0),this.controller=new AbortController,fj.set(this,void 0),hj.set(this,(()=>{})),pj.set(this,(()=>{})),mj.set(this,void 0),gj.set(this,(()=>{})),vj.set(this,(()=>{})),yj.set(this,{}),bj.set(this,!1),wj.set(this,!1),_j.set(this,!1),xj.set(this,!1),kj.set(this,(e=>{if(Ij(this,wj,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new ZN),e instanceof ZN)return Ij(this,_j,!0,"f"),this._emit("abort",e);if(e instanceof KN)return this._emit("error",e);if(e instanceof Error){const t=new KN(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new KN(String(e)))})),Ij(this,fj,new Promise(((e,t)=>{Ij(this,hj,e,"f"),Ij(this,pj,t,"f")})),"f"),Ij(this,mj,new Promise(((e,t)=>{Ij(this,gj,e,"f"),Ij(this,vj,t,"f")})),"f"),Rj(this,fj,"f").catch((()=>{})),Rj(this,mj,"f").catch((()=>{}))}static fromReadableStream(e){const t=new Aj;return t._run((()=>t._fromReadableStream(e))),t}static createMessage(e,t,n){const r=new Aj;for(const a of t.messages)r._addMessageParam(a);return r._run((()=>r._createMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}_run(e){e().then((()=>{this._emitFinal(),this._emit("end")}),Rj(this,kj,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Rj(this,uj,"m",Oj).call(this);const a=await e.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)Rj(this,uj,"m",Cj).call(this,o);if(a.controller.signal?.aborted)throw new ZN;Rj(this,uj,"m",Pj).call(this)}_connected(){this.ended||(Rj(this,hj,"f").call(this),this._emit("connect"))}get ended(){return Rj(this,bj,"f")}get errored(){return Rj(this,wj,"f")}get aborted(){return Rj(this,_j,"f")}abort(){this.controller.abort()}on(e,t){return(Rj(this,yj,"f")[e]||(Rj(this,yj,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Rj(this,yj,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(Rj(this,yj,"f")[e]||(Rj(this,yj,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{Ij(this,xj,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){Ij(this,xj,!0,"f"),await Rj(this,mj,"f")}get currentMessage(){return Rj(this,dj,"f")}async finalMessage(){return await this.done(),Rj(this,uj,"m",Ej).call(this)}async finalText(){return await this.done(),Rj(this,uj,"m",Sj).call(this)}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Rj(this,bj,"f"))return;"end"===e&&(Ij(this,bj,!0,"f"),Rj(this,gj,"f").call(this));const a=Rj(this,yj,"f")[e];if(a&&(Rj(this,yj,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return Rj(this,xj,"f")||a?.length||Promise.reject(e),Rj(this,pj,"f").call(this,e),Rj(this,vj,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];Rj(this,xj,"f")||a?.length||Promise.reject(e),Rj(this,pj,"f").call(this,e),Rj(this,vj,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Rj(this,uj,"m",Ej).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Rj(this,uj,"m",Oj).call(this),this._connected();const r=hN.fromReadableStream(e,this.controller);for await(const a of r)Rj(this,uj,"m",Cj).call(this,a);if(r.controller.signal?.aborted)throw new ZN;Rj(this,uj,"m",Pj).call(this)}[(dj=new WeakMap,fj=new WeakMap,hj=new WeakMap,pj=new WeakMap,mj=new WeakMap,gj=new WeakMap,vj=new WeakMap,yj=new WeakMap,bj=new WeakMap,wj=new WeakMap,_j=new WeakMap,xj=new WeakMap,kj=new WeakMap,uj=new WeakSet,Ej=function(){if(0===this.receivedMessages.length)throw new KN("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Sj=function(){if(0===this.receivedMessages.length)throw new KN("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter((e=>"text"===e.type)).map((e=>e.text));if(0===e.length)throw new KN("stream ended without producing a content block with type=text");return e.join(" ")},Oj=function(){this.ended||Ij(this,dj,void 0,"f")},Cj=function(e){if(this.ended)return;const t=Rj(this,uj,"m",$j).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);"text_delta"===e.delta.type&&"text"===n.type?this._emit("text",e.delta.text,n.text||""):"input_json_delta"===e.delta.type&&"tool_use"===n.type&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":Ij(this,dj,t,"f")}},Pj=function(){if(this.ended)throw new KN("stream has ended, this shouldn't happen");const e=Rj(this,dj,"f");if(!e)throw new KN("request ended without sending any chunks");return Ij(this,dj,void 0,"f"),e},$j=function(e){let t=Rj(this,dj,"f");if("message_start"===e.type){if(t)throw new KN(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new KN(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{const n=t.content.at(e.index);if("text"===n?.type&&"text_delta"===e.delta.type)n.text+=e.delta.text;else if("tool_use"===n?.type&&"input_json_delta"===e.delta.type){let t=n[Tj]||"";t+=e.delta.partial_json,Object.defineProperty(n,Tj,{value:t,enumerable:!1,writable:!0}),t&&(n.input=cj(t))}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new hN(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class Nj extends ij{create(e,t){return e.model in jj&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${jj[e.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:e,timeout:this._client._options.timeout??6e5,...t,stream:e.stream??!1})}stream(e,t){return Aj.createMessage(this,e,t)}}const jj={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024"};Nj||(Nj={});var Mj,Lj,Fj,zj,Dj,Bj,Hj,Uj,Wj,Vj,qj,Kj,Xj,Zj,Gj,Jj,Yj,Qj,eM,tM,nM=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},rM=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const aM="__json_buf";class oM{constructor(){Mj.add(this),this.messages=[],this.receivedMessages=[],Lj.set(this,void 0),this.controller=new AbortController,Fj.set(this,void 0),zj.set(this,(()=>{})),Dj.set(this,(()=>{})),Bj.set(this,void 0),Hj.set(this,(()=>{})),Uj.set(this,(()=>{})),Wj.set(this,{}),Vj.set(this,!1),qj.set(this,!1),Kj.set(this,!1),Xj.set(this,!1),Jj.set(this,(e=>{if(nM(this,qj,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new ZN),e instanceof ZN)return nM(this,Kj,!0,"f"),this._emit("abort",e);if(e instanceof KN)return this._emit("error",e);if(e instanceof Error){const t=new KN(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new KN(String(e)))})),nM(this,Fj,new Promise(((e,t)=>{nM(this,zj,e,"f"),nM(this,Dj,t,"f")})),"f"),nM(this,Bj,new Promise(((e,t)=>{nM(this,Hj,e,"f"),nM(this,Uj,t,"f")})),"f"),rM(this,Fj,"f").catch((()=>{})),rM(this,Bj,"f").catch((()=>{}))}static fromReadableStream(e){const t=new oM;return t._run((()=>t._fromReadableStream(e))),t}static createMessage(e,t,n){const r=new oM;for(const a of t.messages)r._addPromptCachingBetaMessageParam(a);return r._run((()=>r._createPromptCachingBetaMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}_run(e){e().then((()=>{this._emitFinal(),this._emit("end")}),rM(this,Jj,"f"))}_addPromptCachingBetaMessageParam(e){this.messages.push(e)}_addPromptCachingBetaMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.receivedMessages.push(e),t&&this._emit("message",e)}async _createPromptCachingBetaMessage(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),rM(this,Mj,"m",Yj).call(this);const a=await e.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)rM(this,Mj,"m",Qj).call(this,o);if(a.controller.signal?.aborted)throw new ZN;rM(this,Mj,"m",eM).call(this)}_connected(){this.ended||(rM(this,zj,"f").call(this),this._emit("connect"))}get ended(){return rM(this,Vj,"f")}get errored(){return rM(this,qj,"f")}get aborted(){return rM(this,Kj,"f")}abort(){this.controller.abort()}on(e,t){return(rM(this,Wj,"f")[e]||(rM(this,Wj,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=rM(this,Wj,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(rM(this,Wj,"f")[e]||(rM(this,Wj,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{nM(this,Xj,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){nM(this,Xj,!0,"f"),await rM(this,Bj,"f")}get currentMessage(){return rM(this,Lj,"f")}async finalMessage(){return await this.done(),rM(this,Mj,"m",Zj).call(this)}async finalText(){return await this.done(),rM(this,Mj,"m",Gj).call(this)}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(rM(this,Vj,"f"))return;"end"===e&&(nM(this,Vj,!0,"f"),rM(this,Hj,"f").call(this));const a=rM(this,Wj,"f")[e];if(a&&(rM(this,Wj,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return rM(this,Xj,"f")||a?.length||Promise.reject(e),rM(this,Dj,"f").call(this,e),rM(this,Uj,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];rM(this,Xj,"f")||a?.length||Promise.reject(e),rM(this,Dj,"f").call(this,e),rM(this,Uj,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalPromptCachingBetaMessage",rM(this,Mj,"m",Zj).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),rM(this,Mj,"m",Yj).call(this),this._connected();const r=hN.fromReadableStream(e,this.controller);for await(const a of r)rM(this,Mj,"m",Qj).call(this,a);if(r.controller.signal?.aborted)throw new ZN;rM(this,Mj,"m",eM).call(this)}[(Lj=new WeakMap,Fj=new WeakMap,zj=new WeakMap,Dj=new WeakMap,Bj=new WeakMap,Hj=new WeakMap,Uj=new WeakMap,Wj=new WeakMap,Vj=new WeakMap,qj=new WeakMap,Kj=new WeakMap,Xj=new WeakMap,Jj=new WeakMap,Mj=new WeakSet,Zj=function(){if(0===this.receivedMessages.length)throw new KN("stream ended without producing a PromptCachingBetaMessage with role=assistant");return this.receivedMessages.at(-1)},Gj=function(){if(0===this.receivedMessages.length)throw new KN("stream ended without producing a PromptCachingBetaMessage with role=assistant");const e=this.receivedMessages.at(-1).content.filter((e=>"text"===e.type)).map((e=>e.text));if(0===e.length)throw new KN("stream ended without producing a content block with type=text");return e.join(" ")},Yj=function(){this.ended||nM(this,Lj,void 0,"f")},Qj=function(e){if(this.ended)return;const t=rM(this,Mj,"m",tM).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);"text_delta"===e.delta.type&&"text"===n.type?this._emit("text",e.delta.text,n.text||""):"input_json_delta"===e.delta.type&&"tool_use"===n.type&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break}case"message_stop":this._addPromptCachingBetaMessageParam(t),this._addPromptCachingBetaMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":nM(this,Lj,t,"f")}},eM=function(){if(this.ended)throw new KN("stream has ended, this shouldn't happen");const e=rM(this,Lj,"f");if(!e)throw new KN("request ended without sending any chunks");return nM(this,Lj,void 0,"f"),e},tM=function(e){let t=rM(this,Lj,"f");if("message_start"===e.type){if(t)throw new KN(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new KN(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{const n=t.content.at(e.index);if("text"===n?.type&&"text_delta"===e.delta.type)n.text+=e.delta.text;else if("tool_use"===n?.type&&"input_json_delta"===e.delta.type){let t=n[aM]||"";t+=e.delta.partial_json,Object.defineProperty(n,aM,{value:t,enumerable:!1,writable:!0}),t&&(n.input=cj(t))}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new hN(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class iM extends ij{create(e,t){return this._client.post("/v1/messages?beta=prompt_caching",{body:e,timeout:this._client._options.timeout??6e5,...t,headers:{"anthropic-beta":"prompt-caching-2024-07-31",...t?.headers},stream:e.stream??!1})}stream(e,t){return oM.createMessage(this,e,t)}}iM||(iM={});class sM extends ij{constructor(){super(...arguments),this.messages=new iM(this._client)}}!function(e){e.Messages=iM}(sM||(sM={}));class lM extends ij{constructor(){super(...arguments),this.promptCaching=new sM(this._client)}}var cM;!function(e){e.PromptCaching=sM}(lM||(lM={}));class uM extends CN{constructor(){let{baseURL:e=BN("ANTHROPIC_BASE_URL"),apiKey:t=BN("ANTHROPIC_API_KEY")??null,authToken:n=BN("ANTHROPIC_AUTH_TOKEN")??null,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a={apiKey:t,authToken:n,...r,baseURL:e||"https://api.anthropic.com"};if(!a.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new KN("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n\nTODO: link!\n");super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new sj(this),this.messages=new Nj(this),this.beta=new lM(this),this._options=a,this.apiKey=t,this.authToken=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(e,t){if((!this.apiKey||!e["x-api-key"])&&null!==t["x-api-key"]&&(!this.authToken||!e.authorization)&&null!==t.authorization)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(e){const t=this.apiKeyAuth(e),n=this.bearerAuth(e);return null==t||HN(t)?null==n||HN(n)?{}:n:t}apiKeyAuth(e){return null==this.apiKey?{}:{"X-Api-Key":this.apiKey}}bearerAuth(e){return null==this.authToken?{}:{Authorization:`Bearer ${this.authToken}`}}}cM=uM,uM.Anthropic=cM,uM.HUMAN_PROMPT="\n\nHuman:",uM.AI_PROMPT="\n\nAssistant:",uM.DEFAULT_TIMEOUT=6e5,uM.AnthropicError=KN,uM.APIError=XN,uM.APIConnectionError=GN,uM.APIConnectionTimeoutError=JN,uM.APIUserAbortError=ZN,uM.NotFoundError=tj,uM.ConflictError=nj,uM.RateLimitError=aj,uM.BadRequestError=YN,uM.AuthenticationError=QN,uM.InternalServerError=oj,uM.PermissionDeniedError=ej,uM.UnprocessableEntityError=rj,uM.toFile=_N,uM.fileFromPath=rN;const{HUMAN_PROMPT:dM,AI_PROMPT:fM}=uM,{pJ:hM,LG:pM,xX:mM,qA:gM,cH:vM,m_:yM,fK:bM,OE:wM,v7:_M,v3:xM,PO:EM,Ll:SM,Is:kM}=a;!function(e){e.Completions=sj,e.Messages=Nj,e.Beta=lM}(uM||(uM={}));class OM extends JC{static lc_name(){return"AnthropicToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","anthropic","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){let t=e;if("string"===typeof e)try{t=JSON.parse(e)}catch(KM){throw new QC(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(KM.message)}`,e)}else t=e;if(void 0===this.zodSchema)return t;const n=await this.zodSchema.safeParseAsync(t);if(n.success)return n.data;throw new QC(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(t,null,2))}async parseResult(e){const t=e.flatMap((e=>{const{message:t}=e;if(!Array.isArray(t.content))return[];return CM(t.content)[0]}));if(void 0===t[0])throw new Error("No parseable tool calls provided to AnthropicToolsOutputParser.");const[n]=t;return await this._validateResult(n.args)}}function CM(e){const t=[];for(const n of e)"tool_use"===n.type&&t.push({name:n.name,args:n.input,id:n.id,type:"tool_call"});return t}function PM(e){let t;const n=Array.isArray(e.content)?e.content.find((e=>"tool_use"===e.type)):void 0;n&&"index"in n&&"name"in n&&"id"in n&&(t={args:"",id:n.id,name:n.name,index:n.index,type:"tool_call_chunk"});const r=Array.isArray(e.content)?e.content.find((e=>"input_json_delta"===e.type)):void 0;return r&&"index"in r&&"input"in r&&(t="string"===typeof r.input?{id:r.id,name:r.name,args:r.input,index:r.index,type:"tool_call_chunk"}:{id:r.id,name:r.name,args:JSON.stringify(r.input,null,2),index:r.index,type:"tool_call_chunk"}),t}function $M(e){const t=e.match(/^data:(image\/.+);base64,(.+)$/);if(null===t)throw new Error(["Anthropic only supports base64-encoded images currently.","Example: data:image/png;base64,/9j/4AAQSk..."].join("\n\n"));return{type:"base64",media_type:t[1]??"",data:t[2]??""}}function IM(e){if(void 0===e.id)throw new Error('Anthropic requires all tool calls to have an "id".');return{type:"tool_use",id:e.id,name:e.name,input:e.args}}function RM(e){const t=["tool_use","tool_result","input_json_delta"],n=["text","text_delta"];if("string"===typeof e)return e;return e.map((e=>{const r="cache_control"in e?e.cache_control:void 0;if("image_url"===e.type){let t;return t="string"===typeof e.image_url?$M(e.image_url):$M(e.image_url.url),{type:"image",source:t,...r?{cache_control:r}:{}}}if(n.find((t=>t===e.type))&&"text"in e)return{type:"text",text:e.text,...r?{cache_control:r}:{}};if(t.find((t=>t===e.type))){const t={...e};if("index"in t&&delete t.index,"input_json_delta"===t.type&&(t.type="tool_use"),"input"in t)try{t.input=JSON.parse(t.input)}catch{}return{...t,...r?{cache_control:r}:{}}}throw new Error("Unsupported message content format")}))}function TM(e){const t=function(e){const t=[];for(const n of e)if("tool"===n._getType())if("string"===typeof n.content){const e=t[t.length-1];"human"===e?._getType()&&Array.isArray(e.content)&&"type"in e.content[0]&&"tool_result"===e.content[0].type?e.content.push({type:"tool_result",content:n.content,tool_use_id:n.tool_call_id}):t.push(new fx({content:[{type:"tool_result",content:n.content,tool_use_id:n.tool_call_id}]}))}else t.push(new fx({content:n.content}));else{const e=t[t.length-1];if("human"===e?._getType()&&"human"===n._getType()){let t;t="string"===typeof e.content?[{type:"text",text:e.content}]:e.content,"string"===typeof n.content?t.push({type:"text",text:n.content}):t=t.concat(n.content),e.content=t}else t.push(n)}return t}(e);let n;t.length>0&&"system"===t[0]._getType()&&(n=e[0].content);return{messages:(void 0!==n?t.slice(1):t).map((e=>{let t;if("human"===e._getType())t="user";else if("ai"===e._getType())t="assistant";else{if("tool"!==e._getType())throw"system"===e._getType()?new Error("System messages are only permitted as the first passed message."):new Error(`Message type "${e._getType()}" is not supported.`);t="user"}if(sx(e)&&e.tool_calls?.length){if("string"===typeof e.content)return""===e.content?{role:t,content:e.tool_calls.map(IM)}:{role:t,content:[{type:"text",text:e.content},...e.tool_calls.map(IM)]};{const{content:n}=e;return!e.tool_calls.every((e=>n.find((t=>("tool_use"===t.type||"input_json_delta"===t.type)&&t.id===e.id))))&&console.warn('The "tool_calls" field on a message is only respected if content is a string.'),{role:t,content:RM(e.content)}}}return{role:t,content:RM(e.content)}})),system:n}}function AM(e,t){if("message_start"===e.type){const{content:n,usage:r,...a}=e.message,o={};for(const[e,t]of Object.entries(a))void 0!==t&&null!==t&&(o[e]=t);const i={input_tokens:r.input_tokens,output_tokens:r.output_tokens,total_tokens:r.input_tokens+r.output_tokens};return{chunk:new lx({content:t.coerceContentToString?"":[],additional_kwargs:o,usage_metadata:t.streamUsage?i:void 0,id:e.message.id})}}if("message_delta"===e.type){const n={input_tokens:0,output_tokens:e.usage.output_tokens,total_tokens:e.usage.output_tokens};return{chunk:new lx({content:t.coerceContentToString?"":[],additional_kwargs:{...e.delta},usage_metadata:t.streamUsage?n:void 0})}}if("content_block_start"===e.type&&"tool_use"===e.content_block.type)return{chunk:new lx({content:t.coerceContentToString?"":[{index:e.index,...e.content_block,input:""}],additional_kwargs:{}})};if("content_block_delta"===e.type&&"text_delta"===e.delta.type){const n=e.delta?.text;if(void 0!==n)return{chunk:new lx({content:t.coerceContentToString?n:[{index:e.index,...e.delta}],additional_kwargs:{}})}}else{if("content_block_delta"===e.type&&"input_json_delta"===e.delta.type)return{chunk:new lx({content:t.coerceContentToString?"":[{index:e.index,input:e.delta.partial_json,type:e.delta.type}],additional_kwargs:{}})};if("content_block_start"===e.type&&"text"===e.content_block.type){const n=e.content_block?.text;if(void 0!==n)return{chunk:new lx({content:t.coerceContentToString?n:[{index:e.index,...e.content_block}],additional_kwargs:{}})}}}return null}function NM(e){return"string"===typeof e.content?e.content:Array.isArray(e.content)&&e.content.length>=1&&"input"in e.content[0]?"string"===typeof e.content[0].input?e.content[0].input:JSON.stringify(e.content[0].input):Array.isArray(e.content)&&e.content.length>=1&&"text"in e.content[0]?e.content[0].text:void 0}class jM extends hO{static lc_name(){return"ChatAnthropic"}get lc_secrets(){return{anthropicApiKey:"ANTHROPIC_API_KEY",apiKey:"ANTHROPIC_API_KEY"}}get lc_aliases(){return{modelName:"model"}}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"anthropicApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"invocationKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamingClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"createClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.anthropicApiKey=e?.apiKey??e?.anthropicApiKey??cE("ANTHROPIC_API_KEY"),!this.anthropicApiKey&&!e?.createClient)throw new Error("Anthropic API key not found");this.clientOptions=e?.clientOptions??{},this.apiKey=this.anthropicApiKey,this.apiUrl=e?.anthropicApiUrl,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.invocationKwargs=e?.invocationKwargs??{},this.temperature=e?.temperature??this.temperature,this.topK=e?.topK??this.topK,this.topP=e?.topP??this.topP,this.maxTokens=e?.maxTokensToSample??e?.maxTokens??this.maxTokens,this.stopSequences=e?.stopSequences??this.stopSequences,this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.createClient=e?.createClient??(e=>new uM(e))}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"anthropic",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}formatStructuredToolToAnthropic(e){if(e&&e.length)return e.map((e=>{if(function(e){return"input_schema"in e}(e))return e;if(lO(e))return{name:e.function.name,description:e.function.description,input_schema:e.function.parameters};if(MP(e))return{name:e.name,description:e.description,input_schema:B_(e.schema)};throw new Error(`Unknown tool type passed to ChatAnthropic: ${JSON.stringify(e,null,2)}`)}))}bindTools(e,t){return this.bind({tools:this.formatStructuredToolToAnthropic(e),...t})}invocationParams(e){const t=(n=e?.tool_choice,n?"any"===n?{type:"any"}:"auto"===n?{type:"auto"}:"string"===typeof n?{type:"tool",name:n}:n:void 0);var n;return{model:this.model,temperature:this.temperature,top_k:this.topK,top_p:this.topP,stop_sequences:e?.stop??this.stopSequences,stream:this.streaming,max_tokens:this.maxTokens,tools:this.formatStructuredToolToAnthropic(e?.tools),tool_choice:t,...this.invocationKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams()}}identifyingParams(){return{model_name:this.model,...this.invocationParams()}}async*_streamResponseChunks(e,t,n){const r=this.invocationParams(t),a=TM(e),o=!function(e){return!!(e.tools&&e.tools.length>0)}({...r,...a,stream:!1}),i=await this.createStreamWithRetry({...r,...a,stream:!0},{headers:t.headers});for await(const s of i){if(t.signal?.aborted)throw i.controller.abort(),new Error("AbortError: User aborted the request.");const e=this.streamUsage??t.streamUsage,r=AM(s,{streamUsage:e,coerceContentToString:o});if(!r)continue;const{chunk:a}=r,l=PM(a),c=NM(a);yield new JS({message:new lx({content:a.content,additional_kwargs:a.additional_kwargs,tool_call_chunks:l?[l]:void 0,usage_metadata:e?a.usage_metadata:void 0,response_metadata:a.response_metadata,id:a.id}),text:c??""}),c&&await(n?.handleLLMNewToken(c))}}async _generateNonStreaming(e,t,n){const r=await this.completionWithRetry({...t,stream:!1,...TM(e)},n),{content:a,...o}=r,i=function(e,t){const n=t.usage,r=null!=n?{input_tokens:n.input_tokens??0,output_tokens:n.output_tokens??0,total_tokens:(n.input_tokens??0)+(n.output_tokens??0)}:void 0;if(1===e.length&&"text"===e[0].type)return[{text:e[0].text,message:new ix({content:e[0].text,additional_kwargs:t,usage_metadata:r,response_metadata:t,id:t.id})}];{const n=CM(e);return[{text:"",message:new ix({content:e,additional_kwargs:t,tool_calls:n,usage_metadata:r,response_metadata:t,id:t.id})}]}}(a,o),{role:s,type:l,...c}=o;return{generations:i,llmOutput:c}}async _generate(e,t,n){if(this.stopSequences&&t.stop)throw new Error('"stopSequence" parameter found in input and default params');const r=this.invocationParams(t);if(r.stream){let r;const a=this._streamResponseChunks(e,t,n);for await(const e of a)r=void 0===r?e:r.concat(e);if(void 0===r)throw new Error("No chunks returned from Anthropic API.");return{generations:[{text:r.text,message:r.message}]}}return this._generateNonStreaming(e,r,{signal:t.signal,headers:t.headers})}async createStreamWithRetry(e,t){if(!this.streamingClient){const e=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.streamingClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...e,apiKey:this.apiKey,maxRetries:0})}return this.caller.call((async()=>this.streamingClient.messages.create({...e,...this.invocationKwargs,stream:!0},t)))}async completionWithRetry(e,t){if(!this.batchClient){const e=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.batchClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...e,apiKey:this.apiKey,maxRetries:0})}return this.caller.callWithOptions({signal:t.signal??void 0},(async()=>this.batchClient.messages.create({...e,...this.invocationKwargs},t)))}_llmType(){return"anthropic"}withStructuredOutput(e,t){const n=e,r=t?.name,a=t?.method,o=t?.includeRaw;if("jsonMode"===a)throw new Error('Anthropic only supports "functionCalling" as a method.');let i,s,l=r??"extract";if(fO(n)){const e=B_(n);s=[{name:l,description:e.description??"A function available to call.",input_schema:e}],i=new OM({returnSingle:!0,keyName:l,zodSchema:n})}else{let e;"string"===typeof n.name&&"string"===typeof n.description&&"object"===typeof n.input_schema&&null!=n.input_schema?(e=n,l=n.name):e={name:l,description:n.description??"",input_schema:n},s=[e],i=new OM({returnSingle:!0,keyName:l})}const c=this.bind({tools:s,tool_choice:{type:"tool",name:l}});if(!o)return c.pipe(i).withConfig({runName:"ChatAnthropicStructuredOutput"});const u=dO.assign({parsed:(e,t)=>i.invoke(e.raw,t)}),d=dO.assign({parsed:()=>null}),f=u.withFallbacks({fallbacks:[d]});return $k.from([{raw:c},f]).withConfig({runName:"StructuredOutputRunnable"})}}class MM extends jM{}const LM=w_.object({id:w_.number(),name:w_.string(),folderId:w_.number()}).array(),FM="This is a list of folders.",zM=w_.object({id:w_.number(),name:w_.string(),type:w_.nativeEnum(zl),folderId:w_.number()}).array(),DM="This is a list of files.",BM=()=>{const[e,t,n]=Qy("api-key",""),[r,a,o]=Qy("model-provider","groq");return(0,Zg.jsxs)("div",{children:[(0,Zg.jsx)(Em,{defaultValue:r,style:{width:120},onChange:e=>a(e),options:[{value:"groq",label:"Groq"},{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic"}]}),(0,Zg.jsx)(Xg.Password,{onChange:e=>t(e.target.value),value:e,placeholder:"Enter your API key",iconRender:e=>e?(0,Zg.jsx)(Xy,{}):(0,Zg.jsx)(xg,{})})]})},HM=e=>{let{onDataLoaded:t}=e;const[n]=Qy("api-key",""),[r]=Qy("model-provider","groq");return(0,Zg.jsx)(Vy,{title:"Only tested with Groq, which has free tier API without subscription",description:(0,Zg.jsx)(BM,{}),onConfirm:async()=>{const e=await(async(e,t)=>{let n;switch(e){case"groq":n=new BP({apiKey:t,modelName:"llama3-8b-8192"});break;case"openai":n=new qA({openAIApiKey:t,modelName:"gpt-3.5-turbo-instruct"});break;case"anthropic":n=new MM({apiKey:t,modelName:"claude-3-opus-20240229"});break;default:throw new Error(`Invalid model provider: ${e}`)}const r=JSON.stringify(B_(LM,FM),null,"\t"),a=JSON.stringify(B_(zM,DM),null,"\t"),o=await n.invoke([new fx({content:`\n        Given a user prompt, you will return fully valid JSON based on the following description and schema. \n        You will return no other prose. You will take into account any descriptions or required parameters within the schema \n        and return a valid and fully escaped JSON object that matches the schema and those instructions.\n        \n        Schema 1, folders list:\n        description: ${FM}\n        json schema: ${r}\n        \n        Schema 2, files list:\n        description: ${DM}\n        json schema: ${a}\n        \n        FileType enum is: ${JSON.stringify(zl,null,"\t")}\n\n        Generate me realistically looking list of 10 folders with human named names. Some folders should be located inside other folders. There should be at least 3 folders at the root level.\n        Generate me realistically looking list of 30 files with human named names. Those files should be located inside previously generated folders. Those files should be compatible with usual limitations of the file systems and be unique inside the folder. Those files should have realistic non-generic names, not like "file1.txt", but be creative like "Report_August2024.docx" or something similar.\n        Place both lists in a valid JSON object with keys "files" and "folders". Return only single JSON object in a single message that only contains that valid JSON object and nothing else.\n        `})]);let i;console.log(o.lc_kwargs.content);try{i=JSON.parse(o.lc_kwargs.content),console.log("normal json",i)}catch(s){console.warn("llm is too talkative",s),i=JSON.parse(o.lc_kwargs.content.split("```")[1]),console.log("parsed json",i)}return i})(r,n);e&&t(e)},children:(0,Zg.jsx)(rl,{type:"primary",children:"Generate folder and files data using ChatGPT"})})},UM=e=>(t,n,r)=>!(e.value.length>0&&!t.name.toLocaleLowerCase().includes(e.value.trim().toLocaleLowerCase()))&&!(e.options.length>0&&!e.options.includes(t.type.toString())),WM=e=>{const t=jv(e.folders);return Mv(t,e.files),t};function VM(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)({value:"",options:[]});(0,o.useEffect)((()=>{Promise.all([(async()=>await Bl())(),(async()=>await Dl())()]).then((e=>{let[n,r]=e;t(WM({folders:n,files:r})),i(!1)}))}),[]);return(0,Zg.jsx)("div",{className:"App",children:(0,Zg.jsxs)(mo,{style:{minWidth:"320px",width:"fit-content",margin:"0 auto",padding:24},children:[(0,Zg.jsxs)(mo.Header,{style:{background:"#fff",padding:0,display:"flex",flexDirection:"column",height:"fit-content"},children:[(0,Zg.jsx)(HM,{onDataLoaded:e=>t(WM(e))}),(0,Zg.jsx)(Yg,{disabled:a,onChange:e=>l(e)}),(0,Zg.jsx)(rl,{disabled:a,onClick:()=>{r(null===n||!n)},className:null!==n?"":"inactive",icon:null!==n?(0,Zg.jsx)(jl,{}):(0,Zg.jsx)(Fl,{}),children:"Toggle All"})]}),(0,Zg.jsx)(mo.Content,{children:(0,Zg.jsx)("div",{style:{background:"#fff",minHeight:280,padding:"20px"},children:a?(0,Zg.jsx)(Tl,{active:!0}):(0,Zg.jsx)(Av,{folders:e,filterFn:UM(s),onToggleReset:()=>{r(null)},toggleAllState:n,className:"folder-tree"})})})]})})}const qM=document.getElementById("root");s.createRoot(qM).render((0,Zg.jsx)(o.StrictMode,{children:(0,Zg.jsx)(VM,{})}))})()})();
//# sourceMappingURL=main.0350b77c.js.map